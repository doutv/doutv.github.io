<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>number-of-sub-arrays-with-odd-sum</title>
      <link href="/2020/07/27/2020/number-of-sub-arrays-with-odd-sum/"/>
      <url>/2020/07/27/2020/number-of-sub-arrays-with-odd-sum/</url>
      
        <content type="html"><![CDATA[<h1 id="1524-å’Œä¸ºå¥‡æ•°çš„å­æ•°ç»„æ•°ç›®"><a href="#1524-å’Œä¸ºå¥‡æ•°çš„å­æ•°ç»„æ•°ç›®" class="headerlink" title="1524.å’Œä¸ºå¥‡æ•°çš„å­æ•°ç»„æ•°ç›®"></a><a href="https://leetcode-cn.com/problems/number-of-sub-arrays-with-odd-sum/" target="_blank" rel="noopener">1524.å’Œä¸ºå¥‡æ•°çš„å­æ•°ç»„æ•°ç›®</a></h1><p>é¢˜ç›®çœ‹èµ·æ¥å¾ˆç®€å•ï¼Œä½†æ˜¯åšèµ·æ¥å¯å°±ä¸ç®€å•äº†</p><p>æˆ‘çš„æ€è·¯æ˜¯ï¼šå¥‡æ•°+å¶æ•°=å¥‡æ•°ï¼Œå¥‡æ•°=å¥‡æ•°ï¼Œæ ¹æ®è¿™ä¸ªè§„å¾‹æ¥æ‰¾dpæ–¹ç¨‹ï¼Œæƒ³äº†ä¸¤ä¸ªdpæ–¹ç¨‹éƒ½ä¸å¯¹â€¦â€¦</p><p>ä¸€çœ‹é¢˜è§£ï¼Œé˜”ç„¶å¼€æœ—ã€‚</p><ol><li>åˆ©ç”¨å‰ç¼€å’Œçš„æ€§è´¨ï¼š$sum[i..j]=sum[j]-sum[i-1]$ã€‚</li><li>å¥‡æ•°-å¶æ•°=å¥‡æ•°ï¼Œå¶æ•°-å¥‡æ•°=å¥‡æ•°ã€‚</li><li>æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦è®°å½•$[0â€¦i-1]$çš„å‰ç¼€å’Œä¸­æœ‰å¤šå°‘ä¸ªå¥‡æ•°$odd$å’Œå¶æ•°$even$ã€‚å¦‚æœ$sum[i]$æ˜¯å¥‡æ•°ï¼Œé‚£ä¹ˆä»¥$arr[i]$ä¸ºç»“å°¾çš„å­æ•°ç»„å’Œä¸ºå¥‡æ•°çš„æ•°ç›®ä¸º$even$ï¼›å¦‚æœ$sum[i]$æ˜¯å¶æ•°ï¼Œåˆ™ä¸º$odd$ã€‚</li></ol><p><a href="https://leetcode-cn.com/problems/number-of-sub-arrays-with-odd-sum/comments/" target="_blank" rel="noopener">ä»£ç æ¥æºäºè¯„è®ºåŒº</a></p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">numOfSubarrays</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">const</span> <span class="token keyword">int</span> mod<span class="token operator">=</span><span class="token number">1e9</span><span class="token operator">+</span><span class="token number">7</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> len <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> even <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> odd <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// å‰ç¼€å’Œå¥‡å¶ä¸ªæ•°</span>        <span class="token keyword">long</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// åˆ©ç”¨å‰ç¼€å’Œï¼Œå°†ä¹‹å‰çš„å‰ç¼€å’Œçš„å¥‡å¶æ•°é‡è®°å½•ä¸‹æ¥ï¼Œæ ¹æ®å½“å‰å­æ•°ç»„çš„å¥‡å¶ï¼Œ</span>        <span class="token comment" spellcheck="true">//å†ä½¿ç”¨ä¹‹å‰çš„æ›´å°å­æ•°ç»„å¥‡å¶ä¸ªæ•°ç®—å‡ºä»¥å½“å‰æ•°ä¸ºå°¾çš„å­æ•°ç»„çš„å¥‡å’Œä¸ªæ•°</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            sum <span class="token operator">+</span><span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>sum <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                res <span class="token operator">+</span><span class="token operator">=</span> odd<span class="token punctuation">;</span>                res <span class="token operator">%</span><span class="token operator">=</span> mod<span class="token punctuation">;</span>                even<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                res <span class="token operator">+</span><span class="token operator">=</span> even<span class="token punctuation">;</span>                res <span class="token operator">%</span><span class="token operator">=</span> mod<span class="token punctuation">;</span>                odd<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> res<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>number-of-good-leaf-nodes-pairs</title>
      <link href="/2020/07/26/2020/number-of-good-leaf-nodes-pairs/"/>
      <url>/2020/07/26/2020/number-of-good-leaf-nodes-pairs/</url>
      
        <content type="html"><![CDATA[<pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     TreeNode *left; *     TreeNode *right; *     TreeNode() : val(0), left(nullptr), right(nullptr) {} *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {} *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {} * }; */</span><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token keyword">int</span> M<span class="token operator">=</span><span class="token number">2050</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> ans<span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> e<span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> leaves<span class="token punctuation">;</span>    <span class="token keyword">bool</span> isleaf<span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> visited<span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> idx<span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">addedge</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">,</span><span class="token keyword">int</span> v<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        e<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>        e<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> <span class="token function">predfs</span><span class="token punctuation">(</span>TreeNode<span class="token operator">*</span> cur<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token operator">++</span>idx<span class="token punctuation">;</span>        <span class="token keyword">int</span> curidx<span class="token operator">=</span>idx<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token operator">-</span><span class="token operator">></span>left<span class="token operator">==</span><span class="token keyword">nullptr</span><span class="token operator">&amp;&amp;</span>cur<span class="token operator">-</span><span class="token operator">></span>right<span class="token operator">==</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            leaves<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>curidx<span class="token punctuation">)</span><span class="token punctuation">;</span>            isleaf<span class="token punctuation">[</span>curidx<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token operator">-</span><span class="token operator">></span>left<span class="token operator">!=</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token function">addedge</span><span class="token punctuation">(</span>curidx<span class="token punctuation">,</span> <span class="token function">predfs</span><span class="token punctuation">(</span>cur<span class="token operator">-</span><span class="token operator">></span>left<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token operator">-</span><span class="token operator">></span>right<span class="token operator">!=</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token function">addedge</span><span class="token punctuation">(</span>curidx<span class="token punctuation">,</span> <span class="token function">predfs</span><span class="token punctuation">(</span>cur<span class="token operator">-</span><span class="token operator">></span>right<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> curidx<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> <span class="token function">countPairs</span><span class="token punctuation">(</span>TreeNode<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">int</span> distance<span class="token punctuation">)</span>     <span class="token punctuation">{</span>        ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>        <span class="token function">predfs</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> leaf<span class="token operator">:</span>leaves<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token function">memset</span><span class="token punctuation">(</span>visited<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>visited<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> q<span class="token punctuation">;</span>            q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>leaf<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> d<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>d<span class="token operator">&lt;=</span>distance<span class="token punctuation">;</span>d<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">int</span> qsize<span class="token operator">=</span>q<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">while</span> <span class="token punctuation">(</span>qsize<span class="token operator">--</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    <span class="token keyword">int</span> cur<span class="token operator">=</span>q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    visited<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token operator">!=</span>leaf <span class="token operator">&amp;&amp;</span> isleaf<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token punctuation">)</span>                    <span class="token punctuation">{</span>                        <span class="token operator">++</span>ans<span class="token punctuation">;</span>                        <span class="token keyword">continue</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token operator">:</span>e<span class="token punctuation">[</span>cur<span class="token punctuation">]</span><span class="token punctuation">)</span>                    <span class="token punctuation">{</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span>                        <span class="token punctuation">{</span>                            visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>                            q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Find a Value of a Mysterious Function Closest to Target</title>
      <link href="/2020/07/20/2020/find-a-value-of-a-mysterious-function-closest-to-target/"/>
      <url>/2020/07/20/2020/find-a-value-of-a-mysterious-function-closest-to-target/</url>
      
        <content type="html"><![CDATA[<h1 id="1521-æ‰¾åˆ°æœ€æ¥è¿‘ç›®æ ‡å€¼çš„å‡½æ•°å€¼"><a href="#1521-æ‰¾åˆ°æœ€æ¥è¿‘ç›®æ ‡å€¼çš„å‡½æ•°å€¼" class="headerlink" title="1521. æ‰¾åˆ°æœ€æ¥è¿‘ç›®æ ‡å€¼çš„å‡½æ•°å€¼"></a><a href="https://leetcode-cn.com/problems/find-a-value-of-a-mysterious-function-closest-to-target/" target="_blank" rel="noopener">1521. æ‰¾åˆ°æœ€æ¥è¿‘ç›®æ ‡å€¼çš„å‡½æ•°å€¼</a></h1><p>å½“æ—¶å¡åœ¨ç¬¬ä¸‰é¢˜äº†ï¼Œç¬¬å››é¢˜è¿˜æ²¡çœ‹è¿‡ğŸ˜“</p><p>åé¢çœ‹äº†ä¸€ä¸‹é¢˜ç›®ï¼Œæ„Ÿè§‰è·Ÿå‰ç¼€å’Œç›¸å…³ï¼Œç„¶åæ‡’æ‡’çš„æˆ‘å°±å»çœ‹é¢˜è§£äº†~</p><h2 id="ä½è¿ç®—"><a href="#ä½è¿ç®—" class="headerlink" title="ä½è¿ç®—"></a>ä½è¿ç®—</h2><p><a href="https://leetcode-cn.com/problems/find-a-value-of-a-mysterious-function-closest-to-target/solution/10-xing-dai-ma-an-wei-yu-yun-suan-de-xing-zhi-by-2/" target="_blank" rel="noopener">è¿™ä¸ªé¢˜è§£</a>è®²å¾—å¾ˆå¥½ï¼Œå»ºè®®è®¤çœŸå¸æ”¶ã€‚</p><p>æ ¹æ®æŒ‰ä½ä¸çš„ä¸¤ä¸ªæ€§è´¨ï¼Œå°¤å…¶æ˜¯ç¬¬äºŒä¸ªæ€§è´¨ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥è½»æ¾åœ°éå†æ¯ä¸€ä¸ª<code>func(arr,l,r)</code>çš„å€¼ï¼Œä»è€Œå¾—åˆ°ç­”æ¡ˆã€‚</p><p>ä»£ç ç›´æ¥çœ‹ä¸Šé¢é¢˜è§£å°±å¥½ï¼Œæˆ‘åŸºæœ¬ç…§æŠ„çš„ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">closestToTarget</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token function">abs</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> valid<span class="token punctuation">{</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> new_valid<span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token operator">:</span>valid<span class="token punctuation">)</span>                new_valid<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>v<span class="token operator">&amp;</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            new_valid<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   new_valid<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span><span class="token function">unique</span><span class="token punctuation">(</span>new_valid<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>new_valid<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>new_valid<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token operator">:</span>new_valid<span class="token punctuation">)</span>                ans<span class="token operator">=</span><span class="token function">min</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span><span class="token function">abs</span><span class="token punctuation">(</span>v<span class="token operator">-</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="stè¡¨-äºŒåˆ†"><a href="#stè¡¨-äºŒåˆ†" class="headerlink" title="stè¡¨+äºŒåˆ†"></a>stè¡¨+äºŒåˆ†</h2><p>è¿™é‡ŒåŒæ ·éœ€è¦ç”¨åˆ°æŒ‰ä½ä¸&amp;çš„ä¸€ä¸ªæ€§è´¨ï¼š$x&amp;y \geq x$ and $x&amp;y \geq y$ã€‚æ‰€ä»¥æœ‰å•è°ƒæ€§$func(arr,l,r)\geq func(arr,l,r+1)$ã€‚</p><p>é¢˜ç›®è¦æ‰¾çš„æœ€å°å€¼$ans$å°±æ˜¯æœ€æ¥è¿‘$target$çš„$func(arr,l,r)$ï¼Œæ˜¾ç„¶è¿™ä¸ªæœ€å°å€¼$ans$ä¸€å®šå‡ºç°åœ¨æ¯”$target$å°çš„ç¬¬ä¸€ä¸ª$func$æˆ–æ¯”$target$å¤§çš„ç¬¬ä¸€ä¸ª$func$ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥äºŒåˆ†æŸ¥æ‰¾å‡ºæ¯”$target$å°çš„ç¬¬ä¸€ä¸ª$func(arr,l,r)$ï¼Œå†é€‰å‡º$|func(arr,l,r-1)-target|$å’Œ$|func(arr,l,r)-target|$ä¸¤è€…ä¸­çš„æœ€å°å€¼ã€‚</p><p>å¤ä¹ ä¸€ä¸‹å…³äºstè¡¨çš„çŸ¥è¯†ï¼š  </p><ul><li><a href="https://oi-wiki.org/ds/sparse-table/" target="_blank" rel="noopener">https://oi-wiki.org/ds/sparse-table/</a></li><li>stè¡¨æ˜¯ç”¨äºè§£å†³å¯é‡å¤è´¡çŒ®é—®é¢˜çš„æ•°æ®ç»“æ„ã€‚</li><li>å¯é‡å¤è´¡çŒ®é—®é¢˜æŒ‡å¯¹äºè¿ç®—$opt$ï¼Œæ»¡è¶³$x opt x = x$ï¼Œ$opt$è¿˜éœ€è¦æ»¡è¶³ç»“åˆå¾‹æ‰å¯ç”¨stè¡¨æ±‚è§£ã€‚</li><li>èƒ½ç”¨stè¡¨è§£å†³çš„å¯é‡å¤è´¡çŒ®é—®é¢˜æœ‰ï¼šæœ€å¤§å€¼$\max(x,x)=x$ï¼ŒGCDï¼ŒæŒ‰ä½ä¸ã€‚</li><li>stè¡¨å¯ä»¥è®©æˆ‘ä»¬åœ¨$O(1)$å†…æ±‚å‡ºæŸä¸ªåŒºé—´$[L,R]$å†…çš„æœ€å¤§$func(arr,l,r)$ $L\leq l \leq r \leq R$ã€‚</li></ul><p>å†æ ¹æ®$func$çš„å•è°ƒæ€§ï¼Œå›ºå®šå·¦ç«¯ç‚¹$l$ï¼ŒäºŒåˆ†æŸ¥æ‰¾$r$ä½¿$|func(arr,l,r)-target|$æœ€å°ã€‚æšä¸¾$l$éœ€è¦$O(N)$ï¼ŒäºŒåˆ†æŸ¥æ‰¾éœ€è¦$O(\log N)$ï¼Œstè¡¨æŸ¥æ‰¾ä¸€æ¬¡éœ€è¦$O(1)$,æ‰€ä»¥æ€»çš„å¤æ‚åº¦æ˜¯$O(N)<em>O(\log N)</em>O(1)=O(N\log N)$ã€‚</p><p><a href="https://leetcode-cn.com/problems/find-a-value-of-a-mysterious-function-closest-to-target/solution/mei-ju-qi-dian-rmq-er-fen-by-acw_wangdh15/" target="_blank" rel="noopener">å‚è€ƒé¢˜è§£</a></p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">closestToTarget</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span>     <span class="token punctuation">{</span>        <span class="token keyword">int</span> Logn<span class="token punctuation">[</span><span class="token number">100005</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> ans<span class="token operator">=</span>INT32_MAX<span class="token punctuation">;</span>        <span class="token keyword">int</span> n<span class="token operator">=</span>arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token function">st</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>            st<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        Logn<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        Logn<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>             Logn<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> Logn<span class="token punctuation">[</span>i <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span><span class="token number">20</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">+</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span>j<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>                st<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>st<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token number">-1</span><span class="token punctuation">]</span> <span class="token operator">&amp;</span> st<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>j<span class="token number">-1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token number">-1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// ç°å­¦çš„lambda function </span>        <span class="token keyword">auto</span> ask <span class="token operator">=</span> <span class="token punctuation">[</span>st<span class="token punctuation">,</span>Logn<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span><span class="token keyword">int</span> y<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token operator">></span>y<span class="token punctuation">)</span>                <span class="token keyword">return</span> INT32_MAX<span class="token punctuation">;</span>            <span class="token keyword">int</span> tmp<span class="token operator">=</span>Logn<span class="token punctuation">[</span>y<span class="token operator">-</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> st<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>tmp<span class="token punctuation">]</span> <span class="token operator">&amp;</span> st<span class="token punctuation">[</span>y<span class="token operator">-</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span>tmp<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>tmp<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> l<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>l<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>l<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">int</span> r_left<span class="token operator">=</span>l<span class="token punctuation">;</span>            <span class="token keyword">int</span> r_right<span class="token operator">=</span>n<span class="token number">-1</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>r_left<span class="token operator">&lt;</span>r_right<span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">int</span> mid<span class="token operator">=</span><span class="token punctuation">(</span>r_left<span class="token operator">+</span>r_right<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">ask</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span>mid<span class="token punctuation">)</span><span class="token operator">>=</span>target<span class="token punctuation">)</span>                    r_left<span class="token operator">=</span>mid<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>                <span class="token keyword">else</span>                    r_right<span class="token operator">=</span>mid<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">int</span> r<span class="token operator">=</span>r_right<span class="token punctuation">;</span>            ans<span class="token operator">=</span><span class="token function">min</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span><span class="token function">abs</span><span class="token punctuation">(</span>target<span class="token operator">-</span><span class="token function">ask</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span>r<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            ans<span class="token operator">=</span><span class="token function">min</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span><span class="token function">abs</span><span class="token punctuation">(</span>target<span class="token operator">-</span><span class="token function">ask</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span>r<span class="token number">-1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> Leetcode </tag>
            
            <tag> Competition </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Maximum Number of Non-Overlapping Substrings</title>
      <link href="/2020/07/20/2020/maximum-number-of-non-overlapping-substrings/"/>
      <url>/2020/07/20/2020/maximum-number-of-non-overlapping-substrings/</url>
      
        <content type="html"><![CDATA[<h1 id="5466-Maximum-Number-of-Non-Overlapping-Substrings"><a href="#5466-Maximum-Number-of-Non-Overlapping-Substrings" class="headerlink" title="5466. Maximum Number of Non-Overlapping Substrings"></a><a href="https://leetcode-cn.com/problems/maximum-number-of-non-overlapping-substrings/" target="_blank" rel="noopener">5466. Maximum Number of Non-Overlapping Substrings</a></h1><p>Leetcodeå‘¨èµ›P3ï¼Œæ‰ä¸€ç™¾å¤šäººåšå‡ºæ¥ï¼Œé¢˜ç›®å¾ˆæ–°é¢–ï¼Œå¹¶ä¸éœ€è¦ç”¨åˆ°å¾ˆé«˜æ·±çš„ç®—æ³•ï¼Œä½†æ˜¯å¯¹æ€ç»´è¦æ±‚é«˜ã€‚</p><ol><li>ä¸€å¼€å§‹æˆ‘æ˜¯æƒ³ç€è´ªå¿ƒçš„ï¼Œæˆ‘çš„æƒ³æ³•æ˜¯å­ä¸²åªåŒ…å«ä¸€ç§å­—ç¬¦ï¼Œè¿™æ ·æ„é€ å¾—åˆ°çš„å­ä¸²åº”è¯¥æ˜¯æœ€å¤šçš„ã€‚ç®—æ³•å¤§æ¦‚æ˜¯æšä¸¾æ¯ä¸€ä¸ªå‡ºç°çš„å­—ç¬¦çš„å³ç«¯ç‚¹<code>last[ch]</code>ï¼Œå‘å·¦æ‰©å±•åˆ°å·¦ç«¯ç‚¹ï¼Œè¦æ±‚è¿™æ®µå­—ç¬¦ä¸²æ»¡è¶³æ¡ä»¶2ã€‚äº¤ä¸Šå»ä¹‹åå‘ç°<code>&quot;abab&quot;</code>çš„ç­”æ¡ˆæ˜¯<code>[&quot;abab&quot;]</code>ï¼Œæˆ‘çš„è´ªå¿ƒæ˜¯è¿‡ä¸äº†è¿™ä¸ªæ ·ä¾‹çš„ã€‚</li><li>äºæ˜¯æˆ‘å°±å»æƒ³dpçš„åšæ³•äº†ï¼Œ<code>dp[i]</code>è¡¨ç¤ºå‰$[0,i]$ä¸­çš„æœ€å¤šå­ä¸²æ•°ç›®ï¼Œ$dp[i]=\max{dp[j]+1}$ å¦‚æœå­ä¸²$[j+1,i]$æ‰€æœ‰å‡ºç°çš„å­—ç¬¦éƒ½åªå‡ºç°åœ¨å­ä¸²ä¸­ï¼Œå¯¹äºæ‰€æœ‰çš„$i$, $dp[i]=dp[i-1]$. å¯ä»¥ç”¨ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—æ¥ä¿å­˜ä¹‹å‰çš„<code>dp[j]</code>ï¼Œæ¯æ¬¡åªå–$\geq dp[i-1]$çš„å‡ºæ¥ï¼Œæ£€æŸ¥$[j+1,i]$åŒºé—´æ˜¯å¦ç¬¦åˆæ¡ä»¶ã€‚ç„¶è€Œï¼Œè¿™æ ·åšè¿ç¬¬ä¸€ä¸ªæ ·ä¾‹éƒ½è¿‡ä¸å»ğŸ˜“ã€‚é¦–å…ˆï¼Œå¤æ‚åº¦å¯èƒ½ä¼šè¾¾åˆ°$O(N^2)$ï¼Œå…¶æ¬¡ï¼Œè¦å¾—åˆ°æœ€ä¼˜è§£çš„å­—ç¬¦ä¸²æ¯”è¾ƒéš¾ã€‚æŠŠä»£ç æ”¾è¿™çºªå¿µå§â€¦<pre class=" language-cpp"><code class="language-cpp">vector<span class="token operator">&lt;</span>string<span class="token operator">></span> <span class="token function">maxNumOfSubstrings</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span><span class="token punctuation">{</span> vector<span class="token operator">&lt;</span>string<span class="token operator">></span> ans<span class="token punctuation">;</span> <span class="token keyword">int</span> n <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">dp</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">fromdp</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> priority_queue<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">>></span><span class="token punctuation">,</span> greater<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">></span> q<span class="token punctuation">;</span> <span class="token keyword">int</span> first<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">,</span> last<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token function">memset</span><span class="token punctuation">(</span>first<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">memset</span><span class="token punctuation">(</span>last<span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>last<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token string">'a'</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token string">'z'</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     first<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>     last<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">rfind</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> i<span class="token number">-1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>i<span class="token operator">?</span>dp<span class="token punctuation">[</span>i<span class="token number">-1</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">;</span>     queue<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">>></span> tmpq<span class="token punctuation">;</span>     <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token punctuation">{</span>         <span class="token keyword">auto</span> <span class="token punctuation">[</span>pre<span class="token punctuation">,</span> le<span class="token punctuation">]</span> <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token keyword">if</span> <span class="token punctuation">(</span>pre <span class="token operator">&lt;</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>             <span class="token keyword">break</span><span class="token punctuation">;</span>         <span class="token keyword">bool</span> bo <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>         <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d\n"</span><span class="token punctuation">,</span>i<span class="token punctuation">,</span>le<span class="token punctuation">,</span>pre<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> le <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>         <span class="token punctuation">{</span>             <span class="token keyword">int</span> ch <span class="token operator">=</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">;</span>             <span class="token keyword">if</span> <span class="token punctuation">(</span>first<span class="token punctuation">[</span>ch<span class="token punctuation">]</span> <span class="token operator">></span> le <span class="token operator">&amp;&amp;</span> last<span class="token punctuation">[</span>ch<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> i<span class="token punctuation">)</span>                 <span class="token keyword">continue</span><span class="token punctuation">;</span>             <span class="token keyword">else</span>             <span class="token punctuation">{</span>                 bo <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                 <span class="token keyword">break</span><span class="token punctuation">;</span>             <span class="token punctuation">}</span>         <span class="token punctuation">}</span>         tmpq<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>pre<span class="token punctuation">,</span> le<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token keyword">if</span> <span class="token punctuation">(</span>bo<span class="token punctuation">)</span>             <span class="token keyword">continue</span><span class="token punctuation">;</span>         <span class="token keyword">else</span>         <span class="token punctuation">{</span>             dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> pre <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>             fromdp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> pre<span class="token punctuation">;</span>             q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token keyword">break</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span>     <span class="token punctuation">}</span>     <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>tmpq<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token punctuation">{</span>         q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>tmpq<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         tmpq<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span> <span class="token punctuation">}</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>     cout<span class="token operator">&lt;&lt;</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token punctuation">;</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">=</span> fromdp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>fromdp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> i <span class="token operator">-</span> fromdp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">return</span> ans<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li>è¯„è®ºåŒºçš„è´ªå¿ƒè§£æ³•$O(N)$:<ol><li>é¢„å¤„ç†å‡º<code>l[ch]</code>è¡¨ç¤ºå­—ç¬¦<code>ch</code>æœ€å·¦ä¾§çš„å‡ºç°ä½ç½®, <code>r[ch]</code>è¡¨ç¤ºæœ€å³ä¾§çš„å‡ºç°ä½ç½®ã€‚</li><li><code>get</code>å‡½æ•°å›ºå®šå­ä¸²çš„å·¦ç«¯ç‚¹<code>start</code>ï¼Œæ±‚è‡³å°‘åŒ…å«å·¦ç«¯ç‚¹çš„å­—ç¬¦<code>s[start]</code>çš„åˆæ³•å­ä¸²çš„å³ç«¯ç‚¹ã€‚</li><li>éå†å­—ç¬¦ä¸²ï¼Œåªæ‰¾ä»¥å½“å‰å­—ç¬¦<code>s[i]</code>åœ¨å­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„å­—ç¬¦å¼€å§‹çš„å­—ç¬¦ä¸²ï¼Œç”¨ä¸€ä¸ªç¥å¥‡çš„å˜é‡<code>right</code>æ¥è®°å½•å½“å‰ç­”æ¡ˆä¸­æœ€å³ä¾§å­—ç¬¦ä¸²çš„å³ç«¯ç‚¹ä½ç½®ã€‚å¦‚æœ<code>i&gt;right</code>è¯´æ˜å·²ç»èµ°å‡ºäº†ä¸Šä¸€ä¸ªå­—ç¬¦ä¸²çš„èŒƒå›´äº†ï¼Œå¯ä»¥å¼€å§‹ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸²äº†ã€‚</li><li>è´ªå¿ƒçš„æ­£ç¡®æ€§è¯æ˜ï¼šæˆ‘ä¸çŸ¥é“æ€ä¹ˆè¯æ˜ğŸ˜‚<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>vector<span class="token operator">&lt;</span>string<span class="token operator">></span> <span class="token function">maxNumOfSubstrings</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token keyword">int</span> l<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">,</span> r<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token function">memset</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span> l<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">memset</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//è®°å½•æ¯ä¸ªå­—ç¬¦ç¬¬ä¸€æ¬¡å’Œæœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®</span>      <span class="token keyword">int</span> x <span class="token operator">=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>l<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>          l<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>      r<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">auto</span> get <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> start<span class="token punctuation">)</span>   <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//æ±‚startå¼€å§‹ç¬¦åˆæ¡ä»¶2çš„å­å­—ç¬¦ä¸²</span>      <span class="token keyword">int</span> end <span class="token operator">=</span> r<span class="token punctuation">[</span>s<span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> start <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> end<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>      <span class="token punctuation">{</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>l<span class="token punctuation">[</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> start<span class="token punctuation">)</span>              <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>          end <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>end<span class="token punctuation">,</span> r<span class="token punctuation">[</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token keyword">return</span> end<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  vector<span class="token operator">&lt;</span>string<span class="token operator">></span> res <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">""</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> right <span class="token operator">=</span> INT_MAX<span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> l<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>      <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//åªæ‰¾ä»¥å½“å‰å­—ç¬¦åœ¨å­—ç¬¦ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„å­—ç¬¦å¼€å§‹çš„å­å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æœ€å¤šæ‰¾26æ¬¡</span>          <span class="token keyword">int</span> r <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>              <span class="token keyword">continue</span><span class="token punctuation">;</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">></span> right<span class="token punctuation">)</span>          <span class="token punctuation">{</span>              right <span class="token operator">=</span> r<span class="token punctuation">;</span>              res<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span>          right <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>right<span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>          res<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> r <span class="token operator">-</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> res<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></li></ol></li></ol>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> Leetcode </tag>
            
            <tag> Competition </tag>
            
            <tag> greedy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¯¹è®¡ç®—æœºä¸“ä¸šçš„æ€è€ƒ</title>
      <link href="/2020/07/16/2020/introduction-to-cs/"/>
      <url>/2020/07/16/2020/introduction-to-cs/</url>
      
        <content type="html"><![CDATA[<h1 id="å¯¹è®¡ç®—æœºä¸“ä¸šçš„æ€è€ƒ"><a href="#å¯¹è®¡ç®—æœºä¸“ä¸šçš„æ€è€ƒ" class="headerlink" title="å¯¹è®¡ç®—æœºä¸“ä¸šçš„æ€è€ƒ"></a>å¯¹è®¡ç®—æœºä¸“ä¸šçš„æ€è€ƒ</h1><p>è™½ç„¶æˆ‘ç°åœ¨åˆšå‡ä¸Šå¤§äºŒï¼Œä½†æ˜¯æˆ‘æ¥è§¦è®¡ç®—æœºä¸“ä¸šå·²ç»å¿«å››å¹´äº†ã€‚æˆ‘å¯¹è¿™ä¸ªä¸“ä¸šä»¥åŠè¡Œä¸šè¿˜æ˜¯æœ‰è‡ªå·±çš„ç†è§£çš„ã€‚ä»¥ä¸‹å‡ä¸ºä¸ªäººè§è§£ï¼Œä»…ä¾›å‚è€ƒã€‚</p><p>å…ˆè¯´ç»“è®ºå§ï¼šè®¡ç®—æœºä¸“ä¸šå¾ˆå¥½æ‰¾å·¥ä½œï¼Œå·¥èµ„æ°´å¹³åœ¨å„è¡Œä¸šä¸­ä¹Ÿæ˜¯æ•°ä¸€æ•°äºŒçš„ï¼Œæˆ‘ç‰¹åˆ«æ¨èè‡ªå­¦èƒ½åŠ›å¼ºçš„åŒå­¦æ¥è¯»ã€‚</p><h2 id="è®¡ç®—æœºä¸“ä¸šå­¦çš„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#è®¡ç®—æœºä¸“ä¸šå­¦çš„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="è®¡ç®—æœºä¸“ä¸šå­¦çš„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ"></a>è®¡ç®—æœºä¸“ä¸šå­¦çš„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>æˆ‘çš„ç†è§£ï¼šå­¦çš„æ˜¯ä¸€ç§æ“æ§è®¡ç®—æœºçš„æ€ç»´æ¨¡å¼ã€‚</p><p>æœ¬ç§‘æ ¸å¿ƒè¯¾ç¨‹ï¼šC/C++è¯­è¨€ï¼Œç®—æ³•ä¸æ•°æ®ç»“æ„ï¼Œè®¡ç®—æœºç»„æˆä¸ç»“æ„ï¼Œæ•°æ®åº“ï¼Œè®¡ç®—æœºç½‘ç»œï¼Œç¼–è¯‘åŸç†ç­‰ç­‰ã€‚<br>å„ä¸ªå¤§å­¦çš„è®¡ç®—æœºä¸“ä¸šä¿®è¯»è®¡åˆ’éƒ½å·®ä¸å¤šçš„ï¼Œå¤§å®¶æ„Ÿå…´è¶£çš„è¯å¯ä»¥åœ¨å¤§å­¦çš„å®˜ç½‘ä¸Šé¢æ‰¾ï¼Œè¿™é‡Œå±•ç¤ºæ¸¯ä¸­æ·±çš„æ ¸å¿ƒè¯¾ç¨‹ï¼š<br><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/introduction-to-CS-2020-07-16-21-09-13" alt="CS Major Required Course"></p><p>æƒ³å¿…æ ¸å¿ƒè¯¾ç¨‹çš„åå­—å¤§å®¶çœ‹å¾—äº‘é‡Œé›¾é‡Œçš„ï¼Œä¸Šç½‘æœä¸€æœä¹Ÿä¸å¤ªæ¸…æ¥šç©¶ç«Ÿå­¦çš„æ˜¯ä»€ä¹ˆï¼Œè¿™é‡Œæˆ‘ç”¨å¤§ç™½è¯è§£é‡Šä¸€ä¸‹å§ï¼š</p><ul><li>C/C++è¯­è¨€ï¼šè·Ÿå­¦è‹±è¯­ç±»ä¼¼ï¼Œéœ€è¦æŒæ¡ä¸€äº›è¯­æ³•ï¼Œæ›´é‡è¦çš„æ˜¯è¦ç†è§£è®¡ç®—æœºç»„æˆä¸ç»“æ„ï¼ˆç±»æ¯”é€šè¿‡å­¦è‹±è¯­æ¥äº†è§£è¥¿æ–¹æ–‡åŒ–ï¼‰ã€‚</li><li>ç®—æ³•ä¸æ•°æ®ç»“æ„ï¼šä¸æ•°å­¦è”ç³»ç´§å¯†ï¼ŒåŸ¹å…»é€»è¾‘æ€ç»´ä¸æ¨ç†èƒ½åŠ›ï¼Œéœ€è¦å¤šåˆ·ç®—æ³•é¢˜ã€‚</li><li>è®¡ç®—æœºç»„æˆä¸ç»“æ„ï¼šåƒä¸€é—¨æ–‡ç§‘ï¼ŒçŸ¥è¯†ç‚¹å¾ˆå¤šï¼Œè¦è®°/ç†è§£å¾ˆå¤šä¸œè¥¿ã€‚</li><li>æ•°æ®åº“ï¼šä¹ŸæŒºåƒæ–‡ç§‘çš„ï¼Œæ ¹æ®ä¸€äº›ç†è®ºæ¥è®¾è®¡æ•°æ®åº“ã€‚</li><li>è®¡ç®—æœºç½‘ç»œï¼šæ–‡ç§‘ï¼Œæ²¡æ€ä¹ˆäº†è§£è¿‡â€¦â€¦</li><li>ç¼–è¯‘åŸç†ï¼šè¿™ä¸ªäº†è§£å°±æ›´å°‘äº†ï¼Œéœ€è¦å¯¹ç®—æ³•ä¸æ•°æ®ç»“æ„å’Œè®¡ç®—æœºç»„æˆä¸ç»“æ„æœ‰ä¸€å®šçš„äº†è§£ã€‚</li></ul><p>å¦‚æœæŒ‰ç…§æ–‡ç†ç§‘çš„åˆ†ç±»æ–¹å¼ï¼Œè®¡ç®—æœºä¸“ä¸šå¤„åœ¨æ–‡ç§‘å’Œç†ç§‘çš„ä¸­é—´å§ã€‚</p><h2 id="è¯»è®¡ç®—æœºä¸“ä¸šéœ€è¦ä»€ä¹ˆæ¡ä»¶ï¼Ÿ"><a href="#è¯»è®¡ç®—æœºä¸“ä¸šéœ€è¦ä»€ä¹ˆæ¡ä»¶ï¼Ÿ" class="headerlink" title="è¯»è®¡ç®—æœºä¸“ä¸šéœ€è¦ä»€ä¹ˆæ¡ä»¶ï¼Ÿ"></a>è¯»è®¡ç®—æœºä¸“ä¸šéœ€è¦ä»€ä¹ˆæ¡ä»¶ï¼Ÿ</h2><p>æœ‰å°ä¼™ä¼´å¯èƒ½ä¼šæƒ³ï¼šæˆ‘çš„ç”µè„‘æ°´å¹³å¾ˆä¸€èˆ¬å•Šï¼Œä¹‹å‰ä¹Ÿä»æœªæ¥è§¦è¿‡ç¼–ç¨‹ï¼Œé‚£æˆ‘å­¦èµ·æ¥ä¼šä¸ä¼šå¾ˆåƒåŠ›ï¼Ÿ</p><p>å…¶å®ä¸ä¼šçš„ï¼Œä»é›¶å¼€å§‹å­¦ï¼Œå¤§å­¦å››å¹´è¶³å¤Ÿäº†ã€‚æˆ‘ä¸ªäººè§‰å¾—å­¦è®¡ç®—æœºä¸“ä¸šä¸å¤ªéœ€è¦å¤©èµ‹ï¼Œæ›´å¤šæ˜¯é åå¤©çš„å‹¤å¥‹ã€‚ç¼–ç¨‹èƒ½åŠ›ä¸è¡Œï¼Œå°±å¤šå†™ä»£ç ï¼›ç†è®ºçŸ¥è¯†ä¸è¿‡å…³ï¼Œå°±å¤šçœ‹ä¹¦ã€‚è€Œä¸”è¿™ä¸ªä¸“ä¸šç‰¹åˆ«å…¬å¹³ï¼Œä½ ä¼šå°±æ˜¯ä¼šï¼Œä¸ä¼šå°±æ˜¯ä¸ä¼šï¼Œå¾ˆå®¹æ˜“æµ‹è¯•å‡ºä¸€ä¸ªäººä¸“ä¸šæ°´å¹³çš„é«˜ä½ã€‚</p><p>æ¥è§¦è¿‡ç¼–ç¨‹çš„åŒå­¦å°±æ›´å¥½å•¦ï¼Œèƒ½æ›´å¿«åœ°ä¸Šæ‰‹ã€‚æ²¡æœ‰æ¥è§¦è¿‡ä¹Ÿæ²¡å…³ç³»çš„ï¼Œå¤§ä¸€å¤šå†™ç‚¹ä»£ç ï¼Œä¸è¦æ»¡è¶³äºè¯¾å†…çš„ä¸œè¥¿ï¼ˆå‡ºæ¥æ‰¾å·¥ä½œä¸å¤Ÿç”¨ï¼‰ï¼Œå¾ˆå¿«å°±èƒ½è¿½ä¸Šæ¥äº†ã€‚</p><p>P.S. ç¨‹åºå‘˜æœ€å¥½çš„è¯­è¨€æ˜¯è‹±è¯­ï¼Œå› ä¸ºè¦ç»å¸¸æŸ¥googleã€‚</p><h2 id="æˆ‘äº†è§£è¿‡çš„å¤§å­¦"><a href="#æˆ‘äº†è§£è¿‡çš„å¤§å­¦" class="headerlink" title="æˆ‘äº†è§£è¿‡çš„å¤§å­¦"></a>æˆ‘äº†è§£è¿‡çš„å¤§å­¦</h2><p>å½“æ—¶æˆ‘æ˜¯å…ˆé€‰ä¸“ä¸šï¼Œå†é€‰å¤§å­¦çš„ï¼Œä¸€å®šè¦è¯»è®¡ç®—æœºä¸“ä¸šã€‚æ®æˆ‘æ‰€çŸ¥ï¼Œä»¥ä¸‹å¤§å­¦çš„è®¡ç®—æœºä¸“ä¸šéƒ½ä¸é”™çš„ï¼š</p><ul><li>ç”µå­ç§‘æŠ€å¤§å­¦ï¼šæ€§ä»·æ¯”æé«˜ï¼Œçœæ’å10000å¼€å¤–éƒ½æœ‰æœºä¼šè€ƒä¸Šï¼ŒåŸ¹å…»äº†å¾ˆå¤šäº’è”ç½‘äººæ‰ï¼ŒæŠ€æœ¯æ°›å›´æµ“åšã€‚</li><li>åŒ—äº¬é‚®ç”µå¤§å­¦ï¼šä¼˜åŠ¿æ˜¯åœ¨åŒ—äº¬ï¼Œåˆ†æ•°è¦æ±‚ä¸å¤ªé«˜ã€‚</li><li>æ­¦æ±‰å¤§å­¦ï¼šä¿¡æ¯å®‰å…¨ä¸“ä¸šäº†è§£ä¸€ä¸‹ï¼Œä¹Ÿç®—æ˜¯è®¡ç®—æœºä¸“ä¸šçš„ä¸€ä¸ªåˆ†æ”¯äº†ã€‚</li><li>åä¸­ç§‘æŠ€å¤§å­¦ï¼šè·Ÿæ­¦å¤§å·®ä¸å¤šå§ï¼Œæˆ‘å½“æ—¶çš„ç¬¬äºŒå¿—æ„¿ã€‚</li><li>å—äº¬å¤§å­¦ï¼šå¬è¯´äººå·¥æ™ºèƒ½å¾ˆå¼ºï¼ˆä¸è¿‡è·Ÿæœ¬ç§‘ç”Ÿå…³ç³»ä¸å¤§ï¼‰</li><li>åŒ—äº¬èˆªç©ºèˆªå¤©å¤§å­¦ï¼šåˆ†æ•°è¦æ±‚å’Œå­¦ç§‘æ’åéƒ½å¾ˆé«˜ã€‚</li><li>æ¸…åå¤§å­¦ï¼šè€ƒçš„ä¸Šçš„éƒ½ä¸ç”¨æˆ‘å¤šè¯´äº†å§â€¦</li></ul><p>ç„¶è€Œï¼Œæˆ‘å»äº†é¦™æ¸¯ä¸­æ–‡å¤§å­¦ï¼ˆæ·±åœ³ï¼‰ã€‚<br>ä¸€å¹´åå†çœ‹å˜›ï¼Œè¿™å­¦æ ¡çš„ç¼ºç‚¹æ˜¯å­¦è´¹è´µï¼ˆå››å¹´æ— å¥–å­¦é‡‘ï¼Œæ‰€æœ‰è´¹ç”¨50w+ï¼‰å’Œä¸èƒ½ä¿ç ”ï¼›ä¼˜ç‚¹æ˜¯å®¹æ˜“ç”³è¯·å›½å¤–å­¦æ ¡å’Œå›½é™…åŒ–æ•™è‚²ã€‚å¦‚æœåŒå­¦ä»¬å®¶é‡Œæ¡ä»¶å…è®¸è¿˜æ˜¯å¯ä»¥è€ƒè™‘ä¸€ä¸‹çš„~</p><h2 id="å°±è¯»ä¸€å¹´çš„ä¸ªäººä½“éªŒ"><a href="#å°±è¯»ä¸€å¹´çš„ä¸ªäººä½“éªŒ" class="headerlink" title="å°±è¯»ä¸€å¹´çš„ä¸ªäººä½“éªŒ"></a>å°±è¯»ä¸€å¹´çš„ä¸ªäººä½“éªŒ</h2><p>ç”±äºæˆ‘ç¬¬äºŒå¹´æ‰åˆ†ä¸“ä¸šï¼Œç¬¬ä¸€å¹´æˆ‘ä¸Šçš„è®¡ç®—æœºä¸“ä¸šè¯¾ç¨‹å¹¶ä¸å¤šï¼špythonè¯­è¨€ï¼Œç¨‹åºè®¾è®¡åŸºç¡€ï¼Œç®—æ³•ä¸æ•°æ®ç»“æ„ï¼Œæ•°æ®åº“ï¼Œå…¶ä¸­åé¢ä¸¤ä¸ªæ ¸å¿ƒè¯¾ç¨‹éƒ½æ˜¯æˆ‘æå‰ä¸Šçš„ã€‚</p><p>ç›¸æ¯”äºè¯¾å†…å­¦åˆ°çš„çŸ¥è¯†ï¼Œæˆ‘è¯¾å¤–å­¦çš„çŸ¥è¯†è¦å¤šå¾—å¤šã€‚å¾ˆå¤šéœ€è¦ç”¨åˆ°çš„çŸ¥è¯†/æŠ€èƒ½æ˜¯æ²¡æœ‰å¯¹åº”çš„è¯¾ç¨‹çš„ï¼Œæ¯”å¦‚ï¼šå¼€å‘ä¸€ä¸ªå®Œæ•´çš„ç½‘ç«™ï¼Œä¸ºäº†é€šè¿‡é¢è¯•åˆ·ç®—æ³•é¢˜ï¼Œç”¨markdownè¯­è¨€å†™æ–‡æ¡£ç­‰ç­‰ã€‚</p><p>æˆ‘å–œæ¬¢è¿™ä¸ªä¸“ä¸šçš„ä¸€ä¸ªé‡è¦åŸå› å°±æ˜¯å­¦ä¹ èµ„æºå®åœ¨å¤ªå¤šäº†ï¼Œæ— è®ºä½ æƒ³å­¦å“ªä¸ªæ–¹é¢çš„çŸ¥è¯†ï¼Œä¸€æœå°±æœ‰äº†ã€‚è€Œä¸”æœ‰å¾ˆå¤šç¨‹åºå‘˜éƒ½æ˜¯éè®¡ç®—æœºç§‘ç­æ¯•ä¸šçš„ï¼Œä»–ä»¬é è‡ªå­¦ä¹Ÿèƒ½è¿›å…¥è¡Œä¸šï¼Œç”±æ­¤å¯è§è‡ªå­¦çš„é‡è¦æ€§ã€‚</p><h2 id="å°±ä¸šéœ€è¦æŒæ¡ä»€ä¹ˆæŠ€èƒ½ï¼Ÿ"><a href="#å°±ä¸šéœ€è¦æŒæ¡ä»€ä¹ˆæŠ€èƒ½ï¼Ÿ" class="headerlink" title="å°±ä¸šéœ€è¦æŒæ¡ä»€ä¹ˆæŠ€èƒ½ï¼Ÿ"></a>å°±ä¸šéœ€è¦æŒæ¡ä»€ä¹ˆæŠ€èƒ½ï¼Ÿ</h2><p>æœ¬ç§‘å°±ä¸šå¤šæ•°æ˜¯å»å¼€å‘å²—ï¼Œå¼€å‘å²—å¯åˆ†ä¸ºå‰ç«¯å’Œåç«¯ï¼Œå…¶ä¸­å‰ç«¯æ˜¯ç”¨æˆ·ç›´æ¥èƒ½çœ‹åˆ°çš„ç•Œé¢ï¼Œåç«¯åˆ™æ˜¯å¤„ç†æ•°æ®ã€‚  </p><p>å¦‚ä»Šçš„å…¥èŒé¢è¯•å¤šæ˜¯æŠ€æœ¯é¢è¯•ï¼šç°åœºåšç®—æ³•é¢˜+çŸ¥è¯†ç‚¹é—®ç­”ã€‚</p><ul><li>åœ¨é¢è¯•ä¸­è§£ç®—æ³•é¢˜ï¼Œè§£é‡Šè‡ªå·±çš„æ€è·¯ï¼Œç”šè‡³å°†å®Œæ•´ä»£ç å†™å‡ºã€‚</li><li>çŸ¥è¯†ç‚¹é—®ç­”åˆ™è€ƒéªŒä½ å¯¹äºä¸€äº›è¯­è¨€/çŸ¥è¯†çš„ç†è§£ã€‚</li></ul><p>æ®æˆ‘äº†è§£ï¼Œå…·å¤‡ä»¥ä¸‹æ¡ä»¶ï¼šç†Ÿç»ƒæŒæ¡ä¸€é—¨è¯­è¨€ï¼Œå¹³æ—¶å¤šåˆ·ç®—æ³•é¢˜ï¼Œæœ‰å®ä¹ ç»å†ï¼Œæœ‰é¡¹ç›®ç»å†ï¼ŒåŸºæœ¬å°±èƒ½è¿›å¤§å…¬å¸ï¼ˆé˜¿é‡Œï¼Œè…¾è®¯ï¼Œå­—èŠ‚è·³åŠ¨ç­‰ç­‰ï¼‰ã€‚</p><p>ç®—æ³•å²—ï¼ˆäººå·¥æ™ºèƒ½ï¼‰çš„è¯ï¼Œåœ¨æœ¬ç§‘åº”è¯¥åªæœ‰å°‘æ•°å¤§ä½¬èƒ½å»å§ï¼Œæ¯•ç«Ÿè¿™éœ€è¦ç§‘ç ”æˆæœæˆ–è€…ç«èµ›è·å¥–ã€‚</p><h2 id="è¡Œä¸šçŠ¶å†µå¦‚ä½•ï¼Ÿ"><a href="#è¡Œä¸šçŠ¶å†µå¦‚ä½•ï¼Ÿ" class="headerlink" title="è¡Œä¸šçŠ¶å†µå¦‚ä½•ï¼Ÿ"></a>è¡Œä¸šçŠ¶å†µå¦‚ä½•ï¼Ÿ</h2><p>æ•´ä¸ªäº’è”ç½‘è¡Œä¸šä»ç›®å‰æ¥çœ‹ï¼Œå‘å±•ç©ºé—´è¿˜æ˜¯ä¸å°çš„ï¼Œå¦‚æœèƒ½æ‰¾å‡†ä¸€å®¶æ­£å¤„äºä¸Šå‡æœŸçš„å…¬å¸ï¼Œå®ç°è´¢åŠ¡è‡ªç”±ä¹Ÿä¸æ˜¯ä¸å¯èƒ½ï¼ˆå½“ç„¶è¿™ä¸ªå¾ˆçœ‹è¿æ°”ï¼‰ã€‚è¿›å…¥äº’è”ç½‘å¤§å…¬å¸å½“ç„¶ä¹Ÿä¸é”™ï¼Œå›½å†…äº’è”ç½‘å¤§å‚åº”å±Šç”Ÿå¹´è–ª20wèµ·æ­¥ï¼Œå°±æ˜¯åŠ ç­æœ‰ç‚¹å¤šè€Œå·²â€¦â€¦</p><p>å¾ˆå¤šäººè§‰å¾—ç¨‹åºå‘˜ç«äº‰å¾ˆå¤§ï¼Œä¸‰åå¤šå²çš„ç¨‹åºå‘˜å¾ˆå®¹æ˜“è¢«è£å‘˜ï¼Œç„¶åå°±æ‰¾ä¸åˆ°å·¥ä½œäº†ã€‚çš„ç¡®ï¼Œäº’è”ç½‘è¡Œä¸šç«äº‰å¾ˆå¤§ï¼Œå¦‚æœä¸èƒ½æŒç»­å­¦ä¹ æ–°æŠ€æœ¯/çŸ¥è¯†ï¼Œå°±å¾ˆå®¹æ˜“è¢«æ·˜æ±°ã€‚ä½†å¦‚æœä½ èƒ½ä¿æŒå¯¹æŠ€æœ¯çš„çƒ­æƒ…ï¼Œé‚£åˆ°å“ªé‡Œéƒ½æ˜¯é¦™é¥½é¥½ã€‚å›½å¤–çš„ç¨‹åºå‘˜å¤§ç‰›äº”å…­åå²ä»åœ¨æŒç»­è¾“å‡ºï¼Œæ›´è¯æ˜äº†ç¨‹åºå‘˜å¹¶ä¸æ˜¯ä¸€ä¸ªåƒé’æ˜¥é¥­çš„èŒä¸šã€‚</p><p>äº’è”ç½‘è¡Œä¸šåŠ ç­å¤šï¼Œç¨‹åºå‘˜å®¹æ˜“ç§ƒå¤´ï¼Œè¿™äº›éƒ½æ˜¯ç°å®ã€‚996ä¹ŸåŸºæœ¬æ˜¯å›½å†…å¾ˆå¤šäº’è”ç½‘å…¬å¸çš„å¸¸æ€äº†ã€‚åªèƒ½è¯´å›½å†…ç«äº‰å¤ªæ¿€çƒˆäº†å§ï¼Œç›¸æ¯”äºå›½å†…ï¼Œç¾å›½/åŠ æ‹¿å¤§çš„ç¨‹åºå‘˜åŠ ç­è¿˜æ˜¯å¾ˆå°‘çš„ã€‚å¦‚æœä¸æƒ³è®©å·¥ä½œå æ®ç”Ÿæ´»ï¼Œå¯ä»¥é€‰æ‹©åœ¨å›½å†…çš„å¤–ä¼æˆ–è€…å‡ºå›½å·¥ä½œï¼Œé€‰æ‹©å·¥ä½œè´Ÿæ‹…ç›¸å¯¹è½»ä¸€äº›çš„å›½å†…ä¼ä¸šä¹Ÿå¯ä»¥ã€‚</p><h2 id="æœ¬ç§‘æ¯•ä¸šæ˜¯å°±ä¸šè¿˜æ˜¯è¯»ç ”ï¼Ÿ"><a href="#æœ¬ç§‘æ¯•ä¸šæ˜¯å°±ä¸šè¿˜æ˜¯è¯»ç ”ï¼Ÿ" class="headerlink" title="æœ¬ç§‘æ¯•ä¸šæ˜¯å°±ä¸šè¿˜æ˜¯è¯»ç ”ï¼Ÿ"></a>æœ¬ç§‘æ¯•ä¸šæ˜¯å°±ä¸šè¿˜æ˜¯è¯»ç ”ï¼Ÿ</h2><p>ç°åœ¨è¯»ç ”çš„äººè¶Šæ¥è¶Šå¤šå’¯ï¼Œæˆ‘ç°åœ¨æ˜¯æ‰“ç®—å°±ä¸šï¼Œä¸è¿‡ä»¥åå¯èƒ½ä¼šæ”¹å•¦ã€‚</p><p>æˆ‘ç°åœ¨å¯¹è¯»ç ”çš„ç†è§£ï¼š</p><ul><li>æ¨è¿Ÿå°±ä¸šï¼Œå»¶ç¼“å¤§å››çš„å°±ä¸šå‹åŠ›ã€‚</li><li>æé«˜å­¦å†ï¼Œæ›´å®¹æ˜“æ‰¾åˆ°å·¥ä½œã€‚</li><li>èµ°ç§‘ç ”è·¯çº¿ï¼šè¯»ç ”/è¯»åš-&gt;ç ”ç©¶å‘˜/å¤§å­¦æ•™æˆã€‚</li></ul><p>å¦‚æœæ˜¯æ‰“ç®—åšå¼€å‘å²—çš„è¯ï¼Œé‚£åº”è¯¥å°±ä¸éœ€è¦è¯»ç ”äº†ï¼Œæ„Ÿè§‰æœ‰ç‚¹æµªè´¹æ—¶é—´äº†ï¼Œè¯»ç ”å­¦åˆ°çš„ä¸œè¥¿å¯¹å·¥ä½œå¸®åŠ©ä¸å¤§ã€‚</p><p>å¦‚æœæ˜¯æƒ³åšäººå·¥æ™ºèƒ½æ–¹é¢çš„å·¥ä½œï¼Œå¯ä»¥è¯´æ˜¯ä¸€å®šè¦è¯»ç ”äº†ï¼Œä¸ç®¡æ˜¯å°±ä¸šè¿˜æ˜¯è¿›ä¸€æ­¥ç§‘ç ”ï¼Œéƒ½éœ€è¦ä¸€å®šçš„å­¦æœ¯æˆæœã€‚</p><h2 id="ä¸“ä¸šï¼ŒåŸå¸‚ï¼Œå­¦æ ¡ä¸‰è€…çš„ä¼˜å…ˆçº§å¦‚ä½•ï¼Ÿ"><a href="#ä¸“ä¸šï¼ŒåŸå¸‚ï¼Œå­¦æ ¡ä¸‰è€…çš„ä¼˜å…ˆçº§å¦‚ä½•ï¼Ÿ" class="headerlink" title="ä¸“ä¸šï¼ŒåŸå¸‚ï¼Œå­¦æ ¡ä¸‰è€…çš„ä¼˜å…ˆçº§å¦‚ä½•ï¼Ÿ"></a>ä¸“ä¸šï¼ŒåŸå¸‚ï¼Œå­¦æ ¡ä¸‰è€…çš„ä¼˜å…ˆçº§å¦‚ä½•ï¼Ÿ</h2><p>æˆ‘ä¸ªäººè®¤ä¸ºï¼šä¸“ä¸š&gt;åŸå¸‚&gt;å­¦æ ¡ï¼Œå½“ç„¶è¿™è·Ÿæˆ‘ä¸“ä¸šç›®æ ‡æ˜ç¡®ä¹Ÿæœ‰å¾ˆå¤§å…³ç³»ã€‚</p><p>å¾ˆå¤šåŒå­¦åº”è¯¥æ˜¯æ²¡æœ‰æ˜ç¡®è‡ªå·±æƒ³è¯»çš„ä¸“ä¸šçš„ï¼Œé‚£åŸå¸‚&gt;å­¦æ ¡&gt;=ä¸“ä¸šä¹Ÿå¯ã€‚</p><p>æŠ¥å¿—æ„¿è¿™ä»¶äº‹å˜›ï¼Œçˆ¶æ¯é•¿è¾ˆçš„æ„è§éƒ½æ˜¯å‚è€ƒè€Œå·²ï¼Œæœ€åè¿˜æ˜¯å¾—é è‡ªå·±åšå†³å®šã€‚å…¶å®å°±ç®—é€‰äº†ä¸€ä¸ªä¸åˆé€‚è‡ªå·±çš„ä¹Ÿæ²¡å¤ªå¤§å…³ç³»ï¼Œå¤§äºŒè½¬ä¸“ä¸šå°±è¡Œäº†ã€‚ä»è¿™ä¸ªè§’åº¦æ¥çœ‹ï¼Œä¸“ä¸šçš„ä¼˜å…ˆçº§æ˜¯æœ€ä½çš„ï¼Œåº”è¯¥å…ˆé€‰åŸå¸‚å’Œå­¦æ ¡ã€‚å…¶å®å‡ºæˆç»©åä½ ä¼šå‘ç°ï¼Œå­¦æ ¡ä¹Ÿæ²¡æœ‰å‡ å®¶å¯ä»¥é€‰çš„ï¼Œé€‰åˆ†æ•°é«˜çš„å¾ˆéš¾è¢«å½•å–ï¼Œé€‰åˆ†æ•°ä½çš„åˆè§‰å¾—æµªè´¹äº†è‡ªå·±çš„åˆ†æ•°ï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½æ˜¯é€‰è‡ªå·±åˆ†æ•°æ®µä¸Šä¸‹çš„å‡ é—´å­¦æ ¡ã€‚è¿™å‡ é—´åˆ†æ•°ç›¸å·®ä¸å¤šçš„å­¦æ ¡å®åŠ›ä¹Ÿå·®ä¸å¤šï¼Œæœ€åå°±å˜æˆäº†é€‰åŸå¸‚ã€‚</p><p>å‰å‡ å¤©çœ‹åˆ°ä¸€ä¸ªè®²çš„ä¸é”™çš„è§†é¢‘ï¼Œæ¨èå¤§å®¶å»çœ‹ä¸€çœ‹ï¼Œè¿˜å¯ä»¥å»è¯„è®ºåŒºçœ‹çœ‹å¯¹å„ä¸“ä¸šçš„åæ§½ï¼š<a href="https://www.bilibili.com/video/BV1hK411H7bY" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1hK411H7bY</a></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æœ¬äººæ„è§ä»…ä¾›å‚è€ƒï¼Œå¤§å®¶è¿˜æ˜¯è¦å¤šäº†è§£ä¸“ä¸šï¼ŒåŸå¸‚ï¼Œå­¦æ ¡çš„ä¿¡æ¯ï¼Œæ¯•ç«ŸæŠ¥å¿—æ„¿å’Œé«˜è€ƒåŒæ ·é‡è¦å™¢ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> Essay </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Google-Kick-Start-RoundD</title>
      <link href="/2020/07/13/2020/googlekickstartroundd/"/>
      <url>/2020/07/13/2020/googlekickstartroundd/</url>
      
        <content type="html"><![CDATA[<h1 id="Google-Kick-Start-Round-D"><a href="#Google-Kick-Start-Round-D" class="headerlink" title="Google Kick Start Round D"></a>Google Kick Start Round D</h1><p>è¿™æ¬¡æˆç»©æ˜¯ä¸‰æ¬¡ä»¥æ¥æœ€å¥½çš„å•¦ï¼Œ1332åï¼Œè™½ç„¶æˆ‘åªåšå‡ºäº†ç¬¬ä¸€é¢˜ï¼Œåé¢ä¸‰é¢˜éƒ½æ˜¯æš´åŠ›è¿‡ç¬¬ä¸€ä¸ªæ•°æ®ç‚¹~</p><h2 id="Record-Breaker"><a href="#Record-Breaker" class="headerlink" title="Record Breaker"></a>Record Breaker</h2><p>é€åˆ†æ¨¡æ‹Ÿé¢˜ï¼Œæ³¨æ„ä¸€ä¸‹è¾¹ç•Œæ¡ä»¶å³å¯ã€‚<br><code>a[n+1],premax</code>éƒ½åˆå§‹åŒ–ä¸º<code>-1</code>ï¼Œè¿™æ ·å°±ä¸éœ€è¦ç‰¹åˆ¤è¾¹ç•Œäº†ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">200005</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    cin <span class="token operator">>></span> n<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> premax <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    a<span class="token punctuation">[</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> premax <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> a<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token operator">++</span>ans<span class="token punctuation">;</span>        premax <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>premax<span class="token punctuation">,</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    cout <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="Alien-Piano"><a href="#Alien-Piano" class="headerlink" title="Alien Piano"></a>Alien Piano</h2><p>æ¯”èµ›æ—¶çœ‹è¿™é¢˜è§‰å¾—å¾ˆå¤æ‚ï¼Œä¸çŸ¥é“ç”¨ä»€ä¹ˆæ–¹æ³•æ¥æ„é€ è¿™ä¸ªåºåˆ—ã€‚äºæ˜¯å°±è·³è¿‡å»äº†ï¼Œåé¢å›æ¥æŠŠæš´åŠ›$O(4^N)$å†™äº†ï¼š</p><h3 id="æš´åŠ›"><a href="#æš´åŠ›" class="headerlink" title="æš´åŠ›"></a>æš´åŠ›</h3><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> b<span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> ans<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> cur<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> res<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>cur <span class="token operator">></span> n<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> a<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> b<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> a<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> b<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> a<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> b<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token operator">++</span>cnt<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        ans <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> cnt<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        b<span class="token punctuation">[</span>cur<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>cur <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> k<span class="token punctuation">;</span>    cin <span class="token operator">>></span> k<span class="token punctuation">;</span>    ans <span class="token operator">=</span> k<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> k<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>çœ‹å®Œé¢˜è§£è§‰å¾—è¿˜å¥½ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼š</p><h3 id="è´ªå¿ƒ"><a href="#è´ªå¿ƒ" class="headerlink" title="è´ªå¿ƒ"></a>è´ªå¿ƒ</h3><ul><li>ç›´æ¥æ‰¾é•¿åº¦å¤§äº$4$çš„è¿ç»­ä¸Šå‡/ä¸‹é™å­åºåˆ—ï¼Œæ¯æœ‰ä¸€ä¸ªè¿™æ ·çš„å­åºåˆ—ï¼Œå°±è¦æ‰“ç ´ä¸€æ¬¡è§„åˆ™</li><li>æˆ‘å½“æ—¶æ€ä¹ˆæ²¡æƒ³åˆ°å‘¢ï¼Ÿ</li></ul><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> k<span class="token punctuation">;</span>    cin<span class="token operator">>></span>k<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>k<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>        cin<span class="token operator">>></span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>cnt1 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>cnt2 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> k<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span> a<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>            cnt1<span class="token operator">++</span><span class="token punctuation">;</span>            cnt2 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">></span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            cnt2<span class="token operator">++</span><span class="token punctuation">;</span>            cnt1 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>cnt1 <span class="token operator">></span> <span class="token number">4</span> <span class="token operator">||</span> cnt2 <span class="token operator">></span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            cnt1 <span class="token operator">=</span> cnt2 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            ans<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    cout <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="dp"><a href="#dp" class="headerlink" title="dp"></a>dp</h3><ul><li>$dp(i,j)$è¡¨ç¤ºå‰$i$ä¸ªnoteï¼Œå…¶ä¸­ç¬¬$i$ä¸ªnoteç”¨$j$æ¥è¡¨ç¤ºçš„æœ€å°è§„åˆ™æ‰“ç ´æ•°ã€‚</li><li>$$ dp(i,j)=\min{dp(i-1,jâ€™)+P(i,jâ€™,j)|1 \leq jâ€™ \leq 4} $$</li><li>$P(i,jâ€™,j)$è¡¨ç¤ºï¼šç¬¬$i-1$ä¸ªnoteç”¨$jâ€™$æ¥è¡¨ç¤ºï¼Œç¬¬$i$ä¸ªnoteç”¨$j$æ¥è¡¨ç¤ºï¼Œéœ€è¦æ‰“ç ´çš„è§„åˆ™æ•°ã€‚</li></ul><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> k<span class="token punctuation">;</span>    cin <span class="token operator">>></span> k<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> k<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token number">4</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>        dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> k<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token number">4</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> INT32_MAX<span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> <span class="token number">4</span><span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">int</span> p<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>k <span class="token operator">&lt;</span> j <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>k <span class="token operator">></span> j <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">></span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>k <span class="token operator">==</span> j <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                    p <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                <span class="token keyword">else</span>                    p <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">+</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token keyword">int</span> ans <span class="token operator">=</span> k<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token number">4</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>        ans <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> dp<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="Beauty-of-tree"><a href="#Beauty-of-tree" class="headerlink" title="Beauty of tree"></a>Beauty of tree</h2><p>è¿™é¢˜ä¸€å¼€å§‹æ²¡å®¡æ¸…æ¥šé¢˜ç›®ï¼Œ<code>travels up the tree</code>åº”è¯¥æ˜¯å‘ä¸Šæ‰¾çˆ¶èŠ‚ç‚¹ï¼Œæˆ‘ä»¥ä¸ºæ˜¯å‘ä¸Šæ‰¾ç¬¬<code>A</code>å±‚çš„éšä¾¿ä¸€ä¸ªèŠ‚ç‚¹éƒ½è¡Œï¼Œç™½åšäº†å¤§åŠä¸ªå°æ—¶ğŸ˜“ï¼Œåæ¥åªèƒ½ç”¨æš´åŠ›å’¯ã€‚</p><h3 id="æš´åŠ›-1"><a href="#æš´åŠ›-1" class="headerlink" title="æš´åŠ›"></a>æš´åŠ›</h3><ul><li>è¦ç”¨<code>printf(&quot;%f&quot;)</code>æ¥è¾“å‡º<code>double</code>ç±»å‹ï¼Œç”¨<code>cout</code>ä¼¼ä¹ç²¾åº¦æœ‰ç‚¹é—®é¢˜ï¼Œè¿‡ä¸äº†ç¬¬ä¸€ä¸ªæµ‹è¯•é›†ã€‚</li><li>éå†æ¯ä¸€å¯¹é€‰æ‹©çš„èŠ‚ç‚¹<code>(i,j)</code>æ—¶ï¼Œ<code>i</code>å’Œ<code>j</code>éƒ½è¦<code>1 to n</code></li></ul><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> f<span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">bool</span> visited<span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>    cin <span class="token operator">>></span> n <span class="token operator">>></span> a <span class="token operator">>></span> b<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        f<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> x<span class="token punctuation">;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>        f<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> x<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    ll ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> tot <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true">// choose node i,j</span>        <span class="token punctuation">{</span>            <span class="token operator">++</span>tot<span class="token punctuation">;</span>            <span class="token keyword">int</span> x <span class="token operator">=</span> i<span class="token punctuation">;</span>            <span class="token keyword">int</span> y <span class="token operator">=</span> j<span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span>                visited<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">==</span> y<span class="token punctuation">)</span>                <span class="token operator">++</span>ans<span class="token punctuation">;</span>            <span class="token keyword">else</span>                ans <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>            visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            visited<span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>x <span class="token operator">!=</span> f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                x <span class="token operator">=</span> f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token operator">++</span>cnt<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>cnt <span class="token operator">%</span> a <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                    <span class="token operator">++</span>ans<span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>y <span class="token operator">!=</span> f<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                y <span class="token operator">=</span> f<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token operator">++</span>cnt<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>cnt <span class="token operator">%</span> b <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    visited<span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                    <span class="token operator">++</span>ans<span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%f\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span>ans <span class="token operator">/</span> tot<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="dfs"><a href="#dfs" class="headerlink" title="dfs"></a>dfs</h3><p>åŸæ¥dfsè¿˜æœ‰è¿™ä¸ªç”¨å¤„å•Šï¼Œå­¦åˆ°äº†å­¦åˆ°äº†ã€‚</p><ul><li><code>P(being visited by either Amadea or Bilva) = P(visited by Amadea) + P(visited by Bilva) - (P(visited by Amadea)*P(visited by Bilva))</code></li><li><code>P(visited by Amadea) = visited times / total number of nodes</code></li><li>æ‰€ä»¥åªéœ€è¦ç®—æ¯ä¸ªèŠ‚ç‚¹è®¿é—®è¿‡çš„æ¬¡æ•°å³å¯ã€‚</li><li>é¦–å…ˆï¼Œæ¯ä¸ªèŠ‚ç‚¹è‡³å°‘è®¿é—®è¿‡ä¸€æ¬¡ï¼Œå› ä¸ºè‡³å°‘ä¼šè¢«é€‰åˆ°ä¸€æ¬¡ã€‚</li><li>å…¶æ¬¡ï¼Œè¶Šé è¿‘å¶å­èŠ‚ç‚¹ï¼Œè®¿é—®æ¬¡æ•°ä¼šè¶Šå¤šã€‚</li><li>æ¯éå†åˆ°ä¸€ä¸ªç‚¹ï¼Œå°±ç»™å®ƒçš„ç¬¬<code>A</code>/<code>B</code>ä¸ªçˆ¶èŠ‚ç‚¹åŠ ä¸Šå®ƒè‡ªå·±çš„è®¿é—®æ¬¡æ•°ã€‚</li><li>ç”¨ä¸€ä¸ªè¾…åŠ©æ•°ç»„<code>path</code>æ¥è®°å½•ä»æ ¹èŠ‚ç‚¹<code>1</code>åˆ°å½“å‰èŠ‚ç‚¹<code>u</code>ç»è¿‡çš„æ‰€æœ‰èŠ‚ç‚¹</li></ul><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> a_visit<span class="token punctuation">,</span> b_visit<span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> children<span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> path<span class="token punctuation">;</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        path<span class="token punctuation">.</span><span class="token function">emplace_back</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>        a_visit<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        b_visit<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v <span class="token operator">:</span> children<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token function">dfs</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>        path<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">>=</span> a<span class="token punctuation">)</span>            a_visit<span class="token punctuation">[</span>path<span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> a<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> a_visit<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">>=</span> b<span class="token punctuation">)</span>            b_visit<span class="token punctuation">[</span>path<span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> b<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> b_visit<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        cin <span class="token operator">>></span> n <span class="token operator">>></span> a <span class="token operator">>></span> b<span class="token punctuation">;</span>        children <span class="token operator">=</span> vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        a_visit <span class="token operator">=</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        b_visit <span class="token operator">=</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">int</span> x<span class="token punctuation">;</span>            <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>            children<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">double</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">double</span> pa <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span>a_visit<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">/</span> n<span class="token punctuation">;</span>            <span class="token keyword">double</span> pb <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span>b_visit<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">/</span> n<span class="token punctuation">;</span>            ans <span class="token operator">+</span><span class="token operator">=</span> pa <span class="token operator">+</span> pb <span class="token operator">-</span> pa <span class="token operator">*</span> pb<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%f\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="Locked-Doors"><a href="#Locked-Doors" class="headerlink" title="Locked Doors"></a>Locked Doors</h2><p>åšåˆ°è¿™é¢˜çš„æ—¶å€™æ²¡æ—¶é—´äº†ï¼Œåªå‰©ä¸‹åŠå°æ—¶ä¸åˆ°ï¼Œåœ¨æœ€åä¸€åˆ†é’Ÿçš„æ—¶å€™æ‰è¿‡äº†ç¬¬ä¸€ä¸ªæ ·ä¾‹ğŸ˜„ã€‚</p><h3 id="æ¨¡æ‹Ÿ"><a href="#æ¨¡æ‹Ÿ" class="headerlink" title="æ¨¡æ‹Ÿ"></a>æ¨¡æ‹Ÿ</h3><p>è¯¥é¢˜çš„æ¨¡æ‹Ÿå¹¶ä¸éš¾æƒ³ï¼Œåªéœ€ç”¨ä¸¤ä¸ªæŒ‡é’ˆ<code>l</code>å’Œ<code>r</code>æ¥ç»´æŠ¤å·¦å³é”ä½çš„é—¨çš„ä¸‹æ ‡å³å¯ï¼Œå¤æ‚åº¦ä¸º$O(NQ)$</p><ul><li>$N$ä¸ªæˆ¿é—´åªæœ‰$N-1$ä¸ªé—¨ï¼Œæ³¨æ„æ•°ç»„å¤§å°ã€‚</li><li>è¾¹ç•Œæ¡ä»¶ï¼š<code>a[0],a[n]=INT_MAX</code>ï¼Œå½“ä¸€ä¾§çš„é—¨å…¨éƒ¨æ‰“å¼€åï¼Œåªèƒ½æ‰“å¼€å¦ä¸€ä¾§çš„é—¨ã€‚</li><li>ç”»å›¾æ¥å¸®åŠ©ç†è§£é—¨å’Œæˆ¿é—´çš„å¯¹åº”å…³ç³»</li></ul><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> q<span class="token punctuation">;</span>    cin <span class="token operator">>></span> n <span class="token operator">>></span> q<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> INT32_MAX<span class="token punctuation">,</span> a<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> INT32_MAX<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>q<span class="token operator">--</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> s<span class="token punctuation">,</span> k<span class="token punctuation">;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>s<span class="token punctuation">,</span> <span class="token operator">&amp;</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> l <span class="token operator">=</span> s <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> r <span class="token operator">=</span> s<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> k<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">&lt;</span> a<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token operator">--</span>l<span class="token punctuation">;</span>                s <span class="token operator">=</span> l <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">else</span>            <span class="token punctuation">{</span>                <span class="token operator">++</span>r<span class="token punctuation">;</span>                s <span class="token operator">=</span> r<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åšäº†å‡ æ¬¡Googleçš„æ¯”èµ›äº†ï¼Œé¢˜é£è·Ÿåˆ«å¤„è¿˜æ˜¯æœ‰å¾ˆå¤§ä¸åŒçš„ï¼š</p><ul><li>æ³¨é‡è¾¹ç•Œæ¡ä»¶çš„è€ƒå¯Ÿ</li><li>ä¸ä¼šå‘Šè¯‰ä½ å“ªä¸ªæ•°æ®ç‚¹é”™äº†ï¼Œåªèƒ½è‡ªå·±æƒ³ç¨‹åºä¸­ä¸å®Œå–„çš„åœ°æ–¹</li><li>åˆ†æé¢˜ç›®çš„èƒ½åŠ› &gt; ç§¯ç´¯ç®—æ³•çš„å¤šå°‘</li></ul>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> Competition </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>path-with-maximum-probability</title>
      <link href="/2020/07/13/2020/path-with-maximum-probability/"/>
      <url>/2020/07/13/2020/path-with-maximum-probability/</url>
      
        <content type="html"><![CDATA[<h1 id="5211-æ¦‚ç‡æœ€å¤§çš„è·¯å¾„"><a href="#5211-æ¦‚ç‡æœ€å¤§çš„è·¯å¾„" class="headerlink" title="5211. æ¦‚ç‡æœ€å¤§çš„è·¯å¾„"></a>5211. æ¦‚ç‡æœ€å¤§çš„è·¯å¾„</h1><h2 id="dfs"><a href="#dfs" class="headerlink" title="dfs"></a>dfs</h2><p>æˆ‘ç¬¬ä¸€ååº”æ˜¯ç”¨dfsï¼Œæ— å¥ˆdfsæ€ä¹ˆä¼˜åŒ–éƒ½è¶…æ—¶ï¼Œåæ¥çœ‹äº†è¯„è®ºåŒºæ‰çŸ¥é“ï¼ŒåŠ ä¸Š<code>if (curp&lt;1e-4) return;</code>å°±å¯ä»¥è¿‡äº†ï¼ŒåŸç†ä¹Ÿå¾ˆç®€å•ï¼šåªè¦ç­”æ¡ˆä¸æ ‡å‡†ç­”æ¡ˆçš„è¯¯å·®ä¸è¶…è¿‡ <code>1e-5</code> ï¼Œå°±ä¼šè¢«è§†ä½œæ­£ç¡®ç­”æ¡ˆï¼Œæ‰€ä»¥å¦‚æœå½“å‰å·²ç»èµ°è¿‡çš„è·¯å¾„çš„æˆåŠŸæ¦‚ç‡å¤ªå°çš„è¯ï¼Œå¯ä»¥ç›´æ¥ä¸è¦è¿™æ¡è·¯å¾„ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">double</span><span class="token operator">>></span> e<span class="token punctuation">[</span><span class="token number">10005</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> visited<span class="token punctuation">[</span><span class="token number">10005</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">double</span> ans<span class="token punctuation">;</span>    <span class="token keyword">double</span> laste<span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">,</span><span class="token keyword">int</span> end<span class="token punctuation">,</span><span class="token keyword">double</span> curp<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>u<span class="token operator">==</span>end<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            ans<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span>curp<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>curp<span class="token operator">&lt;</span><span class="token number">1e-5</span><span class="token operator">||</span>curp<span class="token operator">*</span>laste<span class="token operator">&lt;</span>ans<span class="token punctuation">)</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>e<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">int</span> v<span class="token operator">=</span>e<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>first<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token keyword">double</span> p<span class="token operator">=</span>e<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>second<span class="token punctuation">;</span>            visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>            <span class="token function">dfs</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span>end<span class="token punctuation">,</span>curp<span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>            visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">double</span> <span class="token function">maxProbability</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> edges<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">></span><span class="token operator">&amp;</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>edges<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>            e<span class="token punctuation">[</span>edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            e<span class="token punctuation">[</span>edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>e<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>            laste<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>laste<span class="token punctuation">,</span>e<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span>end<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="dijkstra"><a href="#dijkstra" class="headerlink" title="dijkstra"></a>dijkstra</h2><p>dfsç®—æ³•è¶…æ—¶åï¼Œæˆ‘ç«‹åˆ»å°±æƒ³åˆ°äº†æœ€çŸ­è·¯ç®—æ³•ï¼šdijkstraã€‚</p><p>è¿™é¢˜ä¸æœ€çŸ­è·¯æœ¬è´¨ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œæœ€çŸ­è·¯æ˜¯å°†æ¯æ¡è¾¹åŠ èµ·æ¥ï¼Œæ±‚æœ€å°è¾¹æƒå’Œï¼›è€Œè¿™é¢˜æ˜¯å°†æ¯æ¡è¾¹ä¹˜èµ·æ¥ï¼Œæ±‚æœ€å¤§è¾¹æƒä¹˜ç§¯ã€‚<br>è¯æ˜æ–¹æ³•ï¼š</p><ul><li><a href="https://leetcode-cn.com/problems/path-with-maximum-probability/solution/zui-duan-lu-suan-fa-ji-zheng-que-xing-de-yan-jin-z/" target="_blank" rel="noopener">è¯æ˜è´ªå¿ƒæ˜¯æ­£ç¡®çš„</a>ï¼Œæ¯ä¸ªç‚¹ä¸€æ—¦è¢«åŠ å…¥é›†åˆï¼Œä¹‹åå°±ä¸èƒ½å‡ºç°ä¸€æ¡æ›´çŸ­çš„è·¯å¾„äº†ã€‚</li></ul><p>ä½†æ˜¯æˆ‘ä¸€å¼€å§‹çš„dijkstraå†™é”™äº†ï¼Œä¼˜å…ˆé˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹æŒ‰ç…§å¤–éƒ¨æ•°ç»„<code>dis</code>ä»å¤§åˆ°å°æ’åˆ—ï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼š</p><ul><li>é˜Ÿåˆ—é‡Œçš„å…ƒç´ çš„ä¼˜å…ˆçº§æ˜¯ç”±å¤–ç•Œçš„<code>dis</code>å˜åŒ–å†³å®šçš„ï¼Œpriority_queueå°±æ— æ³•å®æ—¶ä¿è¯é˜Ÿåˆ—é‡Œçš„å…ƒç´ æ»¡è¶³å †æ€§è´¨äº†ã€‚æˆ‘åªè¦åœ¨å¤–é¢éšä¾¿æ”¹ä¸€æ”¹<code>dis</code>çš„å€¼ï¼Œpriority_queueå°±åºŸäº†ã€‚</li><li><a href="https://www.luogu.com.cn/discuss/show/51361" target="_blank" rel="noopener">https://www.luogu.com.cn/discuss/show/51361</a></li></ul><p>æ‰€ä»¥priority_queueä¸­å­˜å‚¨çš„åº”è¯¥æ˜¯<code>pair&lt;double,int&gt; {p,u}</code>ï¼Œä¼˜å…ˆé˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¼˜å…ˆçº§ä¸ä¾èµ–äºå¤–éƒ¨å…ƒç´ ã€‚</p><p>æ­¤å¤„ä¸éœ€è¦é‡è½½è¿ç®—ç¬¦ï¼š</p><ul><li>ä¼˜å…ˆé˜Ÿåˆ—é»˜è®¤çš„æ¯”è¾ƒç±»å‹æ˜¯ï¼š<code>class Compare = std::less&lt;typename Container::value_type&gt;</code>ã€‚</li><li><code>less</code>ä¼šè°ƒç”¨ç±»å‹ T ä¸Šçš„ <code>operator&lt;</code> ï¼Œé™¤éç‰¹åŒ–ã€‚</li><li><code>pair&lt;class T1, class T2&gt;</code>çš„å°äºå·<code>&lt;</code>ä¼šå…ˆæ¯”è¾ƒç¬¬ä¸€ä¸ªå…ƒç´ <code>.first</code>ï¼Œå†æ¯”è¾ƒç¬¬äºŒä¸ªå…ƒç´ <code>.second</code>ã€‚</li><li>æ‰€ä»¥<code>priority_queue&lt;pair&lt;double,int&gt;&gt; q</code>æ˜¯æŒ‰<code>p</code>ä»å¤§åˆ°å°æ’åˆ—ã€‚</li></ul><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">>></span> e<span class="token punctuation">[</span><span class="token number">10005</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> visited<span class="token punctuation">[</span><span class="token number">10005</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">double</span> <span class="token function">maxProbability</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> edges<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">></span><span class="token operator">&amp;</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>edges<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            e<span class="token punctuation">[</span>edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            e<span class="token punctuation">[</span>edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        vector<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">></span> <span class="token function">dis</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        priority_queue<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">>></span> q<span class="token punctuation">;</span>        dis<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>        q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">1.0</span><span class="token punctuation">,</span>start<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">auto</span> <span class="token punctuation">[</span>p<span class="token punctuation">,</span>u<span class="token punctuation">]</span><span class="token operator">=</span>q<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>visited<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token keyword">continue</span><span class="token punctuation">;</span>            visited<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token punctuation">[</span>p<span class="token punctuation">,</span>v<span class="token punctuation">]</span><span class="token operator">:</span>e<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                dis<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>dis<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">,</span>dis<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span>                    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>dis<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">,</span>v<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> dis<span class="token punctuation">[</span>end<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> Leetcode </tag>
            
            <tag> shortest path </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å­¦æ ¡è¿æ–°ç½‘ç«™è®¾è®¡</title>
      <link href="/2020/07/10/2020/developciwk/"/>
      <url>/2020/07/10/2020/developciwk/</url>
      
        <content type="html"><![CDATA[<h1 id="å­¦æ ¡è¿æ–°ç½‘ç«™è®¾è®¡"><a href="#å­¦æ ¡è¿æ–°ç½‘ç«™è®¾è®¡" class="headerlink" title="å­¦æ ¡è¿æ–°ç½‘ç«™è®¾è®¡"></a>å­¦æ ¡è¿æ–°ç½‘ç«™è®¾è®¡</h1><p>åˆæ˜¯ä¸€å¤©æ—©ä¸Šï¼Œæˆ‘ååœ¨ç”µè„‘å‰æ‘¸é±¼ã€‚çªç„¶ï¼Œæ¨åŒå­¦å‘æ¥äº†æ¶ˆæ¯ï¼Œé‚€è¯·æˆ‘å‚ä¸å­¦æ ¡è¿æ–°ç½‘ç«™ï¼ˆCUHKSZ Welcome Wallï¼‰çš„è®¾è®¡ã€‚<br>å…¶å®æˆ‘ä¸€ç›´éƒ½æƒ³åšä¸€ä¸ªç½‘ç«™ï¼Œå°±æ˜¯æ‡’è€Œå·²ï¼Œéœ€è¦ä¸€ä¸ªé¡¹ç›®æ¥é©±åŠ¨ã€‚æ—¢ç„¶ä»–éƒ½ä¸»åŠ¨é‚€è¯·æˆ‘äº†ï¼Œé‚£è‚¯å®šä¸Šå•Šã€‚</p><p>æˆ‘è´Ÿè´£çš„æ˜¯ç½‘ç«™çš„åç«¯ï¼Œæ¡†æ¶æ˜¯<code>django</code>ã€‚æˆ‘ä¹‹å‰ä»æœªç”¨è¿‡<code>django</code>ï¼Œé‚£å°±ç°å­¦å‘—ã€‚<br>æŠŠ<a href="https://docs.djangoproject.com/zh-hans/3.0/intro/tutorial01/" target="_blank" rel="noopener">django tutorial</a>è¿‡ä¸€éï¼Œäº†è§£äº†é‡Œé¢çš„ä¸€äº›æ¦‚å¿µå’Œæ•´ä¸ªå¼€å‘çš„æµç¨‹ã€‚</p><h2 id="è®¾è®¡æ•°æ®åº“"><a href="#è®¾è®¡æ•°æ®åº“" class="headerlink" title="è®¾è®¡æ•°æ®åº“"></a>è®¾è®¡æ•°æ®åº“</h2><ul><li>ç›®æ ‡æ˜¯åšä¸€ä¸ªç±»çŸ¥ä¹çš„é—®ç­”ç½‘ç«™</li><li>å…ˆç”»ER Diagramï¼Œè®¾è®¡äº†<code>user</code>,<code>question</code>,<code>answer</code>,<code>comment</code>è¿™å‡ ä¸ªè¡¨</li><li>é‚£è¯„è®ºåˆ«äººçš„è¯„è®ºè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</li><li>æˆ‘ä¸ŠçŸ¥ä¹æŸ¥äº†ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ï¼Œ<a href="https://www.zhihu.com/question/38959595" target="_blank" rel="noopener">å‘ç°äº†è§£å†³æ–¹æ¡ˆ</a>ï¼Œåªè¦åœ¨<code>comment</code>ä¸­åŠ ä¸€ä¸ªå¤–é”®<code>reply_comment_id</code>å°±å¥½äº†</li><li>åœ¨è¿™ä¸ªé—®é¢˜ä¸‹é¢ï¼Œæˆ‘å‘ç°äº†å¦å¤–ä¸€ä¸ªé—®é¢˜ï¼šå¦‚ä½•è®¾è®¡æ•°æ®åº“ä½¿æ¯ä¸ªç”¨æˆ·åªèƒ½ç‚¹èµ/è¸©åŒä¸€ä¸ªå›ç­”/è¯„è®ºä¸€æ¬¡å‘¢ï¼Ÿ</li><li>å‚è€ƒäº†åˆ«äººçš„å›ç­”ï¼Œæ·»åŠ <code>answer_vote</code>æ¥å­˜å‚¨æŸä¸ªç”¨æˆ·å¯¹æŸæ¡å›ç­”çš„æŠ•ç¥¨ä¿¡æ¯ï¼Œ<code>comment_vote</code>æ¥å­˜å‚¨æŸä¸ªç”¨æˆ·å¯¹æŸæ¡è¯„è®ºçš„æŠ•ç¥¨ä¿¡æ¯ã€‚</li><li>åˆæ­¥çš„æ•°æ®åº“è®¾è®¡ï¼š</li><li><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/DevelopCiwk-2020-07-10-09-05-06" alt="ER Diagram"></li></ul><h2 id="djangoä¸­å»ºç«‹ORMæ¨¡å‹"><a href="#djangoä¸­å»ºç«‹ORMæ¨¡å‹" class="headerlink" title="djangoä¸­å»ºç«‹ORMæ¨¡å‹"></a>djangoä¸­å»ºç«‹ORMæ¨¡å‹</h2><p>djangoä¸­çš„æ•°æ®åº“åœ¨<code>models.py</code>ä¸­å®šä¹‰ï¼Œç”¨çš„æ˜¯ORMã€‚</p><p>é‡åˆ°çš„ä¸€äº›é—®é¢˜åŠè§£å†³æ–¹æ¡ˆï¼š</p><ul><li>ç”¨äºåˆ†ç±»çš„å­—æ®µï¼Œå¦‚<code>gender</code>åªæœ‰ä¸¤ä¸ªå–å€¼ï¼Œè¯¥å¦‚ä½•è¡¨ç¤ºï¼Ÿå¯ä»¥ä½¿ç”¨<a href="https://docs.djangoproject.com/zh-hans/3.0/ref/models/fields/#choices" target="_blank" rel="noopener">Choices</a>æ¥æ˜¾å¼å®šä¹‰:<pre class=" language-python"><code class="language-python">  <span class="token keyword">class</span> <span class="token class-name">Gender</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>TextChoices<span class="token punctuation">)</span><span class="token punctuation">:</span>      MAN <span class="token operator">=</span> <span class="token string">'M'</span>      WOMAN <span class="token operator">=</span> <span class="token string">'W'</span>  gender <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> choices<span class="token operator">=</span>Gender<span class="token punctuation">.</span>choices<span class="token punctuation">)</span></code></pre>  Choicesæ­¤å¤„åœ¨çº¯åç«¯çš„djangoä¸­å…¶å®åªèµ·åˆ°äº†ä»£ç æ³¨é‡Šçš„ä½œç”¨ï¼Œåœ¨ç”Ÿæˆçš„æ•°æ®åº“è¯­å¥ä¸­ä¸ä¼šäº§ç”Ÿä»»ä½•ä¸åŒã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>gender=&quot;A&quot;</code>ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</li><li>å¤–é”®ï¼ˆforeign keyï¼‰ä¸­çš„<code>on_delete</code>è¯¥å¦‚ä½•è®¾ç½®ï¼Ÿ<ul><li>è¿™æ˜¯ä¸€ä¸ªæœ‰å…³è®¾è®¡å“²å­¦çš„é—®é¢˜</li><li>å¯¹äº<code>on_delete</code>çš„6ç§æ¨¡å¼ä»‹ç»ï¼Œ<a href="https://stackoverflow.com/questions/38388423/what-does-on-delete-do-on-django-models" target="_blank" rel="noopener">stackoverflow</a>ä¸Šé¢æœ‰ç²¾å½©çš„å›ç­”</li><li><code>CASCADE</code>æ˜¯æœ€ä¸¥è°¨çš„æ¨¡å¼ï¼Œä¾‹å¦‚ä¸€ä¸ªç”¨æˆ·è¢«åˆ é™¤äº†ï¼Œé‚£ä¹ˆä»–æ‰€æœ‰çš„å›ç­”å’Œè¯„è®ºéƒ½ä¼šè¢«åˆ é™¤ï¼Œè¿™æ ·èƒ½æœ€å¥½åœ°ä¿è¯æ•°æ®åº“çš„å®Œæ•´æ€§ï¼ˆintegrityï¼‰</li><li><code>SET_NULL</code>èƒ½æœ€å¥½åœ°ä¿æŠ¤æ•°æ®ä¸ä¸¢å¤±ï¼Œå“ªæ€•è¯¯æ“ä½œåˆ æ‰äº†ä¸€ä¸ªç”¨æˆ·ï¼Œä»–æ‰€æœ‰çš„å›ç­”å’Œè¯„è®ºéƒ½ä¿å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œä¸ä¼šä¸¢å¤±ã€‚çŸ¥ä¹ä¸Šæœ‰æ—¶ä¼šçœ‹åˆ°â€œå·²æ³¨é”€ç”¨æˆ·â€å°±æ˜¯è¿™ä¸ªé“ç†ï¼Œè™½ç„¶ä»–çš„ä¸ªäººä¿¡æ¯å¯èƒ½è¢«æ°¸ä¹…åˆ é™¤äº†ï¼Œä½†æ˜¯ä»–çš„å›ç­”å’Œè¯„è®ºéƒ½ä¿å­˜åœ¨æ•°æ®åº“ä¸­ã€‚ï¼ˆå½“ç„¶æˆ‘ä¸ç¡®å®šçŸ¥ä¹æ˜¯å¦é‡‡ç”¨äº†è¿™ç§æ¨¡å¼ï¼‰</li><li>æˆ‘æœ€åé€‰æ‹©äº†<code>SET_NULL</code>ï¼š<pre class=" language-python"><code class="language-python">user_id <span class="token operator">=</span> models<span class="token punctuation">.</span>ForeignKey<span class="token punctuation">(</span>User<span class="token punctuation">,</span> on_delete<span class="token operator">=</span>models<span class="token punctuation">.</span>SET_NULL<span class="token punctuation">,</span> null<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> db_column<span class="token operator">=</span><span class="token string">"user_id"</span><span class="token punctuation">)</span></code></pre></li></ul></li></ul><h2 id="API-Document"><a href="#API-Document" class="headerlink" title="API Document"></a>API Document</h2><ul><li><a href="https://github.com/apiaryio/api-blueprint" target="_blank" rel="noopener">API Blueprint ä¸€é—¨ç±»markdownçš„apiè®¾è®¡è¯­è¨€</a></li><li><a href="https://apiary.io/" target="_blank" rel="noopener">ä¸€ä¸ªåœ¨çº¿ç¼–è¾‘ï¼Œé¢„è§ˆï¼Œæµ‹è¯•APIçš„ç½‘ç«™</a></li></ul><p>ç”Ÿæˆå‡ºçš„APIæ–‡æ¡£ååˆ†ç¾è§‚<br><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/DevelopCiwk-2020-07-10-10-17-33" alt="API Document Example"></p><h2 id="djangoå‰åç«¯åˆ†ç¦»å®è·µ"><a href="#djangoå‰åç«¯åˆ†ç¦»å®è·µ" class="headerlink" title="djangoå‰åç«¯åˆ†ç¦»å®è·µ"></a>djangoå‰åç«¯åˆ†ç¦»å®è·µ</h2><p>djangoæ˜¯è‡ªå¸¦å‰ç«¯ç•Œé¢çš„ï¼Œä½†åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œdjangoåªè´Ÿè´£åç«¯éƒ¨åˆ†ï¼Œå‰ç«¯ç”¨reactå®Œæˆã€‚</p><p>ç”±äºæˆ‘ä»¬é¡¹ç›®è¾ƒå°ï¼Œæ ¸å¿ƒå¼€å‘äººå‘˜åªæœ‰ä¸‰äººï¼Œæˆ‘è´Ÿè´£åç«¯éƒ¨åˆ†ï¼Œå¦å¤–ä¸¤ä½åŒå­¦è´Ÿè´£å‰ç«¯ï¼Œæ‰€ä»¥æˆ‘ä»¬æ˜¯ä¸€è¾¹å®Œå–„APIæ–‡æ¡£ä¸€è¾¹å†™ç¨‹åºçš„ã€‚åç«¯åªéœ€è¦æä¾›APIï¼Œæ ¹æ®ç›¸åº”çš„è¯·æ±‚è¿”å›å¯¹åº”çš„jsonã€‚ä¸‹é¢è®²ä¸€äº›å¸¸ç”¨çš„å‡½æ•°/åŠŸèƒ½ï¼š</p><ul><li><code>body_dict = json.loads(request.body.decode(&#39;utf-8&#39;))</code> è¯»å–POSTä¸­çš„å­—æ®µ</li><li><code>dict.get</code> pythonå­—å…¸çš„getæ–¹æ³•</li><li><code>models.save()</code> æ›´æ”¹æŸä¸ªmodelåä¿å­˜</li><li><code>get_object_or_404</code> è·å–å•ä¸ªç¬¦åˆæ¡ä»¶çš„model</li><li><code>models.objects.filter</code> è¿”å›ä¸€ä¸ª<code>queryset</code>åŒ…å«ç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰model</li></ul><h3 id="Convert-Django-Model-object-to-dict"><a href="#Convert-Django-Model-object-to-dict" class="headerlink" title="Convert Django Model object to dict"></a>Convert Django Model object to dict</h3><p><a href="https://stackoverflow.com/questions/21925671/convert-django-model-object-to-dict-with-all-of-the-fields-intact" target="_blank" rel="noopener">StackOverflowä¸Šé¢å¯¹è¿™ä¸ªé—®é¢˜çš„è§£ç­”</a></p><p>æˆ‘åœ¨é¡¹ç›®ä¸­ä¸»è¦é‡‡ç”¨äº†2ç§æ–¹æ³•ï¼š</p><ol><li><code>model_to_dict</code>ï¼šè¿”å›ç‰¹å®šåˆ—ä¸”ä¸éœ€è¦è¿”å›å¤–é”®çš„åœºæ™¯ä¸­ã€‚</li><li>StackOverflowä¸Šçš„custom function<code>to_dict</code>ï¼šè¿”å›modelçš„æ‰€æœ‰å­—æ®µã€‚</li></ol><p><code>to_dict</code>ä¹Ÿå¯ä»¥åªè¿”å›modelçš„ç‰¹å®šåˆ—ï¼Œå†™æ³•å¦‚ä¸‹ï¼š</p><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">to_dict</span><span class="token punctuation">(</span>instance<span class="token punctuation">,</span> except_fields<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    opts <span class="token operator">=</span> instance<span class="token punctuation">.</span>_meta    d <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>    <span class="token keyword">for</span> f <span class="token keyword">in</span> chain<span class="token punctuation">(</span>opts<span class="token punctuation">.</span>concrete_fields<span class="token punctuation">,</span> opts<span class="token punctuation">.</span>private_fields<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> f<span class="token punctuation">.</span>name <span class="token keyword">in</span> except_fields<span class="token punctuation">:</span>            <span class="token keyword">continue</span>        d<span class="token punctuation">[</span>f<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> f<span class="token punctuation">.</span>value_from_object<span class="token punctuation">(</span>instance<span class="token punctuation">)</span>    <span class="token keyword">for</span> f <span class="token keyword">in</span> opts<span class="token punctuation">.</span>many_to_many<span class="token punctuation">:</span>        <span class="token keyword">if</span> f<span class="token punctuation">.</span>name <span class="token keyword">in</span> except_fields<span class="token punctuation">:</span>            <span class="token keyword">continue</span>        d<span class="token punctuation">[</span>f<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>i<span class="token punctuation">.</span>id <span class="token keyword">for</span> i <span class="token keyword">in</span> f<span class="token punctuation">.</span>value_from_object<span class="token punctuation">(</span>instance<span class="token punctuation">)</span><span class="token punctuation">]</span>    <span class="token keyword">return</span> d</code></pre><h2 id="ç”¨æˆ·ç™»å½•ç³»ç»Ÿè®¾è®¡"><a href="#ç”¨æˆ·ç™»å½•ç³»ç»Ÿè®¾è®¡" class="headerlink" title="ç”¨æˆ·ç™»å½•ç³»ç»Ÿè®¾è®¡"></a>ç”¨æˆ·ç™»å½•ç³»ç»Ÿè®¾è®¡</h2><p>ç”¨æˆ·æˆåŠŸç™»å½•åï¼Œç”¨<code>set_cookie</code>æ–¹æ³•å°†<code>token</code>ï¼ˆä¸€ä¸²éšæœºç”Ÿæˆçš„å­—ç¬¦ä¸²ä½œä¸ºç”¨æˆ·èº«ä»½æ ‡è¯†ï¼‰æ”¾åœ¨ç”¨æˆ·çš„cookieä¸­ã€‚åœ¨éœ€è¦éªŒè¯ç”¨æˆ·èº«ä»½çš„åœºæ™¯ä¸­ï¼Œåªéœ€è¦éªŒè¯ç”¨æˆ·cookieä¸­çš„tokenä¸æ•°æ®åº“ä¸­è¯¥user_idå¯¹åº”çš„tokenæ˜¯å¦ç›¸ç­‰å³å¯ï¼Œçœå»äº†æ¯æ¬¡ç™»å½•çš„éº»çƒ¦ã€‚tokenæœ‰è¿‡æœŸæ—¶é—´ï¼Œå¦‚æœtokenè¿‡æœŸäº†å°±ç›¸å½“äºæ— æ•ˆï¼Œç”¨æˆ·éœ€è¦é‡æ–°ç™»å½•è·å–æ–°ç”Ÿæˆçš„tokenã€‚</p><p>ç”±äºæˆ‘å¹¶æ²¡æœ‰é‡‡ç”¨djangoä¸­çš„èº«ä»½éªŒè¯æ¨¡å—ï¼Œå› æ­¤ä»¥ä¸‹æ“ä½œéƒ½éœ€æ‰‹åŠ¨è¿›è¡Œï¼šç”Ÿæˆtokenå’Œè¿‡æœŸæ—¥æœŸexpired_dateï¼Œå­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼Œè¿›è¡Œtokenæ¯”å¯¹ã€‚ä¸ºäº†å‡å°‘é‡å¤ä»£ç ï¼Œæˆ‘ä½¿ç”¨äº†è£…é¥°å™¨æ¥è¿›è¡Œtokenæ¯”å¯¹ï¼š</p><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">post_token_auth_decorator</span><span class="token punctuation">(</span>api<span class="token punctuation">)</span><span class="token punctuation">:</span>    @wraps<span class="token punctuation">(</span>api<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">token_auth</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>        body_dict <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        user <span class="token operator">=</span> get_object_or_404<span class="token punctuation">(</span>User<span class="token punctuation">,</span> user_id<span class="token operator">=</span>body_dict<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"user_id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> request<span class="token punctuation">.</span>COOKIES<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">)</span> <span class="token operator">!=</span> user<span class="token punctuation">.</span>token<span class="token punctuation">:</span>            <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">"token incorrect"</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> user<span class="token punctuation">.</span>expired_date <span class="token operator">&lt;</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">"token expire"</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> api<span class="token punctuation">(</span>request<span class="token punctuation">)</span>    <span class="token keyword">return</span> token_auth</code></pre><p>åœ¨éœ€è¦éªŒè¯ç”¨æˆ·èº«ä»½çš„åœºæ™¯ä¸­ï¼Œå¦‚æ‰€æœ‰çš„POSTæ“ä½œï¼Œåªéœ€è¦åœ¨APIå‰åŠ ä¸Š<code>@post_token_auth_decorator</code>å³å¯ã€‚äº‹å®ä¸Šï¼ŒPOSTçš„APIä½¿ç”¨äº†2ä¸ªè£…é¥°å™¨ï¼ˆæ³¨æ„å…ˆåé¡ºåºï¼‰ï¼š</p><pre class=" language-python"><code class="language-python">@require_http_methods<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"POST"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>@post_token_auth_decorator<span class="token keyword">def</span> <span class="token function">alter_user_info</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span></code></pre><p>P.S. <a href="https://www.runoob.com/w3cnote/python-func-decorators.html" target="_blank" rel="noopener">è£…é¥°å™¨æ•™ç¨‹ï¼Œæ³¨æ„çœ‹ä¸‹é¢çš„ç¬¬ä¸€ç¯‡ç¬”è®°</a></p><p>ä½¿ç”¨secretsåº“ä¸­çš„<code>token_urlsafe</code>æ–¹æ³•ç”Ÿæˆtokenå¹¶<code>set_cookie</code>ï¼š</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> secrets <span class="token keyword">import</span> token_urlsafeuser<span class="token punctuation">.</span>token <span class="token operator">=</span> token_urlsafe<span class="token punctuation">(</span>TOKEN_LENGTH<span class="token punctuation">)</span>user<span class="token punctuation">.</span>expired_date <span class="token operator">=</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> timedelta<span class="token punctuation">(</span>days<span class="token operator">=</span>TOKEN_DURING_DAYS<span class="token punctuation">)</span>response <span class="token operator">=</span> HttpResponse<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"message"</span><span class="token punctuation">:</span> <span class="token string">"User register successfully"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> content_type<span class="token operator">=</span><span class="token string">'application/json'</span><span class="token punctuation">)</span>response<span class="token punctuation">.</span>set_cookie<span class="token punctuation">(</span><span class="token string">"token"</span><span class="token punctuation">,</span> user<span class="token punctuation">.</span>token<span class="token punctuation">)</span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Backend </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Database </tag>
            
            <tag> Backend </tag>
            
            <tag> Django </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢æŠ˜è…¾æ—¥è®°</title>
      <link href="/2020/07/10/2020/blogconfigure/"/>
      <url>/2020/07/10/2020/blogconfigure/</url>
      
        <content type="html"><![CDATA[<h1 id="åšå®¢æŠ˜è…¾æ—¥è®°"><a href="#åšå®¢æŠ˜è…¾æ—¥è®°" class="headerlink" title="åšå®¢æŠ˜è…¾æ—¥è®°"></a>åšå®¢æŠ˜è…¾æ—¥è®°</h1><h2 id="ä¸»é¢˜"><a href="#ä¸»é¢˜" class="headerlink" title="ä¸»é¢˜"></a>ä¸»é¢˜</h2><p>ä¸€æ¬¡å¶ç„¶çš„æœºä¼šæ‰“å¼€äº†åˆ«äººçš„åšå®¢ï¼Œå®ƒçš„ç•Œé¢å¾ˆå¥½çœ‹ï¼Œäºæ˜¯æˆ‘è‡ªå·±ä¹Ÿæƒ³åšä¸€ä¸ªã€‚<br>ä»–ç”¨çš„æ˜¯<code>hexo+next</code>ï¼Œæˆ‘ä¸€å¼€å§‹ç”¨çš„ä¸»é¢˜æ˜¯<a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="noopener">yilia</a>ï¼Œè¿™ä¸ªä¸»é¢˜é…ç½®ç®€å•ï¼Œå°±æ˜¯æœ‰ç‚¹ä¸‘ï¼Œè€Œä¸”å¾ˆä¹…æ²¡æ›´æ–°äº†ã€‚<br>é…ç½®å¥½åå‘ç°ï¼šæ–‡ç« é¢„è§ˆæœ‰é—®é¢˜ï¼Œä¸»é¡µå±•ç¤ºäº†æ•´ç¯‡æ–‡ç« ï¼Œè¿™ä¸ªåœ°æ–¹æŠ˜è…¾äº†å¥½ä¹…ï¼Œæœ‰ä¸€å¤©çªç„¶åˆèƒ½è‡ªåŠ¨æˆªæ–­äº†â€¦â€¦  </p><p>ä½†æ˜¯åæ¥æˆ‘ä¸ŠGithubæ‰¾åˆ°ä¸€ä¸ªéå¸¸å¥½çœ‹çš„ä¸»é¢˜<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank" rel="noopener">hexo-theme-matery</a>ï¼Œè¿™ä¸ªçš„é…ç½®æ•™ç¨‹è¶…çº§å¥½ï¼ŒåŸºæœ¬éƒ½è¦†ç›–åˆ°äº†ã€‚<br>æœ‰ä¸€äº›æ²¡è¦†ç›–åˆ°çš„å†…å®¹å¯ä»¥å»Issuesæ‰¾æˆ–è€…æœç´¢ä»£ç ï¼Œæ¯”å¦‚ï¼š</p><ol><li><code>mathjax</code>é»˜è®¤å…¨å±€æ‰“å¼€:<code>/layout/post.ejs</code>çš„æœ€åä¸€ä¸ª<code>if(xxx)</code>æ”¹æˆ<code>if(1)</code>å³å¯</li></ol><p>å…¶å®åšå®¢å…³é”®è¿˜æ˜¯å†…å®¹ï¼Œå†…å®¹ä¸ºç‹ï¼Œå¤–è§‚å†æ¼‚äº®ä¹Ÿåªæ˜¯è¡¬æ‰˜ç½¢äº†ã€‚</p><h2 id="æœç´¢å¼•æ“æ”¶å½•"><a href="#æœç´¢å¼•æ“æ”¶å½•" class="headerlink" title="æœç´¢å¼•æ“æ”¶å½•"></a>æœç´¢å¼•æ“æ”¶å½•</h2><h3 id="Google"><a href="#Google" class="headerlink" title="Google"></a>Google</h3><p>ä¸Š<a href="https://search.google.com/search-console/welcome" target="_blank" rel="noopener">Google Search Console</a>ï¼Œæœ‰å¤šç§éªŒè¯æ–¹å¼æ¥ç¡®è®¤ç½‘ç«™æ˜¯å½’å±ä½ æ‰€æœ‰çš„ã€‚<br>æˆ‘ç”¨äº†æœ€ç®€å•çš„é‚£ç§æ–¹å¼ï¼šåœ¨<code>/public</code>ä¸‹åŠ ä¸€ä¸ª<code>.html</code>æ–‡ä»¶ï¼Œä½†æ˜¯æ¯æ¬¡éƒ¨ç½²ç½‘ç«™<code>hexo clean</code> <code>hexo d</code>éƒ½è¦æ‰‹åŠ¨æŠŠè¿™ä¸ªæ–‡ä»¶åŠ è¿›å»</p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>submatrices</title>
      <link href="/2020/07/05/2020/submatrices/"/>
      <url>/2020/07/05/2020/submatrices/</url>
      
        <content type="html"><![CDATA[<p><a href="https://leetcode-cn.com/problems/count-submatrices-with-all-ones/" target="_blank" rel="noopener">5454. ç»Ÿè®¡å…¨ 1 å­çŸ©å½¢</a></p><p>ç»™ä½ ä¸€ä¸ªåªåŒ…å« 0 å’Œ 1 çš„ rows * columns çŸ©é˜µ mat ï¼Œè¯·ä½ è¿”å›æœ‰å¤šå°‘ä¸ª å­çŸ©å½¢ çš„å…ƒç´ å…¨éƒ¨éƒ½æ˜¯ 1 ã€‚</p><a id="more"></a><ol><li>è¿™é¢˜æ¯”è¾ƒåƒdpï¼ˆç›´è§‰ï¼‰ï¼ŒçŸ©å½¢è¿™ç±»é—®é¢˜æŒºå¥—è·¯çš„ï¼ŒåŸºæœ¬çŠ¶æ€å®šä¹‰éƒ½æ˜¯ä»¥å½“å‰åæ ‡ä¸ºå³ä¸‹è§’</li><li>äºŒç»´çš„æƒ…å†µä¸å¥½å…¥æ‰‹ï¼Œé‚£æˆ‘å°±å…ˆä»ä¸€ç»´çš„æƒ…å†µå¼€å§‹æƒ³ï¼š<code>dp[i]</code>è¡¨ç¤ºä»¥<code>mat[i]</code>ä¸ºæœ€å³ä¾§çŸ©å½¢çš„å…¨ä¸º1çš„å­çŸ©å½¢ä¸ªæ•°ï¼Œ$dp[i]=\sum_{i=1}^{dp[i-1]} if \quad mat[i]=1,dp[i]=0 \quad if \quad mat[i]=0$</li><li>ä½†æ˜¯è¿™ä¸ªç»“è®ºä¼¼ä¹æ— æ³•æ¨å¹¿åˆ°äºŒç»´ï¼Œäºæ˜¯æˆ‘åˆæƒ³åˆ°äº†å¦ä¸€ç§æ–¹æ³•ï¼š<ol><li>å…ˆä»å®½ä¸º1çš„çŸ©å½¢å‡ºå‘ï¼Œ$rowdp[i][j]$è¡¨ç¤ºä»¥$(i,j)$ä¸ºæœ€å³ä¾§çš„çŸ©å½¢çš„æœ€å¤§é•¿åº¦ï¼ˆæœ€å¤§çŸ©å½¢ä¸º$1 \times rowdp[i][j]$ï¼Œ$coldp[i][j]$è¡¨ç¤ºä»¥$(i,j)$ä¸ºåº•éƒ¨çš„çŸ©å½¢çš„æœ€å¤§é«˜åº¦ï¼ˆæœ€å¤§çŸ©å½¢ä¸º$coldp[i][j] \times 1$ï¼‰ã€‚åŸºæœ¬çš„æ¡†æ¶æ˜¯è¿™æ ·çš„ï¼š<pre><code>for range(rowdp[i][j]):  using coldp to update ans</code></pre><ol><li>æœ€å¥½ç”»ä¸‹å›¾æ¥ç†è§£æ•´ä¸ªè¿‡ç¨‹ã€‚æƒ³è±¡æœ‰ä¸€æ¡çº¿ä»ç¬¬$j$åˆ—å‡ºå‘ï¼Œä¸€ç›´å‘å·¦æ‰«ï¼Œæ‰«åˆ°ç¬¬$rowdp[i][j]$åˆ—ç»“æŸã€‚å®é™…ä¸Šæ˜¯æ‰«è¿‡äº†æ‰€æœ‰å¯èƒ½çš„å­çŸ©å½¢çš„å·¦ä¸Šè§’ï¼Œè€Œé€šè¿‡$coldp[i][k]$æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä½äºç¬¬$k$åˆ—çš„å·¦ä¸Šè§’ã€‚$mincol$ä»£è¡¨åˆ°ç¬¬$k$åˆ—ä¸ºæ­¢çš„æœ€å°é«˜åº¦ï¼Œä¸”æœ€å¤§çŸ©å½¢çš„é«˜åº¦ä¸º$mincol$</li></ol></li></ol></li><li>ä»£ç ï¼š<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span> <span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token keyword">int</span> M <span class="token operator">=</span> <span class="token number">155</span><span class="token punctuation">;</span> <span class="token keyword">int</span> rowdp<span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">int</span> coldp<span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">int</span> <span class="token function">numSubmat</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token operator">&amp;</span>mat<span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token keyword">int</span> n <span class="token operator">=</span> mat<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">int</span> m <span class="token operator">=</span> mat<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>     <span class="token punctuation">{</span>         <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>         <span class="token punctuation">{</span>             <span class="token keyword">if</span> <span class="token punctuation">(</span>mat<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>             <span class="token punctuation">{</span>                 rowdp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                 coldp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                 <span class="token keyword">continue</span><span class="token punctuation">;</span>             <span class="token punctuation">}</span>             <span class="token keyword">int</span> prerowdp <span class="token operator">=</span> j <span class="token operator">?</span> rowdp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>             <span class="token keyword">int</span> precoldp <span class="token operator">=</span> i <span class="token operator">?</span> coldp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>             rowdp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> prerowdp <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>             coldp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> precoldp <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>             <span class="token keyword">int</span> mincol <span class="token operator">=</span> M<span class="token punctuation">;</span>             <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> rowdp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span>             <span class="token punctuation">{</span>                 mincol <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>mincol<span class="token punctuation">,</span> coldp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 ans <span class="token operator">+</span><span class="token operator">=</span> mincol<span class="token punctuation">;</span>             <span class="token punctuation">}</span>         <span class="token punctuation">}</span>     <span class="token punctuation">}</span>     <span class="token keyword">return</span> ans<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></li></ol><p>æˆ‘çœ‹åˆ°è¯„è®ºåŒºæ¨èäº†ä¸¤é“ç›¸ä¼¼é¢˜ç›®ï¼š</p><ul><li><a href="https://leetcode-cn.com/problems/count-square-submatrices-with-all-ones/" target="_blank" rel="noopener">1277. ç»Ÿè®¡å…¨ä¸º 1 çš„æ­£æ–¹å½¢å­çŸ©é˜µ</a><ul><li>è¿™é¢˜å°æ”¹ä¸€ä¸‹ä»£ç å°±ACäº†<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> rowdp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    mincol <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>mincol<span class="token punctuation">,</span> coldp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>mincol<span class="token operator">>=</span>k<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>        <span class="token operator">++</span>ans<span class="token punctuation">;</span>    <span class="token keyword">else</span>        <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li></ul></li><li><a href="https://leetcode-cn.com/problems/number-of-submatrices-that-sum-to-target/" target="_blank" rel="noopener">1074. å…ƒç´ å’Œä¸ºç›®æ ‡å€¼çš„å­çŸ©é˜µæ•°é‡</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
          <category> dp </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> Leetcode </tag>
            
            <tag> dp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>number-of-submatrices-that-sum-to-target</title>
      <link href="/2020/07/05/2020/number-of-submatrices-that-sum-to-target/"/>
      <url>/2020/07/05/2020/number-of-submatrices-that-sum-to-target/</url>
      
        <content type="html"><![CDATA[<p><a href="https://leetcode-cn.com/problems/number-of-submatrices-that-sum-to-target/" target="_blank" rel="noopener">5455. æœ€å¤š K æ¬¡äº¤æ¢ç›¸é‚»æ•°ä½åå¾—åˆ°çš„æœ€å°æ•´æ•°</a></p><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² num å’Œä¸€ä¸ªæ•´æ•° k ã€‚å…¶ä¸­ï¼Œnum è¡¨ç¤ºä¸€ä¸ªå¾ˆå¤§çš„æ•´æ•°ï¼Œå­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ä¾æ¬¡å¯¹åº”æ•´æ•°ä¸Šçš„å„ä¸ªæ•°ä½ ã€‚<br>ä½ å¯ä»¥äº¤æ¢è¿™ä¸ªæ•´æ•°ç›¸é‚»æ•°ä½çš„æ•°å­— æœ€å¤š k æ¬¡ã€‚<br>è¯·ä½ è¿”å›ä½ èƒ½å¾—åˆ°çš„æœ€å°æ•´æ•°ï¼Œå¹¶ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›ã€‚</p><a id="more"></a><ol><li>æˆ‘ç¬¬ä¸€ååº”æ˜¯å†’æ³¡æ’åºï¼Œå› ä¸ºåªèƒ½äº¤æ¢ç›¸é‚»å…ƒç´ ã€‚</li><li>æ•²å®Œå†’æ³¡æ’åºå‘ç°æ ·ä¾‹1è¿‡ä¸å»ï¼Œæ‰‹æ¨äº†ä¸€ä¼šï¼Œå‘ç°æ˜¯å› ä¸ºå†’æ³¡æ’åºå¯èƒ½ä¼šåœ¨æŸä¸€è½®ä¸­æ–­ã€‚</li><li>ç„¶åæˆ‘æƒ³åˆ°äº†å…ˆè´ªå¿ƒåå†’æ³¡æ’åºï¼Œå†’æ³¡æ’åºçš„äº¤æ¢æ¬¡æ•°$\sum_{i=n-1}^x i&lt;k$ï¼ˆåæ¥å‘ç°è¿™ä¸ªäº¤æ¢æ¬¡æ•°æ˜¯é”™è¯¯çš„ï¼Œè¿™åªæ˜¯äº¤æ¢æ¬¡æ•°çš„ä¸Šç•Œï¼‰ï¼Œå…ˆæ‰¾åˆ°æ»¡è¶³ä¸ç­‰å¼æœ€å¤§çš„$x$ï¼Œè´ªå¿ƒäº¤æ¢$k-\sum_{i=n-1}^x i$ è½®åå†è¿›è¡Œå†’æ³¡æ’åºã€‚</li><li>ä¸Šé¢é‚£ä¸ªæ–¹æ¡ˆå½“ç„¶è¿‡ä¸äº†æ ·ä¾‹5å•¦ï¼Œæ¯”èµ›å¿«ç»“æŸçš„æ—¶å€™ï¼Œæƒ³åˆ°äº†è¦åœ¨æ¯ä¸€è½®å†’æ³¡æ’åºå‰ï¼Œè®¡ç®—å‡ºè¯¥è½®æ‰€éœ€çš„äº¤æ¢æ¬¡æ•°ï¼Œç¦»ACå¾ˆè¿‘äº†ã€‚</li><li>æ¯”èµ›ç»“æŸå‰è¿˜æ˜¯æ²¡åšå‡ºæ¥ï¼Œåæ¥çœ‹åˆ°<a href="https://leetcode-cn.com/problems/minimum-possible-integer-after-at-most-k-adjacent-swaps-on-digits/solution/5455qi-shi-jiu-shi-huo-yong-yi-dian-mou-pao-pai-xu/" target="_blank" rel="noopener">å…¶å®å°±æ˜¯æ´»ç”¨ä¸€ç‚¹å†’æ³¡æ’åº</a>è¿™ä¸ªé¢˜è§£ï¼Œé˜”ç„¶å¼€æœ—ï¼Œåªè¦æ¯ä¸€è½®çš„å†’æ³¡æ’åºåªè€ƒè™‘$k$æ»¡è¶³çš„åŒºé—´$[i,i+k]$å³å¯ï¼Œ</li><li>ä»£ç ï¼š<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span> string <span class="token function">minInteger</span><span class="token punctuation">(</span>string num<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token keyword">int</span> n <span class="token operator">=</span> num<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">></span> n <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>     <span class="token punctuation">{</span>         <span class="token function">sort</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> num<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token keyword">return</span> num<span class="token punctuation">;</span>     <span class="token punctuation">}</span>     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>     <span class="token punctuation">{</span>         <span class="token keyword">int</span> minx <span class="token operator">=</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>         <span class="token keyword">int</span> idx <span class="token operator">=</span> i<span class="token punctuation">;</span>         <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> j <span class="token operator">-</span> i <span class="token operator">&lt;=</span> k<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>             <span class="token keyword">if</span> <span class="token punctuation">(</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> minx<span class="token punctuation">)</span>             <span class="token punctuation">{</span>                 minx <span class="token operator">=</span> num<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                 idx <span class="token operator">=</span> j<span class="token punctuation">;</span>             <span class="token punctuation">}</span>         <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> idx<span class="token punctuation">;</span> j <span class="token operator">>=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span>         <span class="token punctuation">{</span>             <span class="token function">swap</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token operator">--</span>k<span class="token punctuation">;</span>         <span class="token punctuation">}</span>     <span class="token punctuation">}</span>     <span class="token keyword">return</span> num<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></li></ol><p>ä»¥ä¸Šè§£æ³•æ˜¯$O(n^2)$çš„ï¼Œäº‹å®ä¸Šè¿™é¢˜æœ‰$O(n\log n)$çš„è§£æ³•ï¼šè´ªå¿ƒåœ°å¡«æ¯ä¸€ä½æ•°ï¼Œç”¨çº¿æ®µæ ‘/æ ‘çŠ¶æ•°ç»„ç»´æŠ¤ç½®æ¢æ¬¡æ•°ï¼Œå‘å¾…å¡«~ï¼Œå¯å‚è€ƒï¼š</p><ul><li><a href="https://leetcode-cn.com/problems/minimum-possible-integer-after-at-most-k-adjacent-swaps-on-digits/solution/java-rmqfenwich-tree-onlgn-by-henrylee4/" target="_blank" rel="noopener">çº¿æ®µæ ‘</a></li><li><a href="https://www.bilibili.com/video/BV1tD4y1Q7Mb?p=5" target="_blank" rel="noopener">æ ‘çŠ¶æ•°ç»„</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
          <category> greedy </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> Leetcode </tag>
            
            <tag> greedy </tag>
            
            <tag> sort </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>convert-sorted-array-to-binary-search-tree</title>
      <link href="/2020/07/04/2020/convert-sorted-array-to-binary-search-tree/"/>
      <url>/2020/07/04/2020/convert-sorted-array-to-binary-search-tree/</url>
      
        <content type="html"><![CDATA[<p><a href="https://leetcode-cn.com/problems/convert-sorted-array-to-binary-search-tree/" target="_blank" rel="noopener">108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘</a>ï¼Œè¿™æ˜¯ä¸€é“æœ‰è¶£çš„æ ‘ä¸Šé€’å½’é¢˜</p><ol><li>ä¹ä¸€çœ‹ï¼Œè¿™é¢˜ä¸å¾ˆç®€å•å˜›ï¼Œç›´æ¥é€’æ¨å°±å¥½äº†ï¼Œ<code>nums[mid]</code>çš„å·¦è¾¹æ˜¯å·¦å­æ ‘ï¼Œå³è¾¹æ˜¯å³å­æ ‘ï¼Œæœ€ç»ˆæ ‘çš„å½¢çŠ¶æ˜¯ä¸€ä¸ªäººå­—å½¢</li><li>åŸæ¥è¿™ä¸ªæ¡ä»¶<code>æœ¬é¢˜ä¸­ï¼Œä¸€ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æ ‘æ˜¯æŒ‡ä¸€ä¸ªäºŒå‰æ ‘æ¯ä¸ªèŠ‚ç‚¹ çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1ã€‚</code>æ¯ä¸ªèŠ‚ç‚¹éƒ½è¦æ»¡è¶³ï¼Œé‚£åº”è¯¥è¦ç”¨ä¸Šé€’å½’äº†ã€‚</li><li>é€’å½’ç®—æ³•çš„è®¾è®¡ï¼š<ol><li>å…¶å®è›®å¥—è·¯çš„ï¼Œæ ‘ä¸Šé€’å½’çš„é¢˜ç›®ä»£ç éƒ½å¾ˆçŸ­ï¼ŒåŸºæœ¬å°±æ˜¯å¤„ç†å·¦å­æ ‘â€“&gt;å¤„ç†å³å­æ ‘â€“&gt;åˆå¹¶å·¦å³å­æ ‘</li><li>æˆ‘æ˜¯å…ˆç”¨ç›´è§‰å†™å‡ºé€’å½’ï¼Œç„¶åæ‰‹æ¨ä¸€ä¸‹æ ·ä¾‹çœ‹çœ‹å¯¹ä¸å¯¹ï¼Œå‘ç°é—®é¢˜åå†ä¿®æ”¹é€’å½’</li><li>æ¯ä¸ª$[L,R]$åŒºé—´çš„å¤„ç†æ–¹å¼ä¸$[0,nums.size()-1]$æ˜¯ä¸€æ ·çš„ï¼Œå®¹æ˜“æƒ³åˆ°æ˜¯ä»¥<code>mid=(l+r)/2</code>ä¸ºåˆ†ç•Œï¼Œå°†å½“å‰æ ‘åˆ†æˆå·¦å³ä¸¤æ£µå­æ ‘ï¼Œæœ€åå†è€ƒè™‘è¾¹ç•Œæƒ…å†µå³å¯</li></ol></li><li>ä»£ç ï¼š<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span> TreeNode <span class="token operator">*</span><span class="token function">build</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>nums<span class="token punctuation">,</span><span class="token keyword">int</span> l<span class="token punctuation">,</span><span class="token keyword">int</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span>l<span class="token operator">></span>r<span class="token punctuation">)</span>         <span class="token keyword">return</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>     <span class="token keyword">int</span> mid<span class="token operator">=</span><span class="token punctuation">(</span>l<span class="token operator">+</span>r<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>     TreeNode <span class="token operator">*</span>cur<span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">TreeNode</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     cur<span class="token operator">-</span><span class="token operator">></span>left<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span>l<span class="token punctuation">,</span>mid<span class="token number">-1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     cur<span class="token operator">-</span><span class="token operator">></span>right<span class="token operator">=</span><span class="token function">build</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span>mid<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">return</span> cur<span class="token punctuation">;</span> <span class="token punctuation">}</span> TreeNode<span class="token operator">*</span> <span class="token function">sortedArrayToBST</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span>  <span class="token punctuation">{</span>     <span class="token keyword">return</span> <span class="token function">build</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>é€’å½’çš„ä»£ç çœ‹èµ·æ¥çœŸçš„çˆ½ğŸ‘</li></ol>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
          <category> Tree </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> Leetcode </tag>
            
            <tag> Tree </tag>
            
            <tag> Recursion </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vertical-order-traversal-of-a-binary-tree</title>
      <link href="/2020/07/04/2020/vertical-order-traversal-of-a-binary-tree/"/>
      <url>/2020/07/04/2020/vertical-order-traversal-of-a-binary-tree/</url>
      
        <content type="html"><![CDATA[<p>å¶ç„¶æ‰“å¼€<a href="https://leetcode-cn.com/interview/" target="_blank" rel="noopener">é¢è¯•é¡µé¢</a>å‘ç°çš„ä¸€é“å¥½é¢˜ï¼š<a href="https://leetcode-cn.com/problems/vertical-order-traversal-of-a-binary-tree/" target="_blank" rel="noopener">äºŒå‰æ ‘çš„å‚åºéå†</a></p><a id="more"></a><h1 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h1><ol><li>ä¸€å¼€å§‹çœ‹é¢˜ï¼Œå¾ˆç®€å•å˜›ï¼Œdfsèµ°èµ·ï¼Œç®—å‡ºæ¯ä¸ªç‚¹çš„Xï¼ŒåŠ åˆ°æ•°ç»„é‡Œé¢å°±å®Œäº‹äº†ï¼Œè€Œä¸”æ ‘çš„ç»“ç‚¹æ•°ä»‹äº 1 å’Œ 1000 ä¹‹é—´ï¼Œå¼€ä¸ª<code>vector&lt;int&gt; res[2005]</code>å³å¯</li><li>æäº¤åå‘ç°ä¸å¯¹åŠ²ï¼ŒåŸæ¥è¿˜æœ‰ä¸€ä¸ªæ¡ä»¶ï¼šå¦‚æœä¸¤ä¸ªç»“ç‚¹ä½ç½®ç›¸åŒï¼Œåˆ™é¦–å…ˆæŠ¥å‘Šçš„ç»“ç‚¹å€¼è¾ƒå°ã€‚</li><li>æƒ³äº†ä¸€æƒ³ï¼Œç›´è§‰åˆ¤æ–­ä¸€æ³¢ï¼ŒåŒä¸€å±‚ï¼ˆYç›¸ç­‰ï¼‰æœ€å¤šå­˜åœ¨2ä¸ªç‚¹çš„Xç›¸ç­‰ï¼Œé‚£æ”¹æˆbfså°±å¥½äº†å•Šï¼Œå±‚åºéå†<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">auto</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>cur<span class="token punctuation">]</span><span class="token operator">=</span>q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token operator">==</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>     <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token keyword">auto</span> <span class="token punctuation">[</span>nx<span class="token punctuation">,</span>ny<span class="token punctuation">,</span>nxt<span class="token punctuation">]</span><span class="token operator">=</span>q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>nxt<span class="token operator">!=</span><span class="token keyword">nullptr</span><span class="token operator">&amp;&amp;</span>x<span class="token operator">==</span>nx<span class="token operator">&amp;&amp;</span>y<span class="token operator">==</span>ny<span class="token punctuation">)</span> <span class="token punctuation">{</span>     q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     ans<span class="token punctuation">[</span>x<span class="token operator">+</span><span class="token number">1000</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">min</span><span class="token punctuation">(</span>cur<span class="token operator">-</span><span class="token operator">></span>val<span class="token punctuation">,</span>nxt<span class="token operator">-</span><span class="token operator">></span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     ans<span class="token punctuation">[</span>x<span class="token operator">+</span><span class="token number">1000</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">max</span><span class="token punctuation">(</span>cur<span class="token operator">-</span><span class="token operator">></span>val<span class="token punctuation">,</span>nxt<span class="token operator">-</span><span class="token operator">></span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token number">-1</span><span class="token punctuation">,</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>cur<span class="token operator">-</span><span class="token operator">></span>left<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>cur<span class="token operator">-</span><span class="token operator">></span>right<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token number">-1</span><span class="token punctuation">,</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>nxt<span class="token operator">-</span><span class="token operator">></span>left<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>nxt<span class="token operator">-</span><span class="token operator">></span>right<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> ans<span class="token punctuation">[</span>x<span class="token operator">+</span><span class="token number">1000</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>cur<span class="token operator">-</span><span class="token operator">></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span> q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token number">-1</span><span class="token punctuation">,</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>cur<span class="token operator">-</span><span class="token operator">></span>left<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>cur<span class="token operator">-</span><span class="token operator">></span>right<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre></li><li>äº¤ä¸Šå»è¿˜æ˜¯ä¸å¯¹ï¼Œæƒ³äº†æƒ³ï¼ŒåŸæ¥æ˜¯bfsæœ‰ç‚¹å°é—®é¢˜ï¼ŒåŒä¸€å±‚ä¸¤ä¸ªXç›¸ç­‰çš„ç‚¹å¹¶ä¸ä¸€å®šç›¸é‚»ï¼Œä¸­é—´å¯èƒ½éš”äº†ç©ºèŠ‚ç‚¹ã€‚æ‰€ä»¥è¦ä¿è¯é˜Ÿåˆ—ä¸­çš„èŠ‚ç‚¹ä¸æ˜¯ç©ºèŠ‚ç‚¹</li><li>åŠ å®Œç‰¹åˆ¤ä¹‹åè¿˜æ˜¯ä¸å¯¹ï¼Œå†çœ‹äº†çœ‹é”™äº†çš„é‚£ç»„æ•°æ®ï¼ŒåŸæ¥åŒä¸€å±‚å¯ä»¥å­˜åœ¨å¤šä¸ªï¼ˆ&gt;2ï¼‰ç‚¹çš„Xç›¸ç­‰ï¼Œäºæ˜¯æ»šå»çœ‹é¢˜è§£äº†~</li><li>æœ€ååœ¨è¯„è®ºåŒºå‘ç°ä¸€ç§æ¯”è¾ƒç®€æ´çš„<a href="https://leetcode-cn.com/problems/vertical-order-traversal-of-a-binary-tree/comments/364408" target="_blank" rel="noopener">è§£æ³•</a>ï¼Œ<code>map</code>é‡Œé¢å¥—ä¸€ä¸ª<code>set</code>ï¼Œå½“ç„¶<code>map</code>ä¹Ÿå¯ä»¥æ¢æˆ<code>array</code>ã€‚å…³é”®æ˜¯<code>set</code>ä¸­å­˜å‚¨çš„å…ƒç´ æ˜¯ç”±<code>node-&gt;val</code>ä¸<code>y</code>æ‹¼æ¥è€Œæˆçš„ï¼Œèµ·åˆ°äº†å…ˆæŒ‰<code>y</code>å‡åºæ’åºï¼Œå†æŒ‰<code>val</code>å‡åºæ’åºçš„ä½œç”¨ï¼Œååˆ†å·§å¦™ä¸”è¿è¡Œé€Ÿåº¦å¾ˆå¿«ã€‚</li><li>æœ€ç»ˆä»£ç ï¼š<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span> map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> m<span class="token punctuation">;</span> vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token function">verticalTraversal</span><span class="token punctuation">(</span>TreeNode<span class="token operator">*</span> root<span class="token punctuation">)</span> <span class="token punctuation">{</span>     queue<span class="token operator">&lt;</span>tuple<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">,</span>TreeNode<span class="token operator">*</span><span class="token operator">>></span> q<span class="token punctuation">;</span>     q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>root<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token punctuation">{</span>         <span class="token keyword">auto</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>cur<span class="token punctuation">]</span><span class="token operator">=</span>q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token keyword">if</span> <span class="token punctuation">(</span>cur<span class="token operator">==</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span>             <span class="token keyword">continue</span><span class="token punctuation">;</span>         m<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>y<span class="token operator">*</span><span class="token number">10000</span><span class="token operator">+</span>cur<span class="token operator">-</span><span class="token operator">></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>         q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token number">-1</span><span class="token punctuation">,</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>cur<span class="token operator">-</span><span class="token operator">></span>left<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>cur<span class="token operator">-</span><span class="token operator">></span>right<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>     vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> ans<span class="token punctuation">;</span>     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> each<span class="token operator">:</span>m<span class="token punctuation">)</span>     <span class="token punctuation">{</span>         vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> tmp<span class="token punctuation">;</span>         <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> y<span class="token operator">:</span>each<span class="token punctuation">.</span>second<span class="token punctuation">)</span>             tmp<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>y<span class="token operator">%</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>     <span class="token keyword">return</span> ans<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></li></ol>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
          <category> Tree </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> Leetcode </tag>
            
            <tag> Tree </tag>
            
            <tag> STL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>6.28 Notes</title>
      <link href="/2020/06/28/2020/6-28/"/>
      <url>/2020/06/28/2020/6-28/</url>
      
        <content type="html"><![CDATA[<h1 id="6-22-6-28-Learning-Notes"><a href="#6-22-6-28-Learning-Notes" class="headerlink" title="6.22-6.28 Learning Notes"></a>6.22-6.28 Learning Notes</h1><h1 id="Leetcode"><a href="#Leetcode" class="headerlink" title="Leetcode"></a>Leetcode</h1><h1 id="MST"><a href="#MST" class="headerlink" title="MST"></a><a href="https://leetcode-cn.com/problems/find-critical-and-pseudo-critical-edges-in-minimum-spanning-tree/" target="_blank" rel="noopener">MST</a></h1><p>è¯·ä½ æ‰¾åˆ°ç»™å®šå›¾ä¸­æœ€å°ç”Ÿæˆæ ‘çš„æ‰€æœ‰å…³é”®è¾¹å’Œä¼ªå…³é”®è¾¹ã€‚å¦‚æœæœ€å°ç”Ÿæˆæ ‘ä¸­åˆ å»æŸæ¡è¾¹ï¼Œä¼šå¯¼è‡´æœ€å°ç”Ÿæˆæ ‘çš„æƒå€¼å’Œå¢åŠ ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¯´å®ƒæ˜¯ä¸€æ¡å…³é”®è¾¹ã€‚ä¼ªå…³é”®è¾¹åˆ™æ˜¯å¯èƒ½ä¼šå‡ºç°åœ¨æŸäº›æœ€å°ç”Ÿæˆæ ‘ä¸­ä½†ä¸ä¼šå‡ºç°åœ¨æ‰€æœ‰æœ€å°ç”Ÿæˆæ ‘ä¸­çš„è¾¹ã€‚</p><p>é¢˜ç›®æ•°æ®èŒƒå›´å¾ˆå°ï¼Œå¯ä»¥æš´åŠ›åˆ¤æ–­æ¯æ¡è¾¹æ˜¯å…³é”®è¾¹/ä¼ªå…³é”®è¾¹/å…¶ä»–çš„ã€‚</p><p>[<a href="https://leetcode-cn.com/problems/find-critical-and-pseudo-critical-edges-in-minimum-spanning-tree/solution/shan-chu-bian-yu-jia-ru-bian-zui-xiao-sheng-cheng-/" target="_blank" rel="noopener">å‚è€ƒé¢˜è§£</a></p><ol><li>å…ˆæ±‚MSTã€‚</li><li>å¯¹äºåŸå›¾ä¸­çš„æ¯æ¡è¾¹ï¼š<ol><li>å¦‚æœè¾¹åœ¨MSTä¸­ï¼Œè®¡ç®—å»æ‰è¯¥è¾¹åçš„MSTæƒå€¼ï¼Œå¦‚æœæ¯”åŸæ¥çš„å¤§ï¼Œé‚£ä¹ˆå½“å‰è¾¹æ˜¯ä¼ªå…³é”®è¾¹ï¼›å¦‚æœç›¸ç­‰ï¼Œé‚£ä¹ˆå®ƒæ˜¯å…³é”®è¾¹ã€‚</li><li>å¦‚æœè¾¹ä¸åœ¨MSTä¸­ï¼Œè®¡ç®—å¼ºåˆ¶åŠ å…¥å½“å‰è¾¹åçš„MSTæƒå€¼ï¼Œå¦‚æœç›¸ç­‰ï¼Œåˆ™å½“å‰è¾¹æ˜¯ä¼ªå…³é”®è¾¹ã€‚</li></ol></li></ol><a id="more"></a><h2 id="code"><a href="#code" class="headerlink" title="code"></a>code</h2><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">class</span> <span class="token class-name">Graph</span>    <span class="token punctuation">{</span>    <span class="token keyword">public</span><span class="token operator">:</span>        <span class="token keyword">struct</span> Edge        <span class="token punctuation">{</span>            <span class="token keyword">int</span> u<span class="token punctuation">,</span> v<span class="token punctuation">,</span> w<span class="token punctuation">;</span>            <span class="token keyword">int</span> num<span class="token punctuation">;</span>        <span class="token punctuation">}</span> e<span class="token punctuation">[</span><span class="token number">205</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">bool</span> inmst<span class="token punctuation">[</span><span class="token number">205</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> size<span class="token punctuation">;</span>        <span class="token function">Graph</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token keyword">static</span> <span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span>Edge a<span class="token punctuation">,</span> Edge b<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">return</span> a<span class="token punctuation">.</span>w <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>w<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">void</span> <span class="token function">addedge</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">,</span> <span class="token keyword">int</span> w<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token operator">++</span>size<span class="token punctuation">;</span>            e<span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token punctuation">.</span>u <span class="token operator">=</span> u<span class="token punctuation">;</span>            e<span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token punctuation">.</span>v <span class="token operator">=</span> v<span class="token punctuation">;</span>            e<span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token punctuation">.</span>w <span class="token operator">=</span> w<span class="token punctuation">;</span>            e<span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token punctuation">.</span>num <span class="token operator">=</span> size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>            inmst<span class="token punctuation">[</span>size<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">void</span> <span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token function">sort</span><span class="token punctuation">(</span>e <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> e <span class="token operator">+</span> size <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> cmp<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    Graph G<span class="token punctuation">;</span>    <span class="token keyword">int</span> fa<span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">!=</span> fa<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span>            fa<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>fa<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> fa<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">void</span> <span class="token function">combine</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> xx <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> yy <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>xx <span class="token operator">!=</span> yy<span class="token punctuation">)</span>            fa<span class="token punctuation">[</span>xx<span class="token punctuation">]</span> <span class="token operator">=</span> yy<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> <span class="token function">include_mst_weight</span><span class="token punctuation">(</span><span class="token keyword">int</span> inc<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> mstw <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            fa<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token keyword">int</span> u <span class="token operator">=</span> G<span class="token punctuation">.</span>e<span class="token punctuation">[</span>inc<span class="token punctuation">]</span><span class="token punctuation">.</span>u<span class="token punctuation">;</span>        <span class="token keyword">int</span> v <span class="token operator">=</span> G<span class="token punctuation">.</span>e<span class="token punctuation">[</span>inc<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">;</span>        <span class="token keyword">int</span> w <span class="token operator">=</span> G<span class="token punctuation">.</span>e<span class="token punctuation">[</span>inc<span class="token punctuation">]</span><span class="token punctuation">.</span>w<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">find</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token function">find</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token function">combine</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token operator">++</span>cnt<span class="token punctuation">;</span>            mstw <span class="token operator">+</span><span class="token operator">=</span> w<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> G<span class="token punctuation">.</span>size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> inc<span class="token punctuation">)</span>                <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> u <span class="token operator">=</span> G<span class="token punctuation">.</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>u<span class="token punctuation">;</span>            <span class="token keyword">int</span> v <span class="token operator">=</span> G<span class="token punctuation">.</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">;</span>            <span class="token keyword">int</span> w <span class="token operator">=</span> G<span class="token punctuation">.</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>w<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">find</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token function">find</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token function">combine</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token operator">++</span>cnt<span class="token punctuation">;</span>                mstw <span class="token operator">+</span><span class="token operator">=</span> w<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>cnt <span class="token operator">==</span> n<span class="token punctuation">)</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>cnt <span class="token operator">&lt;</span> n<span class="token punctuation">)</span>            mstw <span class="token operator">=</span> INT32_MAX<span class="token punctuation">;</span>        <span class="token keyword">return</span> mstw<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> <span class="token function">exclude_mst_weight</span><span class="token punctuation">(</span><span class="token keyword">int</span> exc<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> mstw <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            fa<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> G<span class="token punctuation">.</span>size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> exc<span class="token punctuation">)</span>                <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> u <span class="token operator">=</span> G<span class="token punctuation">.</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>u<span class="token punctuation">;</span>            <span class="token keyword">int</span> v <span class="token operator">=</span> G<span class="token punctuation">.</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">;</span>            <span class="token keyword">int</span> w <span class="token operator">=</span> G<span class="token punctuation">.</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>w<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">find</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token function">find</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token function">combine</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token operator">++</span>cnt<span class="token punctuation">;</span>                mstw <span class="token operator">+</span><span class="token operator">=</span> w<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>cnt <span class="token operator">==</span> n<span class="token punctuation">)</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>cnt <span class="token operator">&lt;</span> n<span class="token punctuation">)</span>            mstw <span class="token operator">=</span> INT32_MAX<span class="token punctuation">;</span>        <span class="token keyword">return</span> mstw<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token function">findCriticalAndPseudoCriticalEdges</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token operator">&amp;</span>edges<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            fa<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> each <span class="token operator">:</span> edges<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            G<span class="token punctuation">.</span><span class="token function">addedge</span><span class="token punctuation">(</span>each<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> each<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> each<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        G<span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> mstw <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> G<span class="token punctuation">.</span>size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">int</span> u <span class="token operator">=</span> G<span class="token punctuation">.</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>u<span class="token punctuation">;</span>            <span class="token keyword">int</span> v <span class="token operator">=</span> G<span class="token punctuation">.</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">;</span>            <span class="token keyword">int</span> w <span class="token operator">=</span> G<span class="token punctuation">.</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>w<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">find</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token function">find</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token function">combine</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>                mstw <span class="token operator">+</span><span class="token operator">=</span> w<span class="token punctuation">;</span>                G<span class="token punctuation">.</span>inmst<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token operator">++</span>cnt<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>cnt <span class="token operator">==</span> n<span class="token punctuation">)</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> key_edge<span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> fkey_edge<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> G<span class="token punctuation">.</span>size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>G<span class="token punctuation">.</span>inmst<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">int</span> new_mstw <span class="token operator">=</span> <span class="token function">exclude_mst_weight</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>new_mstw <span class="token operator">></span> mstw<span class="token punctuation">)</span>                    key_edge<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>G<span class="token punctuation">.</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">else</span>                    fkey_edge<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>G<span class="token punctuation">.</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">else</span>            <span class="token punctuation">{</span>                <span class="token keyword">int</span> new_mstw <span class="token operator">=</span> <span class="token function">include_mst_weight</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>new_mstw <span class="token operator">==</span> mstw<span class="token punctuation">)</span>                    fkey_edge<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>G<span class="token punctuation">.</span>e<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token punctuation">{</span>key_edge<span class="token punctuation">,</span> fkey_edge<span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> Leetcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo-deployment</title>
      <link href="/2020/06/22/2020/hexo-deployment/"/>
      <url>/2020/06/22/2020/hexo-deployment/</url>
      
        <content type="html"><![CDATA[<h1 id="travis-yml"><a href="#travis-yml" class="headerlink" title=".travis.yml"></a>.travis.yml</h1><p>å®˜æ–¹æ•™ç¨‹æœ‰ç‚¹é—®é¢˜ï¼Œå› ä¸ºç°åœ¨Github Pagesåªèƒ½éƒ¨ç½²åœ¨masteråˆ†æ”¯ä¸Šï¼Œæ‰€ä»¥æºæ–‡ä»¶(markdown/theme)è¦æ”¾åœ¨å…¶ä»–åˆ†æ”¯(hexo)ï¼Œä½¿ç”¨Travis CLæˆ–è€…å…¶ä»–CLè‡ªåŠ¨åŒ–éƒ¨ç½²æ—¶ï¼Œè¦å°†ç›®æ ‡åˆ†æ”¯<code>target_branch</code>è®¾ä¸º<code>master</code>ã€‚</p><pre class=" language-yml"><code class="language-yml">sudo: falselanguage: node_jsnode_js:  - 10 # use nodejs v10 LTScache: npmbranches:  only:    - hexo  # build on hexo branchscript:  - hexo generate # generate static filesdeploy:  provider: pages  skip-cleanup: true  github-token: $GH_TOKEN  keep-history: true  on:    all_branches: true # solve a permission problem  target_branch: master   local-dir: public</code></pre><h1 id="æ–‡ç« æˆªæ–­"><a href="#æ–‡ç« æˆªæ–­" class="headerlink" title="æ–‡ç« æˆªæ–­"></a>æ–‡ç« æˆªæ–­</h1><p>ä¼¼ä¹æ²¡æœ‰è‡ªåŠ¨æˆªæ–­çš„åŠŸèƒ½ï¼Œéœ€è¦æ‰‹åŠ¨æˆªæ–­ï¼Œåœ¨æˆªæ–­çš„åœ°æ–¹åŠ <code>&lt;!-- more --&gt;</code></p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>6.7 Notes</title>
      <link href="/2020/06/07/2020/6-7/"/>
      <url>/2020/06/07/2020/6-7/</url>
      
        <content type="html"><![CDATA[<h1 id="6-1-6-7-Learning-Notes"><a href="#6-1-6-7-Learning-Notes" class="headerlink" title="6.1-6.7 Learning Notes"></a>6.1-6.7 Learning Notes</h1><h1 id="TXAD-2020"><a href="#TXAD-2020" class="headerlink" title="TXAD 2020"></a>TXAD 2020</h1><ul><li>lightgbm for GBDT(Gradient Boosting Decision Tree) <ul><li><a href="https://lightgbm.readthedocs.io/en/latest/index.html" target="_blank" rel="noopener">https://lightgbm.readthedocs.io/en/latest/index.html</a></li><li><a href="https://blog.csdn.net/u012735708/article/details/83749703" target="_blank" rel="noopener">https://blog.csdn.net/u012735708/article/details/83749703</a></li><li><a href="https://www.cnblogs.com/bjwu/p/9307344.html" target="_blank" rel="noopener">https://www.cnblogs.com/bjwu/p/9307344.html</a></li></ul></li><li>Embedding<ul><li>tf-idf<ul><li><a href="https://zhuanlan.zhihu.com/p/31197209" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/31197209</a></li><li><a href="https://scikit-learn.org/stable/modules/feature_extraction.html#text-feature-extraction" target="_blank" rel="noopener">https://scikit-learn.org/stable/modules/feature_extraction.html#text-feature-extraction</a></li><li><a href="https://blog.csdn.net/Eastmount/article/details/50323063" target="_blank" rel="noopener">https://blog.csdn.net/Eastmount/article/details/50323063</a></li></ul></li><li>Word2vec<ul><li><a href="https://zhuanlan.zhihu.com/p/26306795" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/26306795</a></li><li><a href="https://www.tensorflow.org/tutorials/text/word_embeddings" target="_blank" rel="noopener">https://www.tensorflow.org/tutorials/text/word_embeddings</a></li><li><a href="https://zhuanlan.zhihu.com/p/53194407" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/53194407</a></li><li><a href="https://zhuanlan.zhihu.com/p/46016518" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/46016518</a></li><li><a href="https://www.zhihu.com/question/32275069" target="_blank" rel="noopener">https://www.zhihu.com/question/32275069</a></li></ul></li></ul></li><li>Transformer<ul><li><a href="https://github.com/huggingface/transformers#installation" target="_blank" rel="noopener">https://github.com/huggingface/transformers#installation</a></li><li><a href="https://jalammar.github.io/illustrated-transformer/" target="_blank" rel="noopener">https://jalammar.github.io/illustrated-transformer/</a></li></ul></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Machine Learning </tag>
            
            <tag> Competition </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5.24 Notes</title>
      <link href="/2020/05/24/2020/5-24/"/>
      <url>/2020/05/24/2020/5-24/</url>
      
        <content type="html"><![CDATA[<h1 id="5-18-5-24-Learning-Notes"><a href="#5-18-5-24-Learning-Notes" class="headerlink" title="5.18-5.24 Learning Notes"></a>5.18-5.24 Learning Notes</h1><h1 id="Leetcode"><a href="#Leetcode" class="headerlink" title="Leetcode"></a>Leetcode</h1><h1 id="çŠ¶æ€å‹ç¼©-å‰ç¼€å’Œ-å“ˆå¸Œè¡¨"><a href="#çŠ¶æ€å‹ç¼©-å‰ç¼€å’Œ-å“ˆå¸Œè¡¨" class="headerlink" title="çŠ¶æ€å‹ç¼©+å‰ç¼€å’Œ+å“ˆå¸Œè¡¨"></a>çŠ¶æ€å‹ç¼©+å‰ç¼€å’Œ+å“ˆå¸Œè¡¨</h1><p>å¥½é¢˜ï¼  </p><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œè¯·ä½ è¿”å›æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„æœ€é•¿å­å­—ç¬¦ä¸²çš„é•¿åº¦ï¼šæ¯ä¸ªå…ƒéŸ³å­—æ¯ï¼Œå³ â€˜aâ€™ï¼Œâ€™eâ€™ï¼Œâ€™iâ€™ï¼Œâ€™oâ€™ï¼Œâ€™uâ€™ ï¼Œåœ¨å­å­—ç¬¦ä¸²ä¸­éƒ½æ°å¥½å‡ºç°äº†å¶æ•°æ¬¡ã€‚</p><h2 id="æš´åŠ›"><a href="#æš´åŠ›" class="headerlink" title="æš´åŠ›"></a>æš´åŠ›</h2><p>ä¸€å¼€å§‹æˆ‘æ˜¯æš´åŠ›æœç´¢çš„ï¼Œä»[0,len-1]å‡ºå‘ï¼Œæ¯æ¬¡è®©å·¦ç«¯ç‚¹åŠ ä¸€æˆ–è€…å³ç«¯ç‚¹å‡ä¸€ï¼Œæ˜¾ç„¶è¿™æ ·åšä¼šè¶…æ—¶</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">const</span> <span class="token keyword">char</span> vowel<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'i'</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token string">'u'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> count<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> ans<span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">,</span> string <span class="token operator">&amp;</span>s<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">></span> r<span class="token punctuation">)</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token keyword">bool</span> flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>count<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span>            ans <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> r <span class="token operator">-</span> l <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> tmp <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">==</span> vowel<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token operator">--</span>count<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>                tmp <span class="token operator">=</span> i<span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token function">find</span><span class="token punctuation">(</span>l <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token operator">++</span>count<span class="token punctuation">[</span>tmp<span class="token punctuation">]</span><span class="token punctuation">;</span>        tmp <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">==</span> vowel<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token operator">--</span>count<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>                tmp <span class="token operator">=</span> i<span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token function">find</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> r <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token operator">++</span>count<span class="token punctuation">[</span>tmp<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> <span class="token function">findTheLongestSubstring</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> each <span class="token operator">:</span> s<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>each <span class="token operator">==</span> vowel<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    <span class="token operator">++</span>count<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token function">find</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h2><p>çœ‹äº†ä¸‹æç¤ºï¼Œè¦ç”¨åˆ°bitmaskå’Œprefix sumï¼Œå†ç»“åˆé¢˜ç›®â€œæ°å¥½å‡ºç°äº†å¶æ•°æ¬¡â€çš„æç¤ºï¼Œä¸éš¾æƒ³åˆ°è¦ç”¨å¼‚æˆ–æ¥è¡¨ç¤ºå­—ç¬¦ä¸²çš„çŠ¶æ€ã€‚</p><p>é‚£å°±ç”¨æ¯ä¸€ä½åˆ†åˆ«è¡¨ç¤ºæ¯ä¸€ä¸ªå…ƒéŸ³å­—æ¯å‡ºç°çš„æ¬¡æ•°å‘—ï¼Œ<code>1</code>è¡¨ç¤ºå‡ºç°æ¬¡æ•°ä¸ºå¥‡æ•°ï¼Œ<code>0</code>è¡¨ç¤ºå‡ºç°æ¬¡æ•°ä¸ºå¶æ•°</p><p>å‰ç¼€å’Œæ˜¯è¿™æ ·æ¨æƒ³å‡ºæ¥çš„ï¼š</p><pre><code>aaee 00000 aee 00001a    00001sum[&quot;aee&quot;]=sum[&quot;aaee&quot;]^sum[&quot;a&quot;]sum[1,3]=sum[3]^sum[0]ç±»æ¯”sum[1,3]=sum[3]-sum[0]ï¼Œç”¨å‰ç¼€å’Œæ±‚[1,3]çš„åŒºé—´å’Œé‚£ç°åœ¨æˆ‘ä»¬è¦æ±‚ï¼šsum[1,3]=0å³sum[3]^sum[0]=0æ ¹æ®å¼‚æˆ–çš„äº¤æ¢å¾‹sum[3]^0=sum[0]ç­‰ä»·äºsum[3]=sum[0]</code></pre><p>äºæ˜¯é—®é¢˜è½¬åŒ–ä¸ºï¼šåœ¨æ‰€æœ‰<code>[l,r]</code>åŒºé—´ä¸­ï¼Œæ±‚æ»¡è¶³<code>sum[r]=sum[l-1]</code>çš„æœ€å¤§åŒºé—´ã€‚</p><p>åé¢æˆ‘æ²¡æœ‰æƒ³åˆ°å“ˆå¸Œè¡¨çš„æ–¹æ³•ï¼Œæš´åŠ›åº”è¯¥è¿‡ä¸äº†ï¼Œæ‰€ä»¥å·å·çœ‹äº†è¯„è®º</p><p>åŸç†å…¶å®å¾ˆç®€å•ï¼š  </p><ul><li>å¦‚æœå½“å‰çš„çŠ¶æ€æ²¡æœ‰å‡ºç°è¿‡ï¼Œå°±æŠŠå®ƒåŠ åˆ°å“ˆå¸Œè¡¨é‡Œé¢</li><li>å¦‚æœå‡ºç°è¿‡ï¼Œå°±è®¡ç®—åŒºé—´é•¿åº¦ï¼Œå¹¶ç»´æŠ¤<code>ans</code>æœ€å¤§åŒºé—´é•¿åº¦</li></ul><p>çŠ¶æ€åªæœ‰<code>1&lt;&lt;5=32</code>ä¸ªï¼Œæ‰€ä»¥å¯ç”¨æ•°ç»„æ¥ä»£æ›¿<code>unordered_map</code></p><p>ä¸¤ä¸ªæ˜“é”™ç‚¹ï¼š</p><ol><li>å“ˆå¸Œè¡¨é‡Œé¢è®°å½•çš„æ˜¯<code>sum[l-1]</code>ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œè®¡ç®—åŒºé—´é•¿åº¦æ—¶éœ€è¦æ³¨æ„<code>len=r-hash_map[state]</code> å¯¹åº” <code>len=r-(l-1)=r-l+1</code></li><li>è¾¹ç•Œé—®é¢˜ï¼Œå¦‚æœæœ€é•¿å­—ç¬¦ä¸²æ˜¯ä»ä¸‹æ ‡<code>0</code>å¼€å§‹ï¼Œå³<code>l=0</code>ï¼Œ<code>l-1=-1</code>ï¼Œæ‰€ä»¥åˆå§‹åŒ–<code>m[1...31]=-2</code>ï¼Œ<code>-2</code>è¡¨ç¤ºçŠ¶æ€è¿˜æœªå‡ºç°è¿‡ï¼Œ<code>m[0]=-1</code>ï¼Œè¡¨ç¤ºç©ºå­—ç¬¦ä¸²å¯¹åº”çš„çŠ¶æ€ä¸º<code>00000</code></li></ol><p>è¿™çœŸçš„æ˜¯ä¸€é“middleé¢˜å—ï¼Ÿå»ºè®®å¤§å®¶è®¤çœŸæ¶ˆåŒ–çŸ¥è¯†ç‚¹</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">const</span> <span class="token keyword">char</span> vowel<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'i'</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token string">'u'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">findTheLongestSubstring</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span>     <span class="token punctuation">{</span>        <span class="token keyword">int</span> m<span class="token punctuation">[</span><span class="token number">32</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> state<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> ans<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">32</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>            m<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>        m<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">5</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span>vowel<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    state<span class="token operator">^</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>m<span class="token punctuation">[</span>state<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span>                ans<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span>j<span class="token operator">-</span>m<span class="token punctuation">[</span>state<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">else</span>                m<span class="token punctuation">[</span>state<span class="token punctuation">]</span><span class="token operator">=</span>j<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h1 id="CSAPP"><a href="#CSAPP" class="headerlink" title="CSAPP"></a>CSAPP</h1><h1 id="Floating-Point"><a href="#Floating-Point" class="headerlink" title="Floating Point"></a>Floating Point</h1><p>äºŒè¿›åˆ¶æµ®ç‚¹æ•°è¡¨ç¤º:<br>$$ \sum^i_{k=-j}b_k*2^k $$<br><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/5-24-2020-05-21-09-28-03" alt="5-24-2020-05-21-09-28-03"></p><ul><li>$&gt;&gt;1=/2$</li><li>$&lt;&lt;1=*2$</li></ul><h2 id="Limitation"><a href="#Limitation" class="headerlink" title="Limitation"></a>Limitation</h2><ul><li>Can only exactly represent numbers of the form $x/2^k$</li><li>å°æ•°éƒ¨åˆ†ä¼šå ç”¨æ•´æ•°éƒ¨åˆ†çš„ä½æ•°ï¼ˆåœ¨ä½æ•°æœ‰é™æƒ…å†µä¸‹ï¼‰</li></ul><h2 id="IEEE-Standard-754"><a href="#IEEE-Standard-754" class="headerlink" title="IEEE Standard 754"></a>IEEE Standard 754</h2><ul><li>Numerical Form:<br>$$ (-1)^sM2^E $$<ul><li>$s$ is sign bit</li><li>$M\in[1.0,2.0)$</li><li>Exponent $E$</li></ul></li><li>Encoding <ul><li>$s|exp(E)|frac(M)$</li><li><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/5-24-2020-05-21-09-36-57" alt="5-24-2020-05-21-09-36-57"></li></ul></li><li>e.g.<ul><li><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/5-24-2020-05-21-10-32-09" alt="5-24-2020-05-21-10-32-09"></li></ul></li><li>Rounding<ul><li>Round to nearest even number: $1.4\approx1$, $1.5\approx2$</li><li><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/5-24-2020-05-21-10-46-09" alt="5-24-2020-05-21-10-46-09"></li></ul></li><li>Violates associativity<ul><li>Overflow and inexactness of rounding</li><li>$(3.14+1e10)-1e10=10$, $3.14+(1e10-1e10)=3.14$</li></ul></li><li>Violates distributivity</li><li><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/5-24-2020-05-21-10-53-27" alt="5-24-2020-05-21-10-53-27"></li></ul><h2 id="Floating-Point-in-C"><a href="#Floating-Point-in-C" class="headerlink" title="Floating Point in C"></a>Floating Point in C</h2><ul><li>Conversions<ul><li>double/float-&gt;int<ul><li>Like rounding towards 0</li><li>doubleçš„æ•´æ•°éƒ¨åˆ†æ¯”intçš„å¤š</li></ul></li><li>int-&gt;double exact</li><li>int-&gt;float rounding</li></ul></li></ul><h2 id="Remember-Floating-Point-is-not-the-Same-as-Real-Number"><a href="#Remember-Floating-Point-is-not-the-Same-as-Real-Number" class="headerlink" title="Remember: Floating Point is not the Same as Real Number"></a>Remember: Floating Point is not the Same as Real Number</h2><h1 id="Google-Kick-Start-Round-C"><a href="#Google-Kick-Start-Round-C" class="headerlink" title="Google Kick Start Round C"></a>Google Kick Start Round C</h1><p>è¿™åœºé”™è¿‡äº†ï¼Œæ²¡æœ‰æ‰“å®å†µã€‚</p><h1 id="2-Stable-Wall"><a href="#2-Stable-Wall" class="headerlink" title="2. Stable Wall"></a>2. Stable Wall</h1><p>ä¸€é“æœ‰ç‚¹åƒä¿„ç½—æ–¯æ–¹å—çš„é¢˜ç›®ï¼Œå·²çŸ¥ä¿„ç½—æ–¯æ–¹å—æ¸¸æˆç»“æŸæ—¶çš„å›¾æ¡ˆï¼Œæ±‚å„ä¸ªå—è½ä¸‹çš„é¡ºåº<br>Apollo is playing a game involving polyominos. A polyomino is a shape made by joining together one or more squares edge to edge to form a single connected shape. The game involves combining N polyominos into a single rectangular shape without any holes. Each polyomino is labeled with a unique character from A to Z.</p><p>Apollo has finished the game and created a rectangular wall containing R rows and C columns. He took a picture and sent it to his friend Selene. Selene likes pictures of walls, but she likes them even more if they are stable walls. A wall is stable if it can be created by adding polyominos one at a time to the wall so that each polyomino is always supported. A polyomino is supported if each of its squares is either on the ground, or has another square below it.</p><p>Apollo would like to check if his wall is stable and if it is, prove that fact to Selene by telling her the order in which he added the polyominos.</p><h2 id="æˆ‘çš„æƒ³æ³•"><a href="#æˆ‘çš„æƒ³æ³•" class="headerlink" title="æˆ‘çš„æƒ³æ³•"></a>æˆ‘çš„æƒ³æ³•</h2><p>æˆ‘çš„æƒ³æ³•æ˜¯æ¨¡æ‹Ÿ+dfsï¼š</p><ul><li>ç»´æŠ¤ä¸€ä¸ªé›†åˆ$S={å½“å‰å¯ä»¥æ”¾ä¸‹çš„å½¢çŠ¶}$</li><li>dfséå†$S$å¹¶ç»´æŠ¤<code>supported</code>æ•°ç»„ï¼ˆè¡¨ç¤ºåˆæ³•çš„æ”¾ç½®ä½ç½®ï¼‰</li></ul><p>å†™äº†ä¸€ä¸ªå¤šå°æ—¶ï¼Œæ‰æŠŠæ ·ä¾‹è¿‡äº†â€¦ï¼Œç„¶è€Œä¸€ä¸ªæµ‹è¯•é›†éƒ½æ²¡è¿‡</p><h2 id="æ­£è§£"><a href="#æ­£è§£" class="headerlink" title="æ­£è§£"></a>æ­£è§£</h2><p>Googleçš„é¢˜è¿˜æ˜¯æŒºéœ€è¦è½¬åŒ–çš„ï¼Œè¿™é¢˜å…¶å®ä¸éœ€è¦æ¨¡æ‹Ÿã€‚</p><p>æ¯ä¸€ä¸ªå°å—çš„è½ä¸‹è¦æ±‚ï¼š</p><ol><li>å®ƒåœ¨åº•éƒ¨</li><li>å®ƒçš„æ­£ä¸‹æ–¹å·²ç»æœ‰å°å—äº†</li></ol><p>æ‰€ä»¥å¯¹äº<code>1~(n-1)</code>çš„åˆ—ï¼Œä¸Šä¸‹ä¸¤ä¸ªå°å—ä¹‹é—´å­˜åœ¨çº¦æŸå…³ç³»ã€‚æˆ‘ä»¬å¯ä»¥ç”¨æœ‰å‘å›¾æ¥å­˜å‚¨è¿™ç§çº¦æŸå…³ç³»ã€‚æ¯ä¸€å¯¹çš„çº¦æŸå…³ç³»éƒ½æ»¡è¶³çš„æ¡ä»¶ä¸‹ï¼Œèƒ½å¦æ‰¾åˆ°ä¸€ä¸ªåˆæ³•çš„éå†è¿™ä¸ªå›¾çš„åºåˆ—ã€‚<br>æ˜¾ç„¶ï¼Œå½“å›¾ä¸­å­˜åœ¨ç¯æ—¶ä¸åˆæ³•ï¼š</p><pre><code>A&lt;--&gt;Bè¦æ”¾Aå°±è¦å…ˆæ”¾Bè¦æ”¾Bå°±è¦å…ˆæ”¾Aäºæ˜¯éƒ½æ”¾ä¸äº†</code></pre><p>ç”¨æ‹“æ‰‘æ’åºæ¥åˆ¤æ–­æœ‰å‘å›¾ä¸­æœ‰æ²¡æœ‰ç¯ï¼Œå¹¶å¾—åˆ°æ‹“æ‰‘åºå³ä¸ºç­”æ¡ˆ</p><h1 id="3-Perfect-Subarray"><a href="#3-Perfect-Subarray" class="headerlink" title="3. Perfect Subarray"></a>3. Perfect Subarray</h1><p>é¢˜æ„å¾ˆç®€å•ï¼Œæ±‚ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œå­æ•°ç»„ï¼ˆæ•°ç»„ä¸­è¿ç»­å…ƒç´ ç»„æˆï¼‰çš„å’Œä¸ºå®Œå…¨å¹³æ–¹æ•°çš„ä¸ªæ•°ã€‚</p><p>ç¬¬ä¸€ä¸ªæµ‹è¯•é›†<code>N=1000</code>å¯ä»¥ç›´æ¥æš´åŠ›åˆ¤æ–­ï¼Œæˆ‘å­¦åˆ°äº†ä¸€ä¸ªæ–°å‡½æ•°<code>modf</code></p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">double</span> res <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> sum<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">double</span> f<span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">modf</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token operator">&amp;</span>f<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0.0</span><span class="token punctuation">)</span>    <span class="token operator">++</span>ans<span class="token punctuation">;</span></code></pre><p>ç¬¬äºŒä¸ªæµ‹è¯•é›†<code>n=1e5</code>è‚¯å®šä¸èƒ½æš´åŠ›äº†ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ<br>é‚£å°±çœ‹é¢˜è§£å§ï¼Œåæ­£æƒ³ä¸å‡ºæ¥äº†</p><p>é¢˜è§£ç¡®å®å¾ˆå·§å¦™ï¼š  </p><ul><li>æ³¨æ„åˆ°æ¯ä¸ªæ•°ç»„å…ƒç´ $A_i\in[-100,100]$ï¼Œç”¨ç±»ä¼¼äºè®¡æ•°æ’åºçš„æ–¹æ³•ï¼Œå“ˆå¸Œè¡¨<code>m[x]</code>å­˜å‚¨åˆ°å½“å‰å…ƒç´ ä¸ºæ­¢ï¼Œå‰ç¼€å’Œç­‰äº<code>x</code>çš„å­æ•°ç»„ä¸ªæ•°</li><li>æšä¸¾çš„æ—¶å€™ï¼Œç¬¬äºŒå±‚æšä¸¾å¯èƒ½çš„å®Œå…¨å¹³æ–¹æ•°ï¼Œç”¨é€†å‘æ€ç»´æ±‚$[1,i]$å†…ä»¥<code>A[i]</code>ç»“å°¾çš„ï¼Œå’Œä¸ºå®Œå…¨å¹³æ–¹æ•°çš„å­æ•°ç»„ä¸ªæ•°$[1,i]=[1,k]+[k+1,i]$ã€‚æˆ‘ä»¬ä¸çŸ¥é“æœ‰å¤šå°‘ä¸ª$sum[k+1,i]=å®Œå…¨å¹³æ–¹æ•°$ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“$[1,k]=sum[1,i]-å®Œå…¨å¹³æ–¹æ•°$çš„ä¸ªæ•°</li></ul><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> sum<span class="token punctuation">[</span><span class="token number">100005</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    cin <span class="token operator">>></span> n<span class="token punctuation">;</span>    ll ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    unordered_map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> num_prefix_sum<span class="token punctuation">;</span>    <span class="token keyword">int</span> minx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> res<span class="token punctuation">;</span>        cin <span class="token operator">>></span> res<span class="token punctuation">;</span>        sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> sum<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> res<span class="token punctuation">;</span>        minx <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>minx<span class="token punctuation">,</span> sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    num_prefix_sum<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">int</span> tmp <span class="token operator">=</span> sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> j <span class="token operator">*</span> j<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>tmp <span class="token operator">&lt;</span> minx<span class="token punctuation">)</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>num_prefix_sum<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">)</span>                ans <span class="token operator">+</span><span class="token operator">=</span> num_prefix_sum<span class="token punctuation">[</span>sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> j <span class="token operator">*</span> j<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        num_prefix_sum<span class="token punctuation">[</span>sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    cout <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h1 id="Codeforces"><a href="#Codeforces" class="headerlink" title="Codeforces"></a>Codeforces</h1><p>æ¥ä½“éªŒä¸€ä¸‹æ‰“CFçš„æ„Ÿè§‰</p><h1 id="Round-643-div2"><a href="#Round-643-div2" class="headerlink" title="Round 643 div2"></a>Round 643 div2</h1><h1 id="ç»„åˆæ•°å­¦"><a href="#ç»„åˆæ•°å­¦" class="headerlink" title="ç»„åˆæ•°å­¦"></a><a href="https://codeforces.com/contest/1355/problem/C" target="_blank" rel="noopener">ç»„åˆæ•°å­¦</a></h1><p><a href="https://blog.csdn.net/Fiveneves/article/details/106294338" target="_blank" rel="noopener">https://blog.csdn.net/Fiveneves/article/details/106294338</a></p><p><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/5-24-2020-05-24-09-39-09" alt="5-24-2020-05-24-09-39-09"></p><h1 id="Round-644-div3"><a href="#Round-644-div3" class="headerlink" title="Round 644 div3"></a>Round 644 div3</h1><p>Polycarp wants to buy exactly n shovels. The shop sells packages with shovels. The store has k types of packages: the package of the i-th type consists of exactly i shovels (1â‰¤iâ‰¤k). The store has an infinite number of packages of each type.</p><p>Polycarp wants to choose one type of packages and then buy several (one or more) packages of this type. What is the smallest number of packages Polycarp will have to buy to get exactly n shovels?</p><p>For example, if n=8 and k=7, then Polycarp will buy 2 packages of 4 shovels.</p><p>Help Polycarp find the minimum number of packages that he needs to buy, given that he:</p><p>will buy exactly n shovels in total;<br>the sizes of all packages he will buy are all the same and the number of shovels in each package is an integer from 1 to k, inclusive.</p><p>é¢˜æ„è¿˜æ˜¯å¾ˆç®€å•çš„ï¼šä»$[1,k]$ä¸­æ‰¾å‡ºæœ€å¤§çš„<code>x</code>ï¼Œä½¿$n%x==0$ï¼Œ$ans=n/x$</p><p>ä½†æ˜¯æˆ‘å¡äº†å¾ˆä¹…ä¹Ÿæ²¡æœ‰åšå‡ºæ¥</p><h2 id="é”™è¯¯æ€è·¯"><a href="#é”™è¯¯æ€è·¯" class="headerlink" title="é”™è¯¯æ€è·¯"></a>é”™è¯¯æ€è·¯</h2><p>æ‰¾ä¸€ä¸ªæ•°çš„å› æ•°å˜›ï¼Œæˆ‘å°±æƒ³åˆ°ç”¨è´¨æ•°è¡¨äº†ï¼Œ$\sqrt{1e9}\approx31700$èŒƒå›´ä¹Ÿä¸å¤§ï¼Œç®—æ³•ä¼ªä»£ç å¦‚ä¸‹ï¼š</p><pre><code>for prime in [2,sqrt(n)]:    if n%prime==0 and n/prime&lt;=k:        return prime</code></pre><p>æšä¸¾$n$çš„è´¨å› å­ï¼Œæ‰¾åˆ°æœ€å°çš„æ»¡è¶³æ¡ä»¶çš„è´¨å› å­å°±æ˜¯ç­”æ¡ˆäº†</p><p>ä½†æ˜¯è¿™é‡Œå…¶å®æœ‰ä¸å°‘é—®é¢˜:</p><ol><li>è¿™ä¸ªæ»¡è¶³æ¡ä»¶çš„è´¨å› å­å¯èƒ½å¤§äº$\sqrt{n}$</li><li>ç­”æ¡ˆä¸ä¸€å®šæ˜¯ä¸€ä¸ªè´¨æ•°</li></ol><h2 id="æ­£ç¡®æ€è·¯"><a href="#æ­£ç¡®æ€è·¯" class="headerlink" title="æ­£ç¡®æ€è·¯"></a>æ­£ç¡®æ€è·¯</h2><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> maxdiv<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">%</span> i <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> k<span class="token punctuation">)</span>            ans <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> n <span class="token operator">/</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">/</span> i <span class="token operator">&lt;=</span> k<span class="token punctuation">)</span>            ans <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p>éå†$[1,\sqrt{n}]$ï¼Œæ‰¾$[1,\sqrt{n}]$çš„<code>ans</code>å’Œ$(\sqrt{n},n]$èŒƒå›´å†…çš„<code>ans</code>ï¼š</p><ol><li>å¦‚æœ<code>i</code>æ˜¯<code>ans</code>ï¼Œæˆ‘ä»¬æ‰¾çš„æ˜¯æœ€å°çš„<code>ans</code>ï¼ŒåŒæ—¶éœ€è¦æ»¡è¶³æ¯ä¸€ä»½çš„å¤§å°<code>n/i&lt;=k</code></li><li>å¦‚æœ<code>i</code>æ˜¯æ¯ä¸€ä»½çš„å¤§å°<code>n/ans</code>ï¼Œ<code>i=n/ans&lt;=k</code>ï¼Œä»½æ•°<code>ans=n/i</code></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> CSAPP </tag>
            
            <tag> Leetcode </tag>
            
            <tag> Codeforces </tag>
            
            <tag> Google Kick Start </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5.17 Notes</title>
      <link href="/2020/05/17/2020/5-17/"/>
      <url>/2020/05/17/2020/5-17/</url>
      
        <content type="html"><![CDATA[<h1 id="5-11-5-17-Learning-Notes"><a href="#5-11-5-17-Learning-Notes" class="headerlink" title="5.11-5.17 Learning Notes"></a>5.11-5.17 Learning Notes</h1><h1 id="CART"><a href="#CART" class="headerlink" title="CART"></a>CART</h1><p>CSC1001 project<br>CARTåˆ†ç±»ï¼Œé¢„æµ‹appçš„Rating</p><p>å®ç°CARTè¿‡ç¨‹ä¸­çŠ¯äº†ä¸å°‘é”™è¯¯</p><h2 id="100-å‡†ç¡®ç‡"><a href="#100-å‡†ç¡®ç‡" class="headerlink" title="100%å‡†ç¡®ç‡"></a>100%å‡†ç¡®ç‡</h2><p>æŠŠRatingæ”¾åˆ°ç‰¹å¾åˆ—é‡Œé¢ï¼Œç”¨æµ‹è¯•é›†æµ‹è¯•çš„æ—¶å€™è¿˜èƒ½å·å·ç”¨ä¸Šæµ‹è¯•é›†ä¸­Ratingçš„æ•°æ®ï¼Œå®Œç¾ï¼</p><h2 id="Gini-Indexè®¡ç®—"><a href="#Gini-Indexè®¡ç®—" class="headerlink" title="Gini Indexè®¡ç®—"></a>Gini Indexè®¡ç®—</h2><p>é€šä¿—æ¥è¯´ï¼ŒGini Indexæ˜¯æè¿°ä¸€å †æ•°æ®ä¸­å¯¹ç›®æ ‡åˆ—ï¼ˆRatingï¼‰çš„é¢„æµ‹ä¸€è‡´æ€§</p><p>$$ GiniIndex(D,a)=\sum^V_{v=1}\frac{|D^V|}{|D|}Gini(D^v) $$<br>$$ Gini(D)=1-\sum^K_{k=1}(\frac{|C_k|}{|D|})^2 $$<br>where <code>a</code> is the selected feature, <code>V</code> is the number of splitting in dataset<code>D</code>, <code>K</code> is the number of labels. <code>C_k</code> is the size of the kth label in dataset<code>D</code>.</p><p>In our model, <code>V=2</code> and <code>K=2</code> because dataset<code>D</code> is split into 2 parts and there are only 2 labels which are <code>Rating&gt;4.5</code> and <code>Rating&lt;=4.5</code>.<br>$$ Gini_index(D,a)=pGini(D^1)+(1-p)Gini(D^2) $$<br>$$ Gini(D)=1-pâ€™^2-(1-pâ€™)^2 $$<br>$$ p=\frac{|D^1|}{|D|} $$<br>$$ pâ€™=\frac{|C^1|}{|D|} $$</p><h1 id="åä¸ºè½¯æŒ‘2020æ€»ç»“"><a href="#åä¸ºè½¯æŒ‘2020æ€»ç»“" class="headerlink" title="åä¸ºè½¯æŒ‘2020æ€»ç»“"></a>åä¸ºè½¯æŒ‘2020æ€»ç»“</h1><p>æˆ‘ç¦»å†³èµ›å°±å·®äº†ä¸€ç‚¹å®åŠ›å“ˆå“ˆï¼Œä»Šå¹´çš„è¾£é¸¡é¢˜ç›®å’Œå‘½é¢˜ç»„ç –å®¶å·²ç»ç»™äº†æˆ‘æœºä¼šäº†</p><h2 id="doubleç²¾åº¦é—®é¢˜"><a href="#doubleç²¾åº¦é—®é¢˜" class="headerlink" title="doubleç²¾åº¦é—®é¢˜"></a>doubleç²¾åº¦é—®é¢˜</h2><p>æœ¬è´¨ä¸Šæ˜¯äºŒè¿›åˆ¶ä¸åè¿›åˆ¶è½¬æ¢è¿‡ç¨‹ä¸­çš„è¯¯å·®</p><ul><li><a href="https://www.zhihu.com/question/42024389" target="_blank" rel="noopener">https://www.zhihu.com/question/42024389</a></li><li><a href="https://www.zhihu.com/question/27516568" target="_blank" rel="noopener">https://www.zhihu.com/question/27516568</a></li></ul><p>å¤èµ›Bæ¦œèµ›é¢˜ä¸­ï¼Œæ˜ç¡®é‡‘é¢çš„å°æ•°éƒ¨åˆ†ä¸è¶…è¿‡ä¸¤ä½ï¼Œå› æ­¤åº”è¯¥è®©é‡‘é¢*100ï¼Œå°†å…¶è½¬æ¢æˆæ•´æ•°</p><h2 id="æ¯”èµ›å›é¡¾"><a href="#æ¯”èµ›å›é¡¾" class="headerlink" title="æ¯”èµ›å›é¡¾"></a>æ¯”èµ›å›é¡¾</h2><p>ä¸Šåˆ†å…¨é çœ‹å¤§ä½¬æ€è·¯åˆ†äº«</p><ul><li><p>åˆèµ›</p><ul><li>æ¯æ¬¡æœç´¢è·³è¿‡æ¯”å½“å‰ç‚¹å°çš„ç‚¹ï¼Œè¿™æ ·åšå°±ä¸éœ€è¦åˆ¤é‡ï¼Œä¹‹å‰æˆ‘ä¸€ç›´åœ¨æƒ³ç”¨hashåˆ¤æ–­é‡å¤çš„ç¯â€¦</li><li>ç¦»æ•£åŒ–IDï¼Œsort+unique+unordered_mapï¼ˆè™½ç„¶åˆèµ›æ•°æ®åªæœ‰5ä¸‡ä¸ªç‚¹æœ‰ç”¨ï¼‰</li><li>6+1 ï¼ˆdfsæ­£å‘6æ­¥+è´Ÿå‘1æ­¥ï¼‰</li><li>3é‚»åŸŸå‰ªæï¼Œæ ‡è®°dfsè´Ÿå‘3æ­¥èƒ½åˆ°è¾¾çš„æ‰€æœ‰ç‚¹</li><li>fread+fwrite ï¼ˆç¬¬ä¸€æ¬¡ç”¨ï¼‰</li><li>å‘é‡æ”¹æ•°ç»„å­˜è¾¹ <code>vector&lt;int&gt; GUV[MAX_NODE]</code>â€“&gt;<code>GUV[MAX_NODE][MAX_OUT_DEGREE]</code></li></ul></li><li><p>å¤èµ›</p></li><li><p>æ¯”åˆèµ›å¤šäº†é‡‘é¢çº¦æŸ</p><ul><li>4+3 ä¸€ç›´å¬è¯´è¿‡4+3ï¼Œä½†æ˜¯çŸ¥é“çœ‹äº†<a href="https://zhuanlan.zhihu.com/p/136785097æ‰ä¼šå®ç°" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/136785097æ‰ä¼šå®ç°</a></li><li>æ‹“æ‰‘æ’åºåˆ å»å…¥åº¦/å‡ºåº¦ä¸º0çš„ç‚¹ï¼Œè™½ç„¶ä¸çŸ¥é“å¯¹çº¿ä¸Šæ•°æ®æœ‰æ²¡æœ‰æ•ˆæœ</li><li>ç”¨ans3å­˜é•¿åº¦ä¸º3çš„ç¯ï¼Œans4å­˜â€¦..ï¼Œ<code>int *ans[5] = {ans3, ans4, ans5, ans6, ans7};</code>å­˜å®ƒä»¬çš„å¤´æŒ‡é’ˆ</li><li>éƒ¨åˆ†å‡½æ•°å‚æ•°æ”¹æˆå…¨å±€å˜é‡</li><li>å¤šçº¿ç¨‹éƒ¨åˆ†æ˜¯é˜Ÿå‹æœ€åå‡ å¤©å†™çš„ï¼Œæˆ‘è¿˜ä¸ä¼šâ€¦</li></ul></li></ul><h2 id="ä¸ºå•¥æœ€åç¨‹åºè·‘çš„è¿˜æ˜¯è¿™ä¹ˆæ…¢å‘¢ï¼Ÿ"><a href="#ä¸ºå•¥æœ€åç¨‹åºè·‘çš„è¿˜æ˜¯è¿™ä¹ˆæ…¢å‘¢ï¼Ÿ" class="headerlink" title="ä¸ºå•¥æœ€åç¨‹åºè·‘çš„è¿˜æ˜¯è¿™ä¹ˆæ…¢å‘¢ï¼Ÿ"></a>ä¸ºå•¥æœ€åç¨‹åºè·‘çš„è¿˜æ˜¯è¿™ä¹ˆæ…¢å‘¢ï¼Ÿ</h2><p>å‰æ’å¤§ä½¬å¼€æºï¼š</p><ul><li><a href="https://github.com/CodeCraft2020/CodeCraft2020" target="_blank" rel="noopener">https://github.com/CodeCraft2020/CodeCraft2020</a></li><li><a href="https://github.com/yoghurt-lee/HuaWeiCodeCraft2020" target="_blank" rel="noopener">https://github.com/yoghurt-lee/HuaWeiCodeCraft2020</a></li><li><a href="https://github.com/WavenZ/CodeCraft2020" target="_blank" rel="noopener">https://github.com/WavenZ/CodeCraft2020</a></li><li><a href="https://github.com/cxq80803716/2020codecraft" target="_blank" rel="noopener">https://github.com/cxq80803716/2020codecraft</a></li></ul><p>åŸå› çŒœæƒ³ï¼š</p><ul><li>dfsé€’å½’æ”¹è¿­ä»£</li><li>å¤šçº¿ç¨‹è´Ÿè½½å‡è¡¡</li><li>é™¤æ³•æ”¹ä¹˜æ³•ï¼Œä¸ç”¨double: <code>0.2&lt;=nxtc/nowc&lt;=3</code>â€“&gt;<code>nowc&lt;=5*nxtc &amp;&amp; nxtc&lt;=3*nowc</code></li><li>memcpyä»£æ›¿æ•°ç»„èµ‹å€¼</li></ul><h3 id="Resources"><a href="#Resources" class="headerlink" title="Resources"></a>Resources</h3><ul><li><a href="https://blog.csdn.net/zhangruijerry/article/details/105268377" target="_blank" rel="noopener">https://blog.csdn.net/zhangruijerry/article/details/105268377</a></li><li><a href="https://zhuanlan.zhihu.com/p/125764650" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/125764650</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> Machine Learning </tag>
            
            <tag> Competition </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5.10 Notes</title>
      <link href="/2020/05/10/2020/5-10/"/>
      <url>/2020/05/10/2020/5-10/</url>
      
        <content type="html"><![CDATA[<h1 id="5-4-5-10-Learning-Notes"><a href="#5-4-5-10-Learning-Notes" class="headerlink" title="5.4-5.10 Learning Notes"></a>5.4-5.10 Learning Notes</h1><h1 id="Leetcode"><a href="#Leetcode" class="headerlink" title="Leetcode"></a>Leetcode</h1><h1 id="è·³è·ƒæ¸¸æˆ"><a href="#è·³è·ƒæ¸¸æˆ" class="headerlink" title="è·³è·ƒæ¸¸æˆ"></a>è·³è·ƒæ¸¸æˆ</h1><p>ç¬¬ä¸€é¢˜æ±‚èƒ½å¦åˆ°è¾¾ç»ˆç‚¹ï¼Œç¬¬äºŒé¢˜æ±‚åˆ°è¾¾ç»ˆç‚¹çš„æœ€å°æ­¥æ•°<br>ä¸¤é¢˜éƒ½å¯ä»¥ç”¨è´ªå¿ƒåš</p><h2 id="I"><a href="#I" class="headerlink" title="I"></a><a href="https://leetcode-cn.com/problems/jump-game/" target="_blank" rel="noopener">I</a></h2><p><a href="https://leetcode-cn.com/problems/jump-game/solution/55-by-ikaruga/" target="_blank" rel="noopener">é¢˜è§£</a>  </p><ol><li>å¦‚æœæŸä¸€ä¸ªä½œä¸ºèµ·è·³ç‚¹çš„æ ¼å­å¯ä»¥è·³è·ƒçš„è·ç¦»æ˜¯ 3ï¼Œé‚£ä¹ˆè¡¨ç¤ºåé¢3 ä¸ªæ ¼å­éƒ½å¯ä»¥ä½œä¸º èµ·è·³ç‚¹ã€‚</li><li>å¯ä»¥å¯¹æ¯ä¸€ä¸ªèƒ½ä½œä¸ºèµ·è·³ç‚¹çš„æ ¼å­éƒ½å°è¯•è·³ä¸€æ¬¡ï¼ŒæŠŠèƒ½è·³åˆ°æœ€è¿œçš„è·ç¦»ä¸æ–­æ›´æ–°ã€‚</li><li>å¦‚æœå¯ä»¥ä¸€ç›´è·³åˆ°æœ€åï¼Œå°±æˆåŠŸäº†ã€‚<h2 id="II"><a href="#II" class="headerlink" title="II"></a><a href="https://leetcode-cn.com/problems/jump-game-ii/" target="_blank" rel="noopener">II</a></h2>æˆ‘çš„ä»£ç ï¼š  </li></ol><ul><li>ä½¿ç”¨<code>cnt</code>æ•°ç»„è®°å½•è·³åˆ°æŸä¸€ä¸ªä½ç½®æ‰€éœ€çš„æœ€å°æ­¥æ•°<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>  <span class="token keyword">int</span> <span class="token function">jump</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>nums<span class="token punctuation">)</span>  <span class="token punctuation">{</span>      <span class="token keyword">int</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>      <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">int</span> cnt<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token function">memset</span><span class="token punctuation">(</span>cnt<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      cnt<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>      <span class="token punctuation">{</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> r<span class="token punctuation">)</span>              <span class="token keyword">continue</span><span class="token punctuation">;</span>          <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> r <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> i <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">>=</span> j<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>              cnt<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> cnt<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>          r <span class="token operator">=</span> i <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">>=</span> n<span class="token punctuation">)</span>              <span class="token keyword">break</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token keyword">return</span> cnt<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></li></ul><p>ç²¾ç®€åçš„ä»£ç ï¼ˆé¢˜è§£ï¼‰ï¼š  </p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">jump</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>nums<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> step <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> end <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            r <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> i <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> end<span class="token punctuation">)</span>            <span class="token punctuation">{</span>                end <span class="token operator">=</span> r<span class="token punctuation">;</span>                <span class="token operator">++</span>step<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> step<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h1 id="æœ€ä½ç¥¨ä»·"><a href="#æœ€ä½ç¥¨ä»·" class="headerlink" title="æœ€ä½ç¥¨ä»·"></a><a href="https://leetcode-cn.com/problems/minimum-cost-for-tickets/" target="_blank" rel="noopener">æœ€ä½ç¥¨ä»·</a></h1><p>åˆå§‹æ€è·¯ï¼š<br><code>dp[i]</code>è¡¨ç¤ºå®Œæˆå‰<code>i</code>ä¸ªæ—…è¡Œè®¡åˆ’æ‰€éœ€è¦çš„æœ€ä½æ¶ˆè´¹<br>$dp[i]=\min{f[j]+costs[k]}$, $k=0,1,2$ ,$days[j]+t[k]&gt;=days[i]$<br>$t[3]={1,7,30}$</p><p>è¿™æ ·å®šä¹‰dpæ–¹ç¨‹çš„è¯æ˜¯æœ‰åæ•ˆæ€§çš„ã€‚å› ä¸ºç¬¬<code>i</code>ä¸ªæ—…è¡Œè®¡åˆ’ä¹‹å‰çš„æ¶ˆè´¹éƒ½æ˜¯ç¡®å®šçš„ï¼Œæœ‰ç‚¹ç±»ä¼¼è´ªå¿ƒï¼Œæ²¡æœ‰è€ƒè™‘åˆ°å½“å‰è¿˜å‰©å¤šå°‘å¤©çš„é€šè¡Œè¯ã€‚</p><p>æ­£è§£ï¼š<br><code>dp[i]</code>è¡¨ç¤ºå‰<code>i</code>å¤©æ‰€éœ€è¦çš„æœ€ä½æ¶ˆè´¹  </p><ul><li>å¦‚æœå½“å¤©ä¸åœ¨è®¡åˆ’å†…$dp[i]=dp[i-1]$</li><li>å¦‚æœåœ¨è®¡åˆ’å†…$dp[i]=\min{dp[i-1]+costs[0],dp[i-7]+costs[1],dp[i-30]+costs[2]}$</li></ul><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">const</span> <span class="token keyword">int</span> inf<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">30</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">mincostTickets</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> days<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> costs<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> ticket<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> n<span class="token operator">=</span>days<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">dp</span><span class="token punctuation">(</span>days<span class="token punctuation">[</span>n<span class="token number">-1</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>            dp<span class="token punctuation">[</span>days<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>days<span class="token punctuation">[</span>n<span class="token number">-1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>                dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>dp<span class="token punctuation">[</span>i<span class="token number">-1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">else</span>            <span class="token punctuation">{</span>                dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token punctuation">{</span>dp<span class="token punctuation">[</span><span class="token function">max</span><span class="token punctuation">(</span>i<span class="token number">-1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">+</span>costs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dp<span class="token punctuation">[</span><span class="token function">max</span><span class="token punctuation">(</span>i<span class="token number">-7</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">+</span>costs<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dp<span class="token punctuation">[</span><span class="token function">max</span><span class="token punctuation">(</span>i<span class="token number">-30</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">+</span>costs<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> dp<span class="token punctuation">[</span>days<span class="token punctuation">[</span>n<span class="token number">-1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> Leetcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5.3 Notes</title>
      <link href="/2020/05/03/2020/5-3/"/>
      <url>/2020/05/03/2020/5-3/</url>
      
        <content type="html"><![CDATA[<h1 id="4-20-5-3-Learning-Notes"><a href="#4-20-5-3-Learning-Notes" class="headerlink" title="4.20-5.3 Learning Notes"></a>4.20-5.3 Learning Notes</h1><h1 id="Huawei-Sofeware-Competition"><a href="#Huawei-Sofeware-Competition" class="headerlink" title="Huawei Sofeware Competition"></a>Huawei Sofeware Competition</h1><h2 id="First-Round"><a href="#First-Round" class="headerlink" title="First Round"></a>First Round</h2><p>æˆåŠŸæ°´è¿›å¤èµ›<br><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/5-3-2020-05-01-12-58-52" alt="5-3-2020-05-01-12-58-52"></p><p>æ€è·¯ï¼š</p><ul><li>ä¸‰é‚»åŸŸå‰ªæ</li><li>6+1</li><li>å‘é‡æ”¹æ•°ç»„</li></ul><p>æ„Ÿè°¢ï¼š</p><ul><li><a href="https://zhuanlan.zhihu.com/p/125764650" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/125764650</a></li><li><a href="https://blog.csdn.net/zhangruijerry/article/details/105268377" target="_blank" rel="noopener">https://blog.csdn.net/zhangruijerry/article/details/105268377</a></li><li><a href="https://github.com/byl0561/HWcode2020-TestData" target="_blank" rel="noopener">https://github.com/byl0561/HWcode2020-TestData</a><h2 id="code"><a href="#code" class="headerlink" title="code"></a>code</h2></li></ul><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;array></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;chrono></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cmath></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">auto</span> time_start <span class="token operator">=</span> chrono<span class="token operator">::</span>steady_clock<span class="token operator">::</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// #define LINUXOUTPUT</span><span class="token macro property">#<span class="token directive keyword">define</span> OUTPUT</span><span class="token macro property">#<span class="token directive keyword">define</span> TEST</span>string input_path <span class="token operator">=</span> <span class="token string">"/data/test_data.txt"</span><span class="token punctuation">;</span>string output_path <span class="token operator">=</span> <span class="token string">"/projects/student/result.txt"</span><span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">ifdef</span> TEST</span>string test_scale <span class="token operator">=</span> <span class="token string">"1004812"</span><span class="token punctuation">;</span>string test_input_path_s <span class="token operator">=</span> <span class="token string">"./data/"</span> <span class="token operator">+</span> test_scale <span class="token operator">+</span> <span class="token string">"/test_data.txt"</span><span class="token punctuation">;</span>string test_output_path_s <span class="token operator">=</span> test_input_path_s<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> test_input_path_s<span class="token punctuation">.</span><span class="token function">rfind</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"/output.txt"</span><span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">endif</span></span><span class="token keyword">const</span> <span class="token keyword">int</span> INF <span class="token operator">=</span> <span class="token number">280005</span><span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span><span class="token keyword">int</span> GUV<span class="token punctuation">[</span>INF<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">51</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> GVU<span class="token punctuation">[</span>INF<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">51</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">bool</span> visited<span class="token punctuation">[</span>INF<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> flag<span class="token punctuation">[</span>INF<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">typedef</span> array<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token operator">></span> ans_t<span class="token punctuation">;</span><span class="token keyword">int</span> ans_size<span class="token punctuation">;</span>ans_t ans<span class="token punctuation">[</span><span class="token number">4000005</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> u_max<span class="token punctuation">;</span><span class="token keyword">namespace</span> IO<span class="token punctuation">{</span><span class="token keyword">const</span> <span class="token keyword">int</span> MAXSIZE <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span><span class="token keyword">char</span> buf<span class="token punctuation">[</span>MAXSIZE<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">*</span>p1<span class="token punctuation">,</span> <span class="token operator">*</span>p2<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> gc() (p1 == p2 &amp;&amp; (p2 = (p1 = buf) + fread(buf, 1, MAXSIZE, stdin), p1 == p2) ? EOF : *p1++)</span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">rd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    int16_t c <span class="token operator">=</span> <span class="token function">gc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isdigit</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token constant">EOF</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> c<span class="token punctuation">;</span>        c <span class="token operator">=</span> <span class="token function">gc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">isdigit</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>        x <span class="token operator">=</span> x <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> <span class="token punctuation">(</span>c <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token function">gc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">rd_to_line_end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    int16_t c <span class="token operator">=</span> <span class="token function">gc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>c <span class="token operator">!=</span> <span class="token string">'\n'</span><span class="token punctuation">)</span>        c <span class="token operator">=</span> <span class="token function">gc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">char</span> pbuf<span class="token punctuation">[</span>MAXSIZE<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">*</span>pp <span class="token operator">=</span> pbuf<span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pp <span class="token operator">-</span> pbuf <span class="token operator">==</span> MAXSIZE<span class="token punctuation">)</span>        <span class="token function">fwrite</span><span class="token punctuation">(</span>pbuf<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> MAXSIZE<span class="token punctuation">,</span> <span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pp <span class="token operator">=</span> pbuf<span class="token punctuation">;</span>    <span class="token operator">*</span>pp<span class="token operator">++</span> <span class="token operator">=</span> c<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">write</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">static</span> <span class="token keyword">int</span> sta<span class="token punctuation">[</span><span class="token number">35</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> top <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">do</span>    <span class="token punctuation">{</span>        sta<span class="token punctuation">[</span>top<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> x <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">,</span> x <span class="token operator">/</span><span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>top<span class="token punctuation">)</span>        <span class="token function">push</span><span class="token punctuation">(</span>sta<span class="token punctuation">[</span><span class="token operator">--</span>top<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment" spellcheck="true">// namespace IO</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">read_data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">freopen</span><span class="token punctuation">(</span>test_input_path_s<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">,</span> <span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> u<span class="token punctuation">,</span> v<span class="token punctuation">;</span>    <span class="token keyword">int</span> ch<span class="token punctuation">;</span>    <span class="token keyword">register</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        u <span class="token operator">=</span> IO<span class="token operator">::</span><span class="token function">rd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>u <span class="token operator">==</span> <span class="token constant">EOF</span><span class="token punctuation">)</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        v <span class="token operator">=</span> IO<span class="token operator">::</span><span class="token function">rd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        IO<span class="token operator">::</span><span class="token function">rd_to_line_end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        GUV<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">++</span>GUV<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">;</span>        GVU<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">++</span>GVU<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> u<span class="token punctuation">;</span>        u_max <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>u_max<span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">ifdef</span> TEST</span>    <span class="token keyword">auto</span> input_time_end <span class="token operator">=</span> chrono<span class="token operator">::</span>steady_clock<span class="token operator">::</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">auto</span> input_time_diff <span class="token operator">=</span> input_time_end <span class="token operator">-</span> time_start<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"prehandle cost: "</span> <span class="token operator">&lt;&lt;</span> chrono<span class="token operator">::</span>duration<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token punctuation">,</span> milli<span class="token operator">></span><span class="token punctuation">(</span>input_time_diff<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"s"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">endif</span></span><span class="token punctuation">}</span><span class="token keyword">inline</span> <span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span>ans_t <span class="token operator">&amp;</span>x<span class="token punctuation">,</span> ans_t <span class="token operator">&amp;</span>y<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> now <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>x<span class="token punctuation">[</span>now<span class="token punctuation">]</span> <span class="token operator">==</span> y<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token operator">++</span>now<span class="token punctuation">;</span>    <span class="token keyword">return</span> x<span class="token punctuation">[</span>now<span class="token punctuation">]</span> <span class="token operator">&lt;</span> y<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">flag_reverse_dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">,</span> <span class="token keyword">int</span> depth<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">register</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span>    <span class="token keyword">int</span> v<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> GVU<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        v <span class="token operator">=</span> GVU<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> v <span class="token operator">></span> target<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            flag<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> target<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>depth <span class="token operator">&lt;=</span> <span class="token number">2</span><span class="token punctuation">)</span>                <span class="token function">flag_reverse_dfs</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> depth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>            visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">,</span> <span class="token keyword">int</span> depth<span class="token punctuation">,</span> ans_t <span class="token operator">&amp;</span>path<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">register</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span>    <span class="token keyword">int</span> v<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> GUV<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        v <span class="token operator">=</span> GUV<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">&lt;=</span> target<span class="token punctuation">)</span>            <span class="token keyword">continue</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span>target <span class="token operator">&amp;&amp;</span> visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>depth <span class="token operator">>=</span> <span class="token number">2</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                path<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> depth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>                path<span class="token punctuation">[</span>depth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">;</span>                ans<span class="token punctuation">[</span><span class="token operator">++</span>ans_size<span class="token punctuation">]</span> <span class="token operator">=</span> path<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">!=</span> target <span class="token operator">&amp;&amp;</span> flag<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span>target <span class="token operator">&amp;&amp;</span> depth <span class="token operator">>=</span> <span class="token number">4</span><span class="token punctuation">)</span>            <span class="token keyword">continue</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> depth <span class="token operator">&lt;=</span> <span class="token number">5</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            path<span class="token punctuation">[</span>depth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">;</span>            <span class="token function">dfs</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> depth <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> path<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>            visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    ans_t path<span class="token punctuation">;</span>    <span class="token keyword">register</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">;</span>    <span class="token keyword">int</span> target<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> u_max<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>GUV<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>            <span class="token keyword">continue</span><span class="token punctuation">;</span>        <span class="token function">flag_reverse_dfs</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> GVU<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            flag<span class="token punctuation">[</span>GVU<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>i<span class="token punctuation">;</span>        path<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> path<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">output_data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">register</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">;</span>    <span class="token function">freopen</span><span class="token punctuation">(</span>test_output_path_s<span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">,</span> <span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sort</span><span class="token punctuation">(</span>ans <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> ans <span class="token operator">+</span> ans_size <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> cmp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">ifdef</span> TEST</span>    <span class="token keyword">auto</span> output_time_start <span class="token operator">=</span> chrono<span class="token operator">::</span>steady_clock<span class="token operator">::</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">endif</span></span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ans_size<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> ans_size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            IO<span class="token operator">::</span><span class="token function">write</span><span class="token punctuation">(</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            IO<span class="token operator">::</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        IO<span class="token operator">::</span><span class="token function">write</span><span class="token punctuation">(</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        IO<span class="token operator">::</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">fwrite</span><span class="token punctuation">(</span>IO<span class="token operator">::</span>pbuf<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> IO<span class="token operator">::</span>pp <span class="token operator">-</span> IO<span class="token operator">::</span>pbuf<span class="token punctuation">,</span> <span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">ifdef</span> LINUXOUTPUT</span>    <span class="token function">freopen</span><span class="token punctuation">(</span><span class="token string">"/dev/tty"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">,</span> <span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">else</span></span>    <span class="token function">freopen</span><span class="token punctuation">(</span><span class="token string">"CON"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">,</span> <span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">endif</span></span><span class="token macro property">#<span class="token directive keyword">ifdef</span> TEST</span>    <span class="token keyword">auto</span> output_time_end <span class="token operator">=</span> chrono<span class="token operator">::</span>steady_clock<span class="token operator">::</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">auto</span> output_time_diff <span class="token operator">=</span> output_time_end <span class="token operator">-</span> output_time_start<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"output cost: "</span> <span class="token operator">&lt;&lt;</span> chrono<span class="token operator">::</span>duration<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token punctuation">,</span> milli<span class="token operator">></span><span class="token punctuation">(</span>output_time_diff<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"s"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">endif</span></span>    <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">read_data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">work</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">output_data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">ifdef</span> TEST</span>    <span class="token keyword">auto</span> time_end <span class="token operator">=</span> chrono<span class="token operator">::</span>steady_clock<span class="token operator">::</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">auto</span> diff <span class="token operator">=</span> time_end <span class="token operator">-</span> time_start<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">ifdef</span> LINUXOUTPUT</span>    <span class="token function">freopen</span><span class="token punctuation">(</span><span class="token string">"/dev/tty"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">,</span> <span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">else</span></span>    <span class="token function">freopen</span><span class="token punctuation">(</span><span class="token string">"CON"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">,</span> <span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">endif</span></span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ans size is %d\n"</span><span class="token punctuation">,</span> ans_size<span class="token punctuation">)</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"The program's speed: "</span> <span class="token operator">&lt;&lt;</span> chrono<span class="token operator">::</span>duration<span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token punctuation">,</span> milli<span class="token operator">></span><span class="token punctuation">(</span>diff<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"s"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">endif</span></span>    <span class="token function">fclose</span><span class="token punctuation">(</span><span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">fclose</span><span class="token punctuation">(</span><span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul><li>å¤šçœ‹ç¾¤ä¿¡æ¯</li><li>å¤šä¸Šç½‘æ‰¾åˆ«äººçš„æ€è·¯</li><li>é’»è§„åˆ™æ¼æ´ï¼šå¼€å°å·/æ¢æµ‹æ•°æ®ï¼ˆè¯¯ï¼‰<h2 id="é¢å‘æ•°æ®ç¼–ç¨‹"><a href="#é¢å‘æ•°æ®ç¼–ç¨‹" class="headerlink" title="é¢å‘æ•°æ®ç¼–ç¨‹"></a><a href="https://github.com/justarandomstring/2020-Huawei-Code-Craft" target="_blank" rel="noopener">é¢å‘æ•°æ®ç¼–ç¨‹</a></h2></li></ul><h3 id="Level-1-è®¡åˆ†æ•°æ®åªæœ‰ä¸€ç»„"><a href="#Level-1-è®¡åˆ†æ•°æ®åªæœ‰ä¸€ç»„" class="headerlink" title="Level 1: è®¡åˆ†æ•°æ®åªæœ‰ä¸€ç»„"></a>Level 1: è®¡åˆ†æ•°æ®åªæœ‰ä¸€ç»„</h3><p>ä»¥ä¸‹è®¾ answer è¡¨ç¤ºæ‰¾åˆ°çš„ç¯æ•°ã€‚</p><ul><li><p>åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token function">assert</span><span class="token punctuation">(</span>answer <span class="token operator">></span> <span class="token number">2500000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>æäº¤åè¿”å› Runtime Errorã€‚æ–­å®šï¼šçº¿ä¸Šå­˜åœ¨ç¯æ•°ä¸å¤§äº 2500000 çš„æ•°æ®ã€‚</p></li><li><p>åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">if</span> <span class="token punctuation">(</span>answer <span class="token operator">&lt;=</span> <span class="token number">2500000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>æäº¤ååˆ†æ•°ä¸å˜ã€‚æ–­å®šï¼šç¯æ•°ä¸å¤§äº 2500000 çš„æ•°æ®ä¸è®¡åˆ†ã€‚</p></li><li><p>åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">if</span> <span class="token punctuation">(</span>answer <span class="token operator">></span> <span class="token number">2500000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>å¤šæ¬¡æäº¤ï¼Œæ¯æ¬¡åˆ†æ•°éƒ½ä¸å˜ã€‚æ–­å®šï¼šå¯¹äºä¸€ç»„æ•°æ®ï¼Œè¿è¡Œäº†å¤šæ¬¡ï¼Œå–æœ€å¿«çš„ä¸€æ¬¡ä½œä¸ºåˆ†æ•°ã€‚</p></li><li><p>åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">if</span> <span class="token punctuation">(</span>answer <span class="token operator">></span> <span class="token number">2500000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token punctuation">(</span>answer <span class="token operator">-</span> <span class="token number">2500000</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>æäº¤åè¿”å› 414ã€‚æ–­å®šï¼šæŸä¸€ç»„æ•°æ®çš„ç­”æ¡ˆé™¤ä»¥ 1000 ä¸º 2914ã€‚</p></li><li><p>åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">if</span> <span class="token punctuation">(</span>answer <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">==</span> <span class="token number">2914</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">sleep</span><span class="token punctuation">(</span>answer <span class="token operator">%</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>æäº¤åè¿”å› 186ã€‚æ–­å®šï¼šä¸Šè¿°æ•°æ®çš„ç­”æ¡ˆä¸º 2914186ã€‚</p></li><li><p>åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">if</span> <span class="token punctuation">(</span>answer <span class="token operator">></span> <span class="token number">2500000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">assert</span><span class="token punctuation">(</span>answer <span class="token operator">==</span> <span class="token number">2914186</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>æäº¤åæ­£å¸¸è¿”å›ã€‚æ–­å®šï¼šçº¿ä¸Šè®¡åˆ†çš„æ•°æ®åªæœ‰ä¸€ç»„ï¼Œä¸”ç­”æ¡ˆä¸º 2914186ã€‚</p></li></ul><h3 id="Level-2-è®¡åˆ†æ•°æ®åˆ†å¸ƒæä¸è§„å¾‹"><a href="#Level-2-è®¡åˆ†æ•°æ®åˆ†å¸ƒæä¸è§„å¾‹" class="headerlink" title="Level 2: è®¡åˆ†æ•°æ®åˆ†å¸ƒæä¸è§„å¾‹"></a>Level 2: è®¡åˆ†æ•°æ®åˆ†å¸ƒæä¸è§„å¾‹</h3><p>ä»¥ä¸‹è®¾ src[i] è¡¨ç¤ºä»¥ i ä¸ºèµ·ç‚¹çš„ç¯æ•°ã€‚</p><ul><li><p>åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">if</span> <span class="token punctuation">(</span>answer <span class="token operator">==</span> <span class="token number">2914186</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> max_src <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        max_src <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>max_src<span class="token punctuation">,</span> src<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">sleep</span><span class="token punctuation">(</span>max_src <span class="token operator">*</span> <span class="token number">100</span> <span class="token operator">/</span> answer<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>æäº¤åè¿”å› 26ã€‚è¡¨æ˜å­˜åœ¨ä¸€ä¸ªç‚¹ï¼Œä»¥å…¶ä¸ºèµ·ç‚¹çš„ç¯ä¸å°‘äº 2914186 * 0.26 = 757688 ä¸ªã€‚</p></li><li><p>åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">if</span> <span class="token punctuation">(</span>answer <span class="token operator">==</span> <span class="token number">2914186</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> vec<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>src<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> vec<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>src<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">sort</span><span class="token punctuation">(</span>vec<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> vec<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sleep</span><span class="token punctuation">(</span>vec<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>vec<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">100</span> <span class="token operator">/</span> answer<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>æäº¤åè¿”å› 13ã€‚è¡¨æ˜å­˜åœ¨å¦å¤–ä¸€ä¸ªç‚¹ï¼Œä»¥å…¶ä¸ºèµ·ç‚¹çš„ç¯ä¸å°‘äº 2914186 * 0.13 = 378844 ä¸ªã€‚</p></li><li><p>ä½¿ç”¨ç±»ä¼¼çš„æ–¹æ³•ï¼Œå¯ä»¥å¾—å‡ºè¿˜æœ‰å¦å¤–ä¸€ä¸ªç‚¹ï¼Œä»¥å…¶ä¸ºèµ·ç‚¹çš„ç¯ä¹Ÿä¸å°‘äº 378844 ä¸ªã€‚</p></li></ul><h3 id="Level-3-æ ¹æ®æ•°æ®ç‰¹ç‚¹è¿›è¡Œä¼˜åŒ–"><a href="#Level-3-æ ¹æ®æ•°æ®ç‰¹ç‚¹è¿›è¡Œä¼˜åŒ–" class="headerlink" title="Level 3: æ ¹æ®æ•°æ®ç‰¹ç‚¹è¿›è¡Œä¼˜åŒ–"></a>Level 3: æ ¹æ®æ•°æ®ç‰¹ç‚¹è¿›è¡Œä¼˜åŒ–</h3><ul><li><p>ä½¿ç”¨ Level 1 ä¸­ä»‹ç»çš„æ–¹æ³•ï¼Œå¯ä»¥å¾—å‡ºå¦‚ä¸‹ä¿¡æ¯ï¼šçº¿ä¸Šçš„ç‚¹æ•°ä¸º 20Wï¼Œå…¶ä¸­å‡ºç°åœ¨ç­”æ¡ˆé‡Œçš„ç‚¹æ•°ä¸º 4.2Wï¼Œå‡ºç°åœ¨ç­”æ¡ˆé‡Œçš„ç‚¹çš„æœ€å¤§å€¼ä¸º 49999ã€‚æ‰€ä»¥ä¼˜åŒ–ç­–ç•¥å¦‚ä¸‹ï¼šè¯»å…¥æ—¶ï¼Œç›´æ¥å¿½ç•¥ &gt;= 5W çš„èŠ‚ç‚¹ã€‚</p></li><li><p>ä½¿ç”¨ Level 2 ä¸­ä»‹ç»çš„æ–¹æ³•ï¼Œå¾—å‡ºï¼šä»¥ 6000, 10000, 10001, 25123 è¿™å››ä¸ªç‚¹ä¸ºèµ·ç‚¹çš„ç¯éå¸¸å¤šï¼Œåœ¨ç»™çº¿ç¨‹åˆ†é…ä»»åŠ¡æ—¶å¯ä»¥ç‰¹æ®Šå¤„ç†ã€‚</p></li><li><p>åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">if</span> <span class="token punctuation">(</span>answer <span class="token operator">==</span> <span class="token number">2914186</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> max_src_i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>src<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> max_src_i <span class="token operator">=</span> i<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">sleep</span><span class="token punctuation">(</span>max_src_i <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>æäº¤åè¿”å› 43ã€‚è¡¨æ˜ä¸å­˜åœ¨æ»¡è¶³â€œç¯ä¸­çš„æœ€å°å€¼å¤§äº 44000â€çš„ç¯ï¼Œæ‰€ä»¥æšä¸¾èµ·ç‚¹æ—¶åªéœ€è¦æšä¸¾åˆ° 44000ã€‚</p></li></ul><h3 id="Level-4-çŒœæµ‹æ•°æ®ç”Ÿæˆè§„åˆ™"><a href="#Level-4-çŒœæµ‹æ•°æ®ç”Ÿæˆè§„åˆ™" class="headerlink" title="Level 4: çŒœæµ‹æ•°æ®ç”Ÿæˆè§„åˆ™"></a>Level 4: çŒœæµ‹æ•°æ®ç”Ÿæˆè§„åˆ™</h3><p>ä¸‹è¿° K12, K13 åˆ†åˆ«è¡¨ç¤º 12 ä¸ªç‚¹ã€13 ä¸ªç‚¹çš„æœ‰å‘å®Œå…¨å›¾ã€‚å®¹æ˜“çŸ¥é“ï¼Œå¯¹äº K_nï¼Œå…¶ä¸­é•¿åº¦ä¸º m(3&lt;=m&lt;=n) çš„ç¯æ•°ä¸º C(n,m) * (m-1)!ã€‚</p><ul><li><p>ä½¿ç”¨ Level 2 ä¸­ä»‹ç»çš„æ–¹æ³•ï¼Œå¾—å‡ºï¼šä»¥ 10000 ä¸ºèµ·ç‚¹çš„ç¯å¤§çº¦ä¸º 757688 ä¸ªï¼›ä»¥ 6000, 10001 ä¸ºèµ·ç‚¹çš„ç¯å¤§çº¦ä¸º 378844 ä¸ªã€‚</p></li><li><p>è§‚å¯Ÿåˆ°ï¼šè®¾ 1, 2, 3, â€¦, 13 è¿™ 13 ä¸ªç‚¹ç»„æˆä¸€ä¸ª K13ï¼Œé‚£ä¹ˆä»¥ 1 ä¸ºèµ·ç‚¹çš„é•¿åº¦ä»‹äºä¸‰å’Œä¸ƒä¹‹é—´çš„ç¯çš„ä¸ªæ•°ä¸º 773652 ä¸ªï¼Œè¿™ä¸ªæ•°å­—å’Œ 757688 ååˆ†æ¥è¿‘ã€‚åŒæ—¶å¯ä»¥å‘ç°ï¼Œä»¥ 2 ä¸ºèµ·ç‚¹çš„é•¿åº¦ä»‹äºä¸‰å’Œä¸ƒä¹‹é—´çš„ç¯çš„ä¸ªæ•°ä¸º 397100ï¼Œè¿™ä¸ªæ•°å­—å’Œ 378844 ååˆ†æ¥è¿‘ã€‚ç”±æ­¤çŒœæµ‹ï¼š10000, 10001, â€¦, 10012 è¿™ 13 ä¸ªç‚¹ç»„æˆäº†ä¸€ä¸ª K13ã€‚ç»éªŒè¯æœç„¶å¦‚æ­¤ï¼</p></li><li><p>ä½¿ç”¨ç›¸åŒçš„åšæ³•å¯ä»¥å‘ç°ï¼Œ6000, 6001, â€¦, 6011 è¿™ 12 ä¸ªç‚¹ç»„æˆäº†ä¸€ä¸ª K12ï¼Œ25123, 25124, â€¦, 25134 è¿™ 12 ä¸ªç‚¹ä¹Ÿç»„æˆäº†ä¸€ä¸ª K12ã€‚</p></li><li><p>ç»“åˆ Level 3 ä¸­çš„ç»“è®º â€œç­”æ¡ˆä¸­æœ€å¤§çš„ç‚¹ä¸º 49999â€ï¼ŒçŒœæµ‹ï¼šå¤§äºç­‰äº 50000 çš„ç‚¹è¿æˆä¸€ä¸ª DAG æ£®æ—ï¼Œæ²¡æœ‰ç¯å‡ºç°ã€‚</p></li><li><p>å¯¹äº K13ï¼Œå…¶ä¸­é•¿åº¦ä»‹äºä¸‰å’Œä¸ƒä¹‹é—´çš„ç¯çš„ä¸ªæ•°ä¸º 1477190ã€‚å¯¹äº K12ï¼Œå…¶ä¸­é•¿åº¦ä»‹äºä¸‰å’Œä¸ƒä¹‹é—´çš„ç¯çš„ä¸ªæ•°ä¸º 703538ã€‚æ‰€ä»¥ä»…ä»…è¿™ä¸‰ä¸ªå›¢çš„ç¯æ•°å·²ç»æœ‰ 2884266 ä¸ªï¼Œè€Œæ€»ç¯æ•°åªæœ‰ 2914186 ä¸ªï¼Œä¹Ÿå°±æ˜¯è¯´é™¤äº†è¿™ä¸‰ä¸ªå›¢ï¼Œåªæœ‰ 29920 ä¸ªç¯ã€‚è¿™äº›ç¯æ˜¯å¾ˆå®¹æ˜“ç”Ÿæˆçš„ï¼Œæ¨æµ‹æ˜¯ä½¿ç”¨äº†æŸç§éšæœºç®—æ³•ã€‚</p></li></ul><p>ç»¼ä¸Šï¼š10000, 10001, â€¦, 10012 è¿™ 13 ä¸ªç‚¹ç»„æˆäº†ä¸€ä¸ª K13ï¼Œ6000, 6001, â€¦, 6011 è¿™ 12 ä¸ªç‚¹ç»„æˆäº†ä¸€ä¸ª K12ï¼Œ25123, 25124, â€¦, 25134 è¿™ 12 ä¸ªç‚¹ä¹Ÿç»„æˆäº†ä¸€ä¸ª K12ã€‚å…¶ä½™çš„å°äº 50000 çš„ç‚¹éšæœºè¿è¾¹ã€‚å¤§äºç­‰äº 50000 çš„ç‚¹è¿æˆ DAG æ£®æ—ã€‚</p><h1 id="Leetcodeæ»‘åŠ¨çª—å£-map-multiset"><a href="#Leetcodeæ»‘åŠ¨çª—å£-map-multiset" class="headerlink" title="Leetcodeæ»‘åŠ¨çª—å£+map/multiset"></a><a href="https://leetcode-cn.com/problems/longest-continuous-subarray-with-absolute-diff-less-than-or-equal-to-limit/solution/longest-continuous-subarray-by-ikaruga/" target="_blank" rel="noopener">Leetcodeæ»‘åŠ¨çª—å£+map/multiset</a></h1><h2 id="åªæœ‰æ»‘åŠ¨çª—å£çš„ä»£ç "><a href="#åªæœ‰æ»‘åŠ¨çª—å£çš„ä»£ç " class="headerlink" title="åªæœ‰æ»‘åŠ¨çª—å£çš„ä»£ç "></a>åªæœ‰æ»‘åŠ¨çª—å£çš„ä»£ç </h2><p>æ€è·¯ï¼š<br>è‹¥<code>maxn-minx&gt;limit</code>ï¼Œå°†æ»‘åŠ¨çª—å£å·¦ç«¯ç‚¹å³ç§»<br>å¦åˆ™æ‰©å¤§çª—å£ï¼Œå°†å³ç«¯ç‚¹å³ç§»<br>ç­”æ¡ˆå°±æ˜¯æœ€å¤§çš„æ»‘åŠ¨çª—å£å¤§å°  </p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">longestSubarray</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>nums<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> minx <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">30</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> maxn <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            len <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            minx <span class="token operator">=</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            maxn <span class="token operator">=</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                maxn <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>maxn<span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                minx <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>minx<span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>maxn <span class="token operator">-</span> minx <span class="token operator">></span> limit<span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    ans <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>len<span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">else</span>                <span class="token punctuation">{</span>                    <span class="token operator">++</span>len<span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            ans <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>len<span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="map-multiset"><a href="#map-multiset" class="headerlink" title="+map/multiset"></a>+map/multiset</h2><p>ä¸Šé¢çš„ç¨‹åºåœ¨æ¯æ¬¡æ»‘åŠ¨çª—å£å³ç§»çš„æ—¶å€™ï¼Œéƒ½è¦é‡æ–°è®¡ç®—æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚<br>æ‰€ä»¥å¯ä»¥ç”¨mapï¼ˆçº¢é»‘æ ‘ï¼‰æ¥ç»´æŠ¤æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œå³ç§»çš„æ—¶å€™å°±åˆ æ‰çª—å£å·¦ç«¯ç‚¹çš„å€¼ï¼Œæ‰©å¤§çª—å£çš„æ—¶å€™å°±æ’å…¥å³ç«¯ç‚¹çš„å€¼</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">longestSubarray</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>nums<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">></span> m<span class="token punctuation">;</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// insert</span>            <span class="token operator">++</span>m<span class="token punctuation">[</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// maxn-minx>limit</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span>first<span class="token operator">-</span>m<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span>first<span class="token operator">></span>limit<span class="token punctuation">)</span>             <span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">// window right shift</span>                <span class="token operator">--</span>m<span class="token punctuation">[</span>nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>m<span class="token punctuation">[</span>nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>                    m<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token operator">++</span>j<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">else</span>            <span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">// calculate window's size</span>                ans<span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span>i<span class="token operator">-</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> Leetcode </tag>
            
            <tag> Competition </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4.19 Notes</title>
      <link href="/2020/04/19/2020/4-19/"/>
      <url>/2020/04/19/2020/4-19/</url>
      
        <content type="html"><![CDATA[<h1 id="4-13-4-19-Learning-Notes"><a href="#4-13-4-19-Learning-Notes" class="headerlink" title="4.13-4.19 Learning Notes"></a>4.13-4.19 Learning Notes</h1><h1 id="Leetcode"><a href="#Leetcode" class="headerlink" title="Leetcode"></a>Leetcode</h1><h1 id="ä¸€é“è¾ƒéš¾çš„dpé¢˜-é¸¡è›‹æ‰è½"><a href="#ä¸€é“è¾ƒéš¾çš„dpé¢˜-é¸¡è›‹æ‰è½" class="headerlink" title="ä¸€é“è¾ƒéš¾çš„dpé¢˜:é¸¡è›‹æ‰è½"></a><a href="https://leetcode-cn.com/problems/super-egg-drop/" target="_blank" rel="noopener">ä¸€é“è¾ƒéš¾çš„dpé¢˜:é¸¡è›‹æ‰è½</a></h1><p><a href="https://leetcode-cn.com/problems/super-egg-drop/solution/ji-dan-diao-luo-by-leetcode-solution/" target="_blank" rel="noopener">å®˜æ–¹é¢˜è§£å†™å¾—å¾ˆå¥½</a></p><p><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/4-19-2020-04-13-15-06-55" alt="4-19-2020-04-13-15-06-55"></p><h2 id="dp"><a href="#dp" class="headerlink" title="dp"></a>dp</h2><p><a href="https://leetcode-cn.com/problems/super-egg-drop/solution/ji-ben-dong-tai-gui-hua-jie-fa-by-labuladong/" target="_blank" rel="noopener">çœ‹è¿™ä¸ªé¢˜è§£ä¸€æ­¥æ­¥æ¨å¯¼å‡ºdpæ–¹ç¨‹</a></p><p>æ³¨æ„<code>dp</code>æ•°ç»„çš„åˆå§‹åŒ–ï¼š</p><ul><li>0ä¸ªè›‹</li><li>1ä¸ªè›‹</li><li>0å±‚æ¥¼</li><li>1å±‚æ¥¼</li></ul><pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// init</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> K<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> n <span class="token operator">&lt;=</span> N<span class="token punctuation">;</span> n<span class="token operator">++</span><span class="token punctuation">)</span>        dp<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> INF<span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> K<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    dp<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    dp<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> n <span class="token operator">&lt;=</span> N<span class="token punctuation">;</span> n<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> n<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> K<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> n <span class="token operator">&lt;=</span> N<span class="token punctuation">;</span> n<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> x <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>n <span class="token operator">-</span> x<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="dp-äºŒåˆ†æœç´¢"><a href="#dp-äºŒåˆ†æœç´¢" class="headerlink" title="dp+äºŒåˆ†æœç´¢"></a>dp+äºŒåˆ†æœç´¢</h2><p><a href="https://leetcode-cn.com/problems/super-egg-drop/solution/ji-ben-dong-tai-gui-hua-jie-fa-by-labuladong/" target="_blank" rel="noopener">è¿˜æ˜¯è¿™ä¸ªé¢˜è§£</a><br><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/4-19-2020-04-13-15-09-05" alt="4-19-2020-04-13-15-09-05"></p><p><a href="https://leetcode-cn.com/problems/super-egg-drop/solution/ji-dan-diao-luo-by-leetcode-solution/" target="_blank" rel="noopener">å®˜æ–¹é¢˜è§£ä¸­çš„è§£é‡Šæ›´ç§‘å­¦</a><br><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/4-19-2020-04-13-15-21-06" alt="4-19-2020-04-13-15-21-06">  </p><p>äºŒåˆ†æœç´¢å‡º$X_0$åï¼Œ$X_1=X_0+1$ï¼Œæœ€åæˆ‘ä»¬è¦å–$min{max(T_1(X_0),T_2(X_0)),max(T_1(X_1),T_2(X_1))}$<br>æ˜¾ç„¶$T_1(X_0)&lt;=T_2(X_0)$ï¼Œ$T_1(X_1)&gt;T_2(X_1)$<br>æ‰€ä»¥æœ€åå–$min(T_2(X_0),T_1(X_1))$</p><p>å› æ­¤æˆ‘ä»¬å¯ä»¥æŠŠç¬¬ä¸‰å±‚çš„å¾ªç¯æ”¹æˆäºŒåˆ†æœç´¢æ±‚å±±è°·å€¼<code>valley</code>ï¼ŒäºŒåˆ†æœç´¢æ±‚å±±è°·å€¼æ˜¯ä¸€ä¸ªéš¾ç‚¹:  </p><p><a href="https://zhuanlan.zhihu.com/p/40579713" target="_blank" rel="noopener">æµ…è°ˆäºŒåˆ†çš„è¾¹ç•Œé—®é¢˜</a><br><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/4-19-2020-04-13-15-12-53" alt="4-19-2020-04-13-15-12-53"><br>è¿™é‡Œçš„ä¸­ç‚¹è¦å–é å³çš„ä¸­ç‚¹<code>mid=(l+r+1)/2</code></p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> K<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> n <span class="token operator">&lt;=</span> N<span class="token punctuation">;</span> n<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> le <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> ri <span class="token operator">=</span> n<span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>le <span class="token operator">&lt;</span> ri<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// å–é å³çš„ä¸­ç‚¹</span>            <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>le <span class="token operator">+</span> ri <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// è¡¨ç¤ºèƒ½AK</span>            <span class="token comment" spellcheck="true">// å–ç­‰æ—¶ä¹Ÿç®—ä¸èƒ½AK</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>dp<span class="token punctuation">[</span>k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">></span> dp<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>n <span class="token operator">-</span> mid<span class="token punctuation">]</span><span class="token punctuation">)</span>                ri <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">else</span>                le <span class="token operator">=</span> mid<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        dp<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>n <span class="token operator">-</span> le<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>le<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="dp-å†³ç­–å•è°ƒæ€§"><a href="#dp-å†³ç­–å•è°ƒæ€§" class="headerlink" title="dp+å†³ç­–å•è°ƒæ€§"></a>dp+å†³ç­–å•è°ƒæ€§</h2><p><a href="https://leetcode-cn.com/problems/super-egg-drop/solution/ji-dan-diao-luo-xiang-jie-by-shellbye/" target="_blank" rel="noopener">æ¥è‡ªæ­¤é¢˜è§£</a><br><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/4-19-2020-04-13-15-26-50" alt="4-19-2020-04-13-15-26-50"></p><p>kä¸€å®šï¼Œnå¢å¤§ï¼Œ$T_2(x)=dp(k,n-x)$å‘ä¸Šç§»åŠ¨ï¼Œ$T_1(x)=dp(k-1,x-1)$ä¸åŠ¨ï¼Œæ¯æ¬¡åªéœ€è¦ä»ä¸Šä¸€ä¸ªnå¾—åˆ°çš„xå‡ºå‘å³å¯ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> K<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> n <span class="token operator">&lt;=</span> N<span class="token punctuation">;</span> n<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> dp<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>n <span class="token operator">-</span> x<span class="token punctuation">]</span> <span class="token operator">></span> dp<span class="token punctuation">[</span>k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token operator">++</span>x<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        dp<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h1 id="å‰§æƒ…è§¦å‘æ—¶é—´"><a href="#å‰§æƒ…è§¦å‘æ—¶é—´" class="headerlink" title="å‰§æƒ…è§¦å‘æ—¶é—´"></a><a href="https://leetcode-cn.com/contest/season/2020-spring/problems/ju-qing-hong-fa-shi-jian/" target="_blank" rel="noopener">å‰§æƒ…è§¦å‘æ—¶é—´</a></h1><p>åœ¨æˆ˜ç•¥æ¸¸æˆä¸­ï¼Œç©å®¶å¾€å¾€éœ€è¦å‘å±•è‡ªå·±çš„åŠ¿åŠ›æ¥è§¦å‘å„ç§æ–°çš„å‰§æƒ…ã€‚ä¸€ä¸ªåŠ¿åŠ›çš„ä¸»è¦å±æ€§æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯æ–‡æ˜ç­‰çº§ï¼ˆCï¼‰ï¼Œèµ„æºå‚¨å¤‡ï¼ˆRï¼‰ä»¥åŠäººå£æ•°é‡ï¼ˆHï¼‰ã€‚åœ¨æ¸¸æˆå¼€å§‹æ—¶ï¼ˆç¬¬ 0 å¤©ï¼‰ï¼Œä¸‰ç§å±æ€§çš„å€¼å‡ä¸º 0ã€‚</p><p>éšç€æ¸¸æˆè¿›ç¨‹çš„è¿›è¡Œï¼Œæ¯ä¸€å¤©ç©å®¶çš„ä¸‰ç§å±æ€§éƒ½ä¼šå¯¹åº”å¢åŠ ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„ increase æ¥è¡¨ç¤ºæ¯å¤©çš„å¢åŠ æƒ…å†µã€‚è¿™ä¸ªäºŒç»´æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 3 çš„ä¸€ç»´æ•°ç»„ï¼Œä¾‹å¦‚ [[1,2,1],[3,4,2]] è¡¨ç¤ºç¬¬ä¸€å¤©ä¸‰ç§å±æ€§åˆ†åˆ«å¢åŠ  1,2,1 è€Œç¬¬äºŒå¤©åˆ†åˆ«å¢åŠ  3,4,2ã€‚</p><p>æ‰€æœ‰å‰§æƒ…çš„è§¦å‘æ¡ä»¶ä¹Ÿç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„ requirements è¡¨ç¤ºã€‚è¿™ä¸ªäºŒç»´æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º 3 çš„ä¸€ç»´æ•°ç»„ï¼Œå¯¹äºæŸä¸ªå‰§æƒ…çš„è§¦å‘æ¡ä»¶ c[i], r[i], h[i]ï¼Œå¦‚æœå½“å‰ C &gt;= c[i] ä¸” R &gt;= r[i] ä¸” H &gt;= h[i] ï¼Œåˆ™å‰§æƒ…ä¼šè¢«è§¦å‘ã€‚</p><p>æ ¹æ®æ‰€ç»™ä¿¡æ¯ï¼Œè¯·è®¡ç®—æ¯ä¸ªå‰§æƒ…çš„è§¦å‘æ—¶é—´ï¼Œå¹¶ä»¥ä¸€ä¸ªæ•°ç»„è¿”å›ã€‚å¦‚æœæŸä¸ªå‰§æƒ…ä¸ä¼šè¢«è§¦å‘ï¼Œåˆ™è¯¥å‰§æƒ…å¯¹åº”çš„è§¦å‘æ—¶é—´ä¸º -1 ã€‚</p><h2 id="å½“æ—¶çš„æƒ³æ³•"><a href="#å½“æ—¶çš„æƒ³æ³•" class="headerlink" title="å½“æ—¶çš„æƒ³æ³•"></a>å½“æ—¶çš„æƒ³æ³•</h2><p>å½“æ—¶æ¯”èµ›åšé¢˜çš„æ—¶å€™ï¼Œé¦–å…ˆæƒ³åˆ°æš´åŠ›åšæ³•ï¼šå¯¹äºæ¯ä¸€å¤©çš„c,r,h,æš´åŠ›æ£€æŸ¥æ˜¯å¦æ»¡è¶³æŸä¸ªæ¡ä»¶</p><p>ç„¶åæƒ³ä¼˜åŒ–æš´åŠ›ï¼Œå¦‚ä½•å¿«é€Ÿçš„æ‰¾åˆ°å¯èƒ½æ»¡è¶³çš„æ¡ä»¶<br>è¦ä¸å°±ç”¨ä¸‰ä¸ªä¼˜å…ˆé˜Ÿåˆ—ï¼ˆæœ€å°å †ï¼‰æ¥ç»´æŠ¤æ¡ä»¶å§ï¼Œæ¯æ¬¡å–ä»–ä»¬çš„å¤´éƒ¨çœ‹çœ‹æ˜¯å¦æ»¡è¶³æ¡ä»¶</p><p>å†™å®Œå‘ç°æ ·ä¾‹è¿‡ä¸å»ï¼Œé—®é¢˜å°±åœ¨äºå½“å‰æ»¡è¶³çš„æ¡ä»¶ä¸ä¸€å®šåœ¨ä¸‰ä¸ªä¼˜å…ˆé˜Ÿåˆ—çš„å¤´éƒ¨ã€‚ç”¨æç«¯ç‚¹çš„ä¾‹å­æ¥è§£é‡Šï¼š</p><pre><code>requirements=[[1,1e10,1e10],[1e10,1,1e10],[1e10,1e10,1],[2,2,2]]</code></pre><p>æ˜¾ç„¶å‰ä¸‰ä¸ªæ¡ä»¶æ˜¯å¾ˆéš¾æ»¡è¶³çš„ï¼Œå®¹æ˜“æ»¡è¶³çš„ç¬¬å››ä¸ªæ¡ä»¶åˆä¸åœ¨é˜Ÿåˆ—å¤´éƒ¨</p><h2 id="æ­£è§£"><a href="#æ­£è§£" class="headerlink" title="æ­£è§£"></a>æ­£è§£</h2><p>æˆ‘ä»¬åº”è¯¥å»æ‰¾ï¼Œå¯¹äºæ¯ä¸€ä¸ªæ¡ä»¶çš„c,r,h,æ‰¾åˆ°å®ƒä»¬åˆ†åˆ«éœ€è¦çš„æœ€å°å¤©æ•°ï¼Œè¯¥æ¡ä»¶æ‰€éœ€çš„å¤©æ•°å°±æ˜¯ä¸‰ä¸ªå±æ€§çš„æ‰€éœ€æœ€å°å¤©æ•°çš„æœ€å¤§å€¼</p><p>ä»å¦ä¸€ä¸ªè§’åº¦ï¼Œå³éå†æ¯ä¸€ä¸ªæ¡ä»¶ï¼Œc,r,hä¸‰ä¸ªå±æ€§æ˜¯ç›¸å¯¹ç‹¬ç«‹çš„ï¼Œå®ƒä»¬éœ€è¦çš„æœ€å°å¤©æ•°å¯ä»¥åˆ†åˆ«ç®—å‡ºæ¥ï¼Œç„¶åå†å–æœ€å¤§å€¼</p><p>å…·ä½“ç®—æ³•ï¼š<br>ç®—å‡ºincreaseçš„å‰ç¼€å’Œï¼Œåˆ†åˆ«æ‰¾åˆ°ä¸‰ä¸ªå±æ€§æ°å¥½æ»¡è¶³æ¡ä»¶çš„å¤©æ•°ï¼Œå–å®ƒä»¬çš„æœ€å¤§å€¼ï¼Œå°±æ˜¯å½“å‰å‰§æƒ…çš„è§¦å‘æ—¶é—´</p><h1 id="Google-Code-Jam-Round-1A-2020"><a href="#Google-Code-Jam-Round-1A-2020" class="headerlink" title="Google Code Jam Round 1A 2020"></a>Google Code Jam Round 1A 2020</h1><h1 id="Pattern-Matching"><a href="#Pattern-Matching" class="headerlink" title="Pattern Matching"></a>Pattern Matching</h1><h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>Many terminals use asterisks * to signify â€œany stringâ€, including the empty string. For example, when listing files matching BASH<em>, a terminal may list BASH, BASHER and BASHFUL. For *FUL, it may list BEAUTIFUL, AWFUL and BASHFUL. When listing B</em>L, BASHFUL, BEAUTIFUL and BULL may be listed.</p><p>In this problem, formally, a pattern is a string consisting of only uppercase English letters and asterisks (*), and a name is a string consisting of only uppercase English letters. A pattern p matches a name m if there is a way of replacing every asterisk in p with a (possibly empty) string to obtain m. Notice that each asterisk may be replaced by a different string.</p><p>Given N patterns, can you find a single name of at most 104 letters that matches all those patterns at once, or report that it cannot be done?</p><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>æˆ‘è¿™é¢˜åšäº†å¿«ä¸¤ä¸ªå°æ—¶ï¼Œè¿˜æ²¡ACï¼Œå¿ƒæ€å´©äº†</p><p>è§£é¢˜å…³é”®æ˜¯åˆ†æå¥½é¢˜ç›®æè¿°å’Œæ ·ä¾‹ï¼Œå†æƒ³ä¸€äº›æ ·ä¾‹å‡ºæ¥è¯æ˜è‡ªå·±çš„çŒœæƒ³<br>å½“æ—¶åªæƒ³åˆ°äº†æ˜¯æœ€é•¿å‰ç¼€å’Œåç¼€ï¼Œä½†ä¸ä¼šå¤„ç†å¤šä¸ª*çš„æƒ…å†µ<br>è¢«å®˜æ–¹æ ·ä¾‹éª—äº†ï¼Œåº”è¯¥è‡ªå·±æƒ³ä¸€äº›çš„ï¼Œç‰¹åˆ«æ˜¯*æ•°é‡ä¸åŒçš„æ¨¡å¼ä¸²çš„æƒ…å†µ  </p><pre><code>*B*D*PPPPPP*ZZZZZZans=PPPPPPBDZZZZZZ</code></pre><p>å¯ä»¥å‘ç°ï¼Œå†…éƒ¨çš„*æ ¹æœ¬æ²¡æœ‰ç”¨ï¼Œå› ä¸ºå†…éƒ¨çš„æ¨¡å¼ä¸²éƒ½å¯ä»¥ç”¨å¦ä¸€ä¸ªæ¨¡å¼ä¸²çš„*å®Œå…¨åŒ¹é…<br>æ‰€ä»¥ï¼Œæˆ‘ä»¬åªéœ€è¦çœ‹å¤´å°¾ä¸¤ä¸ª*å¤–é¢çš„å­—ç¬¦ï¼Œåˆ¤æ–­ç¬¬ä¸€ä¸ª*å‰çš„å‰ç¼€å’Œæœ€åä¸€ä¸ª*åçš„åç¼€å³å¯</p><p>çœ‹æ¥è¿˜æ˜¯è¦å…ˆéªŒè¯è‡ªå·±çš„æƒ³æ³•ï¼Œå†è¿›è¡Œç¼–ç¨‹ï¼Œä¸ç„¶åšå¤šé”™å¤šã€‚</p><h2 id="code"><a href="#code" class="headerlink" title="code"></a>code</h2><p>å­—ç¬¦ä¸²çš„é¢˜ï¼Œè¿˜æ˜¯ç”¨pythonåˆ‡ç‰‡çˆ½</p><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    n <span class="token operator">=</span> int<span class="token punctuation">(</span>input<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    prefix <span class="token operator">=</span> <span class="token string">''</span>    suffix <span class="token operator">=</span> <span class="token string">''</span>    ans <span class="token operator">=</span> <span class="token string">''</span>    mid <span class="token operator">=</span> <span class="token string">''</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>        s <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> ans <span class="token operator">==</span> <span class="token string">'*'</span><span class="token punctuation">:</span>            <span class="token keyword">continue</span>        now_prefix <span class="token operator">=</span> s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        now_suffix <span class="token operator">=</span> s<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>len<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> len<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                mid <span class="token operator">+=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span>        len_prefix <span class="token operator">=</span> min<span class="token punctuation">(</span>len<span class="token punctuation">(</span>now_prefix<span class="token punctuation">)</span><span class="token punctuation">,</span> len<span class="token punctuation">(</span>prefix<span class="token punctuation">)</span><span class="token punctuation">)</span>        len_suffix <span class="token operator">=</span> min<span class="token punctuation">(</span>len<span class="token punctuation">(</span>now_suffix<span class="token punctuation">)</span><span class="token punctuation">,</span> len<span class="token punctuation">(</span>suffix<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> now_prefix<span class="token punctuation">[</span><span class="token punctuation">:</span>len_prefix<span class="token punctuation">]</span> <span class="token operator">==</span> prefix<span class="token punctuation">[</span><span class="token punctuation">:</span>len_prefix<span class="token punctuation">]</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> len<span class="token punctuation">(</span>now_prefix<span class="token punctuation">)</span> <span class="token operator">></span> len<span class="token punctuation">(</span>prefix<span class="token punctuation">)</span><span class="token punctuation">:</span>                prefix <span class="token operator">=</span> now_prefix        <span class="token keyword">else</span><span class="token punctuation">:</span>            ans <span class="token operator">=</span> <span class="token string">'*'</span>        <span class="token keyword">if</span> now_suffix<span class="token punctuation">[</span>len<span class="token punctuation">(</span>now_suffix<span class="token punctuation">)</span><span class="token operator">-</span>len_suffix<span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token operator">==</span> suffix<span class="token punctuation">[</span>len<span class="token punctuation">(</span>suffix<span class="token punctuation">)</span><span class="token operator">-</span>len_suffix<span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> len<span class="token punctuation">(</span>now_suffix<span class="token punctuation">)</span> <span class="token operator">></span> len<span class="token punctuation">(</span>suffix<span class="token punctuation">)</span><span class="token punctuation">:</span>                suffix <span class="token operator">=</span> now_suffix        <span class="token keyword">else</span><span class="token punctuation">:</span>            ans <span class="token operator">=</span> <span class="token string">'*'</span>    <span class="token keyword">if</span> ans <span class="token operator">!=</span> <span class="token string">'*'</span><span class="token punctuation">:</span>        ans <span class="token operator">=</span> prefix<span class="token operator">+</span>mid<span class="token operator">+</span>suffix    <span class="token keyword">print</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span>T <span class="token operator">=</span> int<span class="token punctuation">(</span>input<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">for</span> t <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> T<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Case #{}: "</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>    solve<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h1 id="Pascal-Walk"><a href="#Pascal-Walk" class="headerlink" title="Pascal Walk"></a>Pascal Walk</h1><p>åœ¨æ¨è¾‰ä¸‰è§’ä¸Šé¢èµ°ï¼Œä»æ¨è¾‰ä¸‰è§’çš„é¡¶éƒ¨å¼€å§‹ï¼Œä½¿ç»è¿‡çš„æ•°çš„å’Œç­‰äºä¸€ä¸ªç»™å®šçš„å€¼$N&lt;=10^9$ï¼Œæ±‚è¯¥è·¯å¾„</p><h2 id="åˆ†æ-1"><a href="#åˆ†æ-1" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p><code>N</code>çš„èŒƒå›´è¿™ä¹ˆå¤§ï¼Œè‚¯å®šä¸æ˜¯å¸¸è§„æ–¹æ³•å•Šï¼Œç»å¯¹è¦ç”¨åˆ°æ•°å­¦æ€§è´¨</p><p>è¿™é¢˜æ²¡å¤šå°‘æ—¶é—´æƒ³ï¼Œå½“æ—¶æƒ³åˆ°äº†æ¨è¾‰ä¸‰è§’çš„ä¸€ä¸ªé‡è¦æ€§è´¨ï¼šç¬¬<code>i</code>è¡Œæ‰€æœ‰æ•°çš„å’Œä¸º$2^{i-1}$<br>å¯ä»¥å¯¹<code>N</code>è¿›è¡ŒäºŒè¿›åˆ¶åˆ†è§£ï¼Œçœ‹çœ‹è¦èµ°å“ªäº›è¡Œæ‰èƒ½å¾—åˆ°<code>N</code></p><p>ä½†æ˜¯åˆä¸èƒ½åªèµ°è¿™äº›è¡Œï¼Œä¸­é—´ä¸èµ°çš„é‚£äº›è¡Œï¼Œç»è¿‡ä¸€æ¬¡èµ·ç åŠ 1ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>åæ­£å½“æ—¶æ¯”èµ›çš„æ—¶å€™æ²¡æƒ³å‡ºæ¥ï¼Œåœ¨é‚£é‡Œç”»æ¥ç”»å»æƒ³æ‰¾è§„å¾‹</p><p><a href="https://www.bilibili.com/video/BV1tK4y1r7Hh?p=3" target="_blank" rel="noopener">æ€è·¯æ¥è‡ª</a><br>$2^{30}&gt;1e9$ï¼Œé‚£ä¹ˆç”¨å‰30è¡Œï¼ˆç¬¬ä¸‰åè¡Œçš„å’Œä¸º<code>2^{29}</code>ï¼‰è‚¯å®šèƒ½å¤Ÿè¡¨ç¤º<code>N</code>äº†<br>ä»ç¬¬ä¸€è¡Œå¼€å§‹ï¼Œè™½ç„¶(1,1)æ˜¯å¿…å–çš„ï¼Œä½†å¦‚æœ<code>n-=30</code>åï¼Œ<code>n</code>çš„äºŒè¿›åˆ¶æœ€ä½ä½æ˜¯<code>1</code>çš„è¯ï¼Œæ˜¯è¦åœ¨30è¡Œåè¡¥ä¸Šä¸€è¡Œçš„<br>é»˜è®¤æ¯ä¸€è¡Œéƒ½ä¸å–ï¼Œ<code>n-=30</code>åï¼Œå†çœ‹<code>n</code>çš„äºŒè¿›åˆ¶æ¯ä¸€ä½ä¸Šæ˜¯å¦ä¸º<code>1</code>ï¼Œæ˜¯çš„è¯å°±å–è¯¥å±‚ï¼Œè¾“å‡ºè¯¥å±‚çš„ä½ç½®ï¼Œå¹¶ä¸”è¦åœ¨30è¡Œåé¢è¡¥ä¸Šä¸€è¡Œï¼ˆåªæœ‰ä¸€ä¸ª1ï¼‰ï¼Œä¸æ˜¯çš„è¯å°±è¾“å‡ºè¾¹ä¸Šçš„ä½ç½®</p><p>éå¸¸å·§å¦™çš„ä¸€ç§æ–¹æ³•ï¼Œé¿å…äº†æšä¸¾å“ªäº›è¡Œæ˜¯ä¸å–çš„</p><h2 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h2><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cmath></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    cin <span class="token operator">>></span> n<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;=</span> <span class="token number">500</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d 1\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    n <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> start_from_left <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> extra_row <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// rowè¦ä»1å¼€å§‹</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> row <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> row <span class="token operator">&lt;=</span> <span class="token number">30</span><span class="token punctuation">;</span> row<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>start_from_left<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d 1\n"</span><span class="token punctuation">,</span> row<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">else</span>        <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d\n"</span><span class="token punctuation">,</span> row<span class="token punctuation">,</span> row<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>start_from_left<span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> row<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d\n"</span><span class="token punctuation">,</span> row<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            <span class="token keyword">else</span>            <span class="token punctuation">{</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> row <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d\n"</span><span class="token punctuation">,</span> row<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            <span class="token operator">++</span>extra_row<span class="token punctuation">;</span>            start_from_left <span class="token operator">=</span> <span class="token operator">!</span>start_from_left<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        n <span class="token operator">>>=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">31</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> extra_row <span class="token operator">+</span> <span class="token number">30</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>start_from_left<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d 1\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">else</span>        <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> T<span class="token punctuation">;</span>    cin <span class="token operator">>></span> T<span class="token punctuation">;</span>    cin<span class="token punctuation">.</span><span class="token function">ignore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> caseNum <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> caseNum <span class="token operator">&lt;=</span> T<span class="token punctuation">;</span> caseNum<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Case #%d:\n"</span><span class="token punctuation">,</span> caseNum<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> Leetcode </tag>
            
            <tag> dp </tag>
            
            <tag> Google Code Jam </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4.12 Notes</title>
      <link href="/2020/04/12/2020/4-12/"/>
      <url>/2020/04/12/2020/4-12/</url>
      
        <content type="html"><![CDATA[<h1 id="4-6-4-12-Learning-Notes"><a href="#4-6-4-12-Learning-Notes" class="headerlink" title="4.6-4.12 Learning Notes"></a>4.6-4.12 Learning Notes</h1><h1 id="Leetcode"><a href="#Leetcode" class="headerlink" title="Leetcode"></a>Leetcode</h1><h1 id="ä¸¤ç§ç¼“å­˜ç®—æ³•"><a href="#ä¸¤ç§ç¼“å­˜ç®—æ³•" class="headerlink" title="ä¸¤ç§ç¼“å­˜ç®—æ³•"></a>ä¸¤ç§ç¼“å­˜ç®—æ³•</h1><ul><li>LRU</li><li>LFU<h2 id="LRU-Least-Recently-Used"><a href="#LRU-Least-Recently-Used" class="headerlink" title="LRU: Least Recently Used"></a><a href="https://leetcode-cn.com/problems/lru-cache/" target="_blank" rel="noopener">LRU: Least Recently Used</a></h2></li></ul><p>è·å–é”® / æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨<br>è®¾ç½®é”®<br>åˆ é™¤æœ€å…ˆæ’å…¥çš„é”®</p><h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>æ—¢ç„¶è¦$O(1)$æ—¶é—´å†…å®Œæˆï¼Œé‚£è‚¯å®šè¦ç”¨å“ˆå¸Œè¡¨<br>åªç”¨å“ˆå¸Œè¡¨åªèƒ½å®ç°<code>get(key)</code>åŠŸèƒ½ï¼Œè¿˜è¦å­˜å‚¨æ¯ä¸ª<code>key</code>çš„ä½¿ç”¨æ¬¡æ•°çš„è¯ï¼Œå°±è¦åŠ ä¸ŠåŒå‘é“¾è¡¨<br>å“ˆå¸Œè¡¨å’ŒåŒå‘é“¾è¡¨åº”è¯¥æ€ä¹ˆç»“åˆï¼ˆå¥—ï¼‰åœ¨ä¸€èµ·å‘¢ï¼Ÿ</p><p><a href="https://leetcode-cn.com/problems/lru-cache/solution/lru-ce-lue-xiang-jie-he-shi-xian-by-labuladong/" target="_blank" rel="noopener">From here</a><br>â€œé‚£ä¹ˆï¼Œä»€ä¹ˆæ•°æ®ç»“æ„åŒæ—¶ç¬¦åˆä¸Šè¿°æ¡ä»¶å‘¢ï¼Ÿå“ˆå¸Œè¡¨æŸ¥æ‰¾å¿«ï¼Œä½†æ˜¯æ•°æ®æ— å›ºå®šé¡ºåºï¼›é“¾è¡¨æœ‰é¡ºåºä¹‹åˆ†ï¼Œæ’å…¥åˆ é™¤å¿«ï¼Œä½†æ˜¯æŸ¥æ‰¾æ…¢ã€‚æ‰€ä»¥ç»“åˆä¸€ä¸‹ï¼Œå½¢æˆä¸€ç§æ–°çš„æ•°æ®ç»“æ„ï¼šå“ˆå¸Œé“¾è¡¨ã€‚â€  </p><p><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/4-12-2020-04-07-14-53-42" alt="4-12-2020-04-07-14-53-42"></p><p>å“ˆå¸Œè¡¨é‡Œé¢çš„<code>value</code>å­˜å‚¨çš„æ˜¯åŒå‘é“¾è¡¨ä¸­çš„èŠ‚ç‚¹<code>node</code>ï¼ŒåŒå‘é“¾è¡¨ä¸­æŒ‰è®¿é—®æ—¶é—´ç”±è¿‘åˆ°è¿œæ’åºã€‚<br>æ¯æ¬¡<code>get</code>å°±æ›´æ–°<code>key</code>å¯¹åº”çš„<code>node</code>é¡ºåºï¼ŒæŠŠ<code>node</code>æ”¾åˆ°åŒå‘é“¾è¡¨çš„å¤´éƒ¨ã€‚<br>æ¯æ¬¡<code>put</code>çš„æ—¶å€™ï¼Œéƒ½è¦æŠŠå½“å‰èŠ‚ç‚¹<code>now</code>æ”¾åˆ°åŒå‘é“¾è¡¨çš„å¤´éƒ¨ï¼Œå¦‚æœæ‰¾ä¸åˆ°<code>key</code>ï¼Œå°±æ’å…¥<code>key</code>ï¼Œå¦‚æœæ‰¾åˆ°<code>key</code>ï¼Œå°±æ›´æ–°<code>value</code>ã€‚å¦‚æœæ’å…¥æ–°çš„<code>key</code>æ—¶ç¼“å­˜æ»¡äº†ï¼Œå°±æŠŠåŒå‘é“¾è¡¨çš„å°¾éƒ¨ä¸¢æ‰ã€‚</p><h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><p>æ‰‹å†™åŒå‘é“¾è¡¨+<code>unordered_map</code></p><ol><li>åˆå§‹åŒ–<code>nullptr</code></li><li><code>lift_now_to_head</code>æŠŠ<code>now</code>èŠ‚ç‚¹æ’å…¥åˆ°é“¾è¡¨å¤´éƒ¨</li><li><code>unordered_map</code>ç›´æ¥ç”¨ä¸‹æ ‡è®¿é—®<code>m[key]</code></li><li><code>m.erase(last-&gt;key)</code>+<code>delete last</code>é‡Šæ”¾ç©ºé—´</li></ol><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unordered_map></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MyListNode</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> key<span class="token punctuation">;</span>    <span class="token keyword">int</span> val<span class="token punctuation">;</span>    MyListNode <span class="token operator">*</span>pre<span class="token punctuation">;</span>    MyListNode <span class="token operator">*</span>nxt<span class="token punctuation">;</span>    <span class="token function">MyListNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        key <span class="token operator">=</span> k<span class="token punctuation">;</span>        val <span class="token operator">=</span> v<span class="token punctuation">;</span>        pre <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>        nxt <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">LRUCache</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    MyListNode <span class="token operator">*</span>head<span class="token punctuation">;</span>    MyListNode <span class="token operator">*</span>tail<span class="token punctuation">;</span>    unordered_map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> MyListNode <span class="token operator">*</span><span class="token operator">></span> m<span class="token punctuation">;</span>    <span class="token keyword">int</span> cap<span class="token punctuation">;</span>    <span class="token keyword">int</span> now_size<span class="token punctuation">;</span>    <span class="token function">LRUCache</span><span class="token punctuation">(</span><span class="token keyword">int</span> capacity<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        now_size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        cap <span class="token operator">=</span> capacity<span class="token punctuation">;</span>        head <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">MyListNode</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        tail <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">MyListNode</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        head<span class="token operator">-</span><span class="token operator">></span>nxt <span class="token operator">=</span> tail<span class="token punctuation">;</span>        tail<span class="token operator">-</span><span class="token operator">></span>pre <span class="token operator">=</span> head<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">void</span> <span class="token function">lift_now_to_head</span><span class="token punctuation">(</span>MyListNode <span class="token operator">*</span>now<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>now<span class="token operator">-</span><span class="token operator">></span>pre <span class="token operator">!=</span> <span class="token keyword">nullptr</span> <span class="token operator">&amp;&amp;</span> now<span class="token operator">-</span><span class="token operator">></span>nxt <span class="token operator">!=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            now<span class="token operator">-</span><span class="token operator">></span>pre<span class="token operator">-</span><span class="token operator">></span>nxt <span class="token operator">=</span> now<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">;</span>            now<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token operator">-</span><span class="token operator">></span>pre <span class="token operator">=</span> now<span class="token operator">-</span><span class="token operator">></span>pre<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        now<span class="token operator">-</span><span class="token operator">></span>nxt <span class="token operator">=</span> head<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">;</span>        now<span class="token operator">-</span><span class="token operator">></span>pre <span class="token operator">=</span> head<span class="token punctuation">;</span>        head<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token operator">-</span><span class="token operator">></span>pre <span class="token operator">=</span> now<span class="token punctuation">;</span>        head<span class="token operator">-</span><span class="token operator">></span>nxt <span class="token operator">=</span> now<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">==</span> m<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        MyListNode <span class="token operator">*</span>now <span class="token operator">=</span> m<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token function">lift_now_to_head</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> now<span class="token operator">-</span><span class="token operator">></span>val<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">void</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        MyListNode <span class="token operator">*</span>now<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">==</span> m<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">MyListNode</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>now_size <span class="token operator">&lt;</span> cap<span class="token punctuation">)</span>            <span class="token punctuation">{</span>                now_size<span class="token operator">++</span><span class="token punctuation">;</span>                m<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> now<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">else</span>            <span class="token punctuation">{</span>                MyListNode <span class="token operator">*</span>last <span class="token operator">=</span> tail<span class="token operator">-</span><span class="token operator">></span>pre<span class="token punctuation">;</span>                last<span class="token operator">-</span><span class="token operator">></span>pre<span class="token operator">-</span><span class="token operator">></span>nxt <span class="token operator">=</span> tail<span class="token punctuation">;</span>                tail<span class="token operator">-</span><span class="token operator">></span>pre <span class="token operator">=</span> last<span class="token operator">-</span><span class="token operator">></span>pre<span class="token punctuation">;</span>                m<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>last<span class="token operator">-</span><span class="token operator">></span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">delete</span> last<span class="token punctuation">;</span>                m<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> now<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">else</span>        <span class="token punctuation">{</span>            now <span class="token operator">=</span> m<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>            now<span class="token operator">-</span><span class="token operator">></span>val <span class="token operator">=</span> value<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">lift_now_to_head</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="LFU-Least-Frequently-Used"><a href="#LFU-Least-Frequently-Used" class="headerlink" title="LFU: Least Frequently Used"></a><a href="https://leetcode-cn.com/problems/lfu-cache/" target="_blank" rel="noopener">LFU: Least Frequently Used</a></h2><p><a href="https://leetcode-cn.com/problems/lfu-cache/solution/ha-xi-biao-shuang-xiang-lian-biao-java-by-liweiwei/" target="_blank" rel="noopener">From here:</a><br>æœ¬é¢˜å…¶å®å°±æ˜¯åœ¨<a href="https://leetcode-cn.com/problems/lru-cache/" target="_blank" rel="noopener">LRU</a>çš„åŸºç¡€ä¸Šï¼Œåœ¨åˆ é™¤ç­–ç•¥é‡Œå¤šè€ƒè™‘äº†ä¸€ä¸ªç»´åº¦ï¼ˆã€Œè®¿é—®æ¬¡æ•°ã€ï¼‰çš„ä¿¡æ¯ã€‚â€<br>æ ¸å¿ƒæ€æƒ³ï¼šå…ˆè€ƒè™‘è®¿é—®æ¬¡æ•°ï¼Œåœ¨è®¿é—®æ¬¡æ•°ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œå†è€ƒè™‘ç¼“å­˜çš„æ—¶é—´ã€‚</p><p><a href="https://leetcode-cn.com/problems/lfu-cache/solution/java-13ms-shuang-100-shuang-xiang-lian-biao-duo-ji/" target="_blank" rel="noopener">é¢˜è§£</a><br>1ä¸ªå“ˆå¸Œè¡¨+2ä¸ªåŒå‘é“¾è¡¨  </p><ul><li>å“ˆå¸Œè¡¨<code>time_map</code>ï¼š<code>key-Node</code>  <code>Node</code>é‡Œé¢å­˜<code>value</code> <code>freq</code> <code>freq_node</code></li><li>åŒå‘é“¾è¡¨<code>FreqListNode</code>ï¼šæŒ‰è®¿é—®æ¬¡æ•°ä»å¤§åˆ°å°æ’åˆ—    </li><li>åŒå‘é“¾è¡¨<code>TimeListNode</code>ï¼šæŒ‰è®¿é—®æ—¶é—´ä»è¿‘åˆ°è¿œæ’åˆ—ï¼ˆLRUä¸­çš„åŒå‘é“¾è¡¨ï¼‰</li></ul><p>P.S.å…ˆå£°æ˜ä¸¤ä¸ªclass<code>FreqListNode</code>å’Œ<code>TimeListNode</code>ï¼Œå°±å¯ä»¥äº’ç›¸å¼•ç”¨äº†  </p><p><img src="https://pic.leetcode-cn.com/25ade03ee7f3cbfdef0ddf955c917cde96f4153ba5ce8b321f42152b19d55ca5-LFU%E7%AE%97%E6%B3%95%E6%80%9D%E6%83%B3.png" alt="LFU"></p><ul><li><p><code>get</code>ï¼š<br>ç›´æ¥è®¿é—®<code>key</code>å¯¹åº”çš„<code>TimeListNode</code>è·å–<code>value</code>ï¼Œå¹¶æ›´æ–°å½“å‰<code>TimeListNode</code>çš„<code>freq</code>ï¼ŒæŠŠå½“å‰<code>TimeListNode</code>æ”¾åˆ°çš„ä¸‹ä¸€ä¸ª<code>FreqListNode</code>ä¸Š</p></li><li><p><code>put</code>ï¼š</p></li></ul><ol><li><code>key</code>å­˜åœ¨ï¼Œæ›´æ–°<code>value</code>å’Œ<code>freq</code>ï¼Œæ›´æ–°<code>freq</code>è¦æŠŠ<code>TimeListNode</code>å–å‡ºæ¥æ”¾åˆ°ä¸‹ä¸€ä¸ª<code>FreqListNode</code>ä¸Š</li><li><code>key</code>ä¸å­˜åœ¨  <ol><li>ç¼“å­˜æ»¡äº†ï¼šåˆ æ‰<code>freq</code>æœ€å°ä¸”è®¿é—®æ—¶é—´æœ€è¿œçš„èŠ‚ç‚¹ï¼Œå³ä¸º<code>FreqList</code>çš„å°¾éƒ¨çš„<code>TimeList</code>å°¾éƒ¨ï¼Œç„¶åè¿›è¡Œ<code>2.ii</code></li><li>ç¼“å­˜æ²¡æ»¡ï¼šæ’å…¥æ–°èŠ‚ç‚¹ï¼Œæ”¾åœ¨<code>freq=1</code>çš„<code>FreqListNode</code>ä¸Šçš„å¤´éƒ¨</li></ol></li></ol><h3 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h3><p>æ»¡æ»¡çš„ï¼Œéƒ½æ˜¯å‘å•Š<br>æ‰‹å†™ä¸¤ä¸ªåŒå‘é“¾è¡¨æ˜¯éå¸¸å¥½çš„é”»ç‚¼æœºä¼š[ç‹—å¤´]</p><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unordered_map></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> INF <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">30</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// first declare</span><span class="token keyword">class</span> <span class="token class-name">FreqListNode</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">TimeListNode</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">TimeListNode</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> key<span class="token punctuation">;</span>    <span class="token keyword">int</span> val<span class="token punctuation">;</span>    <span class="token keyword">int</span> freq<span class="token punctuation">;</span>    TimeListNode <span class="token operator">*</span>pre<span class="token punctuation">;</span>    TimeListNode <span class="token operator">*</span>nxt<span class="token punctuation">;</span>    FreqListNode <span class="token operator">*</span>freq_node<span class="token punctuation">;</span>    <span class="token function">TimeListNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        key <span class="token operator">=</span> k<span class="token punctuation">;</span>        val <span class="token operator">=</span> v<span class="token punctuation">;</span>        freq <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        freq_node <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>        pre <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>        nxt <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">FreqListNode</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> freq<span class="token punctuation">;</span>    FreqListNode <span class="token operator">*</span>pre<span class="token punctuation">;</span>    FreqListNode <span class="token operator">*</span>nxt<span class="token punctuation">;</span>    TimeListNode <span class="token operator">*</span>time_head<span class="token punctuation">;</span>    TimeListNode <span class="token operator">*</span>time_tail<span class="token punctuation">;</span>    <span class="token function">FreqListNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> f<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        freq <span class="token operator">=</span> f<span class="token punctuation">;</span>        pre <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>        nxt <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>        time_head <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">TimeListNode</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        time_tail <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">TimeListNode</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        time_head<span class="token operator">-</span><span class="token operator">></span>nxt <span class="token operator">=</span> time_tail<span class="token punctuation">;</span>        time_tail<span class="token operator">-</span><span class="token operator">></span>pre <span class="token operator">=</span> time_head<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">LFUCache</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    FreqListNode <span class="token operator">*</span>freq_head<span class="token punctuation">;</span>    FreqListNode <span class="token operator">*</span>freq_tail<span class="token punctuation">;</span>    unordered_map<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> TimeListNode <span class="token operator">*</span><span class="token operator">></span> time_map<span class="token punctuation">;</span>    <span class="token keyword">int</span> cap<span class="token punctuation">;</span>    <span class="token keyword">int</span> now_size<span class="token punctuation">;</span>    <span class="token function">LFUCache</span><span class="token punctuation">(</span><span class="token keyword">int</span> capacity<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        now_size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        cap <span class="token operator">=</span> capacity<span class="token punctuation">;</span>        freq_head <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">FreqListNode</span><span class="token punctuation">(</span>INF<span class="token punctuation">)</span><span class="token punctuation">;</span>        freq_tail <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">FreqListNode</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        freq_head<span class="token operator">-</span><span class="token operator">></span>nxt <span class="token operator">=</span> freq_tail<span class="token punctuation">;</span>        freq_tail<span class="token operator">-</span><span class="token operator">></span>pre <span class="token operator">=</span> freq_head<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">void</span> <span class="token function">erase_empty_FreqListNode</span><span class="token punctuation">(</span>FreqListNode <span class="token operator">*</span>now_freq<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>now_freq<span class="token operator">-</span><span class="token operator">></span>time_head<span class="token operator">-</span><span class="token operator">></span>nxt <span class="token operator">==</span> now_freq<span class="token operator">-</span><span class="token operator">></span>time_tail<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            now_freq<span class="token operator">-</span><span class="token operator">></span>pre<span class="token operator">-</span><span class="token operator">></span>nxt <span class="token operator">=</span> now_freq<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">;</span>            now_freq<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token operator">-</span><span class="token operator">></span>pre <span class="token operator">=</span> now_freq<span class="token operator">-</span><span class="token operator">></span>pre<span class="token punctuation">;</span>            <span class="token keyword">delete</span> now_freq<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">void</span> <span class="token function">incre_freq</span><span class="token punctuation">(</span>TimeListNode <span class="token operator">*</span>now<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        now<span class="token operator">-</span><span class="token operator">></span>pre<span class="token operator">-</span><span class="token operator">></span>nxt <span class="token operator">=</span> now<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">;</span>        now<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token operator">-</span><span class="token operator">></span>pre <span class="token operator">=</span> now<span class="token operator">-</span><span class="token operator">></span>pre<span class="token punctuation">;</span>        now<span class="token operator">-</span><span class="token operator">></span>freq <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        FreqListNode <span class="token operator">*</span>now_freq <span class="token operator">=</span> now<span class="token operator">-</span><span class="token operator">></span>freq_node<span class="token punctuation">;</span>        FreqListNode <span class="token operator">*</span>nxt_freq <span class="token operator">=</span> now_freq<span class="token operator">-</span><span class="token operator">></span>pre<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>nxt_freq<span class="token operator">-</span><span class="token operator">></span>freq <span class="token operator">></span> now<span class="token operator">-</span><span class="token operator">></span>freq<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            nxt_freq <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">FreqListNode</span><span class="token punctuation">(</span>now<span class="token operator">-</span><span class="token operator">></span>freq<span class="token punctuation">)</span><span class="token punctuation">;</span>            now_freq<span class="token operator">-</span><span class="token operator">></span>pre<span class="token operator">-</span><span class="token operator">></span>nxt <span class="token operator">=</span> nxt_freq<span class="token punctuation">;</span>            nxt_freq<span class="token operator">-</span><span class="token operator">></span>pre <span class="token operator">=</span> now_freq<span class="token operator">-</span><span class="token operator">></span>pre<span class="token punctuation">;</span>            nxt_freq<span class="token operator">-</span><span class="token operator">></span>nxt <span class="token operator">=</span> now_freq<span class="token punctuation">;</span>            now_freq<span class="token operator">-</span><span class="token operator">></span>pre <span class="token operator">=</span> nxt_freq<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        now<span class="token operator">-</span><span class="token operator">></span>freq_node <span class="token operator">=</span> nxt_freq<span class="token punctuation">;</span>        <span class="token function">lift_now_to_head</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">erase_empty_FreqListNode</span><span class="token punctuation">(</span>now_freq<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">void</span> <span class="token function">insert_TimeListNode</span><span class="token punctuation">(</span>TimeListNode <span class="token operator">*</span>now<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        FreqListNode <span class="token operator">*</span>now_freq<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>freq_tail<span class="token operator">-</span><span class="token operator">></span>pre <span class="token operator">!=</span> <span class="token keyword">nullptr</span> <span class="token operator">&amp;&amp;</span> freq_tail<span class="token operator">-</span><span class="token operator">></span>pre<span class="token operator">-</span><span class="token operator">></span>freq <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            now_freq <span class="token operator">=</span> freq_tail<span class="token operator">-</span><span class="token operator">></span>pre<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">else</span>        <span class="token punctuation">{</span>            now_freq <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">FreqListNode</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            freq_tail<span class="token operator">-</span><span class="token operator">></span>pre<span class="token operator">-</span><span class="token operator">></span>nxt <span class="token operator">=</span> now_freq<span class="token punctuation">;</span>            now_freq<span class="token operator">-</span><span class="token operator">></span>pre <span class="token operator">=</span> freq_tail<span class="token operator">-</span><span class="token operator">></span>pre<span class="token punctuation">;</span>            now_freq<span class="token operator">-</span><span class="token operator">></span>nxt <span class="token operator">=</span> freq_tail<span class="token punctuation">;</span>            freq_tail<span class="token operator">-</span><span class="token operator">></span>pre <span class="token operator">=</span> now_freq<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        now<span class="token operator">-</span><span class="token operator">></span>freq_node <span class="token operator">=</span> now_freq<span class="token punctuation">;</span>        now<span class="token operator">-</span><span class="token operator">></span>freq <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        TimeListNode <span class="token operator">*</span>time_head <span class="token operator">=</span> now_freq<span class="token operator">-</span><span class="token operator">></span>time_head<span class="token punctuation">;</span>        time_head<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token operator">-</span><span class="token operator">></span>pre <span class="token operator">=</span> now<span class="token punctuation">;</span>        now<span class="token operator">-</span><span class="token operator">></span>nxt <span class="token operator">=</span> time_head<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">;</span>        now<span class="token operator">-</span><span class="token operator">></span>pre <span class="token operator">=</span> time_head<span class="token punctuation">;</span>        time_head<span class="token operator">-</span><span class="token operator">></span>nxt <span class="token operator">=</span> now<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">void</span> <span class="token function">delete_last_TimeListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        FreqListNode <span class="token operator">*</span>now_freq_node <span class="token operator">=</span> freq_tail<span class="token operator">-</span><span class="token operator">></span>pre<span class="token punctuation">;</span>        TimeListNode <span class="token operator">*</span>time_tail <span class="token operator">=</span> now_freq_node<span class="token operator">-</span><span class="token operator">></span>time_tail<span class="token punctuation">;</span>        TimeListNode <span class="token operator">*</span>now <span class="token operator">=</span> time_tail<span class="token operator">-</span><span class="token operator">></span>pre<span class="token punctuation">;</span>        time_map<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>now<span class="token operator">-</span><span class="token operator">></span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>        now<span class="token operator">-</span><span class="token operator">></span>pre<span class="token operator">-</span><span class="token operator">></span>nxt <span class="token operator">=</span> time_tail<span class="token punctuation">;</span>        time_tail<span class="token operator">-</span><span class="token operator">></span>pre <span class="token operator">=</span> now<span class="token operator">-</span><span class="token operator">></span>pre<span class="token punctuation">;</span>        <span class="token keyword">delete</span> now<span class="token punctuation">;</span>        <span class="token function">erase_empty_FreqListNode</span><span class="token punctuation">(</span>now_freq_node<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">void</span> <span class="token function">lift_now_to_head</span><span class="token punctuation">(</span>TimeListNode <span class="token operator">*</span>now<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        FreqListNode <span class="token operator">*</span>now_freq <span class="token operator">=</span> now<span class="token operator">-</span><span class="token operator">></span>freq_node<span class="token punctuation">;</span>        TimeListNode <span class="token operator">*</span>head <span class="token operator">=</span> now_freq<span class="token operator">-</span><span class="token operator">></span>time_head<span class="token punctuation">;</span>        TimeListNode <span class="token operator">*</span>tail <span class="token operator">=</span> now_freq<span class="token operator">-</span><span class="token operator">></span>time_tail<span class="token punctuation">;</span>        now<span class="token operator">-</span><span class="token operator">></span>nxt <span class="token operator">=</span> head<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">;</span>        now<span class="token operator">-</span><span class="token operator">></span>pre <span class="token operator">=</span> head<span class="token punctuation">;</span>        head<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token operator">-</span><span class="token operator">></span>pre <span class="token operator">=</span> now<span class="token punctuation">;</span>        head<span class="token operator">-</span><span class="token operator">></span>nxt <span class="token operator">=</span> now<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>time_map<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">==</span> time_map<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        TimeListNode <span class="token operator">*</span>now <span class="token operator">=</span> time_map<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token function">incre_freq</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> now<span class="token operator">-</span><span class="token operator">></span>val<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">void</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        TimeListNode <span class="token operator">*</span>now<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>cap<span class="token punctuation">)</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>time_map<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">==</span> time_map<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">TimeListNode</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>now_size <span class="token operator">&lt;</span> cap<span class="token punctuation">)</span>            <span class="token punctuation">{</span>                now_size<span class="token operator">++</span><span class="token punctuation">;</span>                time_map<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> now<span class="token punctuation">;</span>                <span class="token function">insert_TimeListNode</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">else</span>            <span class="token punctuation">{</span>                <span class="token function">delete_last_TimeListNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                time_map<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> now<span class="token punctuation">;</span>                <span class="token function">insert_TimeListNode</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">else</span>        <span class="token punctuation">{</span>            now <span class="token operator">=</span> time_map<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>            now<span class="token operator">-</span><span class="token operator">></span>val <span class="token operator">=</span> value<span class="token punctuation">;</span>            <span class="token function">incre_freq</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> Leetcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>4.5 Notes</title>
      <link href="/2020/04/05/2020/4-5/"/>
      <url>/2020/04/05/2020/4-5/</url>
      
        <content type="html"><![CDATA[<h1 id="3-30-4-5-Learning-Notes"><a href="#3-30-4-5-Learning-Notes" class="headerlink" title="3.30-4.5 Learning Notes"></a>3.30-4.5 Learning Notes</h1><h1 id="python-unpacking"><a href="#python-unpacking" class="headerlink" title="python unpacking"></a><a href="https://zhuanlan.zhihu.com/p/41968260" target="_blank" rel="noopener">python unpacking</a></h1><h2 id="create-a-list-using-range"><a href="#create-a-list-using-range" class="headerlink" title="create a list using range"></a>create a list using range</h2><pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> l<span class="token operator">=</span><span class="token punctuation">[</span><span class="token operator">*</span>range<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> l<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span></code></pre><h2 id="combine-2-lists"><a href="#combine-2-lists" class="headerlink" title="combine 2 lists"></a>combine 2 lists</h2><pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">>></span><span class="token operator">></span> list2 <span class="token operator">=</span> range<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token operator">*</span>list1<span class="token punctuation">,</span> <span class="token operator">*</span>list2<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span></code></pre><h2 id="combine-2-dictionaries"><a href="#combine-2-dictionaries" class="headerlink" title="combine 2 dictionaries"></a>combine 2 dictionaries</h2><pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"a"</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token operator">>></span><span class="token operator">></span> b <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"c"</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"d"</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">}</span><span class="token operator">>></span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token operator">**</span>a<span class="token punctuation">,</span> <span class="token operator">**</span>b<span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">}</span></code></pre><h1 id="Leetcode"><a href="#Leetcode" class="headerlink" title="Leetcode"></a>Leetcode</h1><h1 id="æƒ¯æ€§æ€ç»´å®³æ­»äºº"><a href="#æƒ¯æ€§æ€ç»´å®³æ­»äºº" class="headerlink" title="æƒ¯æ€§æ€ç»´å®³æ­»äºº"></a><a href="https://leetcode-cn.com/problems/count-number-of-teams/" target="_blank" rel="noopener">æƒ¯æ€§æ€ç»´å®³æ­»äºº</a></h1><p>æ¯ 3 ä¸ªå£«å…µå¯ä»¥ç»„æˆä¸€ä¸ªä½œæˆ˜å•ä½ï¼Œåˆ†ç»„è§„åˆ™å¦‚ä¸‹ï¼š</p><p>ä»é˜Ÿä¼ä¸­é€‰å‡ºä¸‹æ ‡åˆ†åˆ«ä¸º iã€jã€k çš„ 3 åå£«å…µï¼Œä»–ä»¬çš„è¯„åˆ†åˆ†åˆ«ä¸º rating[i]ã€rating[j]ã€rating[k]<br>ä½œæˆ˜å•ä½éœ€æ»¡è¶³:<br>$rating[i] &lt; rating[j] &lt; rating[k]$ or $rating[i] &gt; rating[j] &gt; rating[k]$<br>$0 &lt;= i &lt; j &lt; k &lt; n$</p><p>ä¸€å¼€å§‹æˆ‘æƒ³åˆ°äº†è¿™æ˜¯ä¸€ç§ååºå…³ç³»ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥ç”¨LISæ¥æ±‚å‘¢ï¼Ÿ<br>äºæ˜¯èµ°ä¸Šäº†ä¸€æ¡ä¸å½’ä¹‹è·¯â€¦â€¦</p><p>ç­‰ä»·äºæ±‚ä¸€ä¸ªæ•°åˆ—ä¸­ï¼Œé•¿åº¦ä¸º3çš„é€’å¢åºåˆ—ä¸ªæ•°</p><ol><li>ä¸€å¼€å§‹æƒ³ï¼Œè¿™ä¸æ˜¯å¾ˆç®€å•å—ï¼Ÿç›´æ¥å¥—LISæ¨¡æ¿ï¼Œé•¿åº¦ä¸º3çš„é€’å¢åºåˆ—ä¸ªæ•°=${LISLength}\choose{3}$ã€‚äº¤çš„æ—¶å€™å‘ç°ä¸å¯¹åŠ²ï¼Œå› ä¸ºLISå¯èƒ½æœ‰å¤šä¸ªã€‚</li><li>ç„¶åå°±å¥—æ±‚LISä¸ªæ•°çš„æ¨¡æ¿äº†ï¼Œä½†è¿™æ ·ä¹Ÿæ˜¯é”™çš„</li><li>è¦ä¸æˆ‘ä»¬æ±‚é•¿åº¦ç­‰äºLISLengthçš„æ‰€æœ‰é€’å¢åºåˆ—ä¸­å‡ºç°è¿‡çš„å…ƒç´ ä¸ªæ•°$tot$ï¼Œç­”æ¡ˆæ˜¯${tot}\choose{3}$ï¼Œè½¬ç§»çš„æ—¶å€™è¿˜è¦å¸¦ä¸Šè·¯å¾„ã€‚  </li></ol><p>ä¼°è®¡ä¸€ä¸‹è¿™æ ·åšçš„æ—¶é—´å¤æ‚åº¦ï¼š<br>$O(n^2)$æ±‚LISï¼Œ$O(n<em>k)$æ±‚å‡ºç°è¿‡çš„å…ƒç´ ä¸ªæ•°ï¼Œå…¶ä¸­$k=LISLength</em>LISNumber$<br>æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(n^2)$</p><p>çœ‹èµ·æ¥æ²¡é—®é¢˜ï¼Œä½†å…¶å®é—®é¢˜å¾ˆå¤§ï¼š<br><strong>é•¿åº¦ä¸º3çš„é€’å¢åºåˆ—</strong>å¯ä»¥ä¸å‡ºç°åœ¨LISä¸­</p><pre><code>e.g.1 1000 1001 2 3 4 5 6(1,1000,1001)å°±æ²¡æœ‰å‡ºç°åœ¨LIS(1,2,3,4,5,6)ä¸­</code></pre><p>æ‰€ä»¥è¿™é¢˜è·ŸLISä¸€ç‚¹å…³ç³»éƒ½æ²¡æœ‰ï¼</p><p>æˆ‘è¿˜æ˜¯å»çœ‹<a href="https://leetcode-cn.com/problems/count-number-of-teams/solution/tong-ji-zuo-zhan-dan-wei-shu-by-leetcode-solution/" target="_blank" rel="noopener">å®˜æ–¹é¢˜è§£</a>å§  </p><ol><li>æš´åŠ›æšä¸¾ä¸‰ä¸ªæ•°çœ‹å®ƒä»¬æ˜¯å¦æ»¡è¶³å…³ç³»$O(n^3)$</li><li>æšä¸¾ä¸­é—´çš„æ•°ï¼Œæ±‚å·¦ä¾§æ¯”å®ƒå¤§/å°çš„å…ƒç´ çš„ä¸ªæ•°ï¼Œæ±‚å³ä¾§æ¯”å®ƒå¤§/å°çš„å…ƒç´ çš„ä¸ªæ•°$O(n^2)$</li><li>ç¦»æ•£åŒ–æ ‘çŠ¶æ•°ç»„ä¼˜åŒ–ç¬¬äºŒç§æ–¹æ³•$O(nlogn)$</li></ol><p>ç¬¬äºŒç§æ–¹æ³•çš„ä»£ç ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">numTeams</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>rating<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> rating<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> rating<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">int</span> left_less_num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> left_bigger_num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> right_less_num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> right_bigger_num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>rating<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> rating<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    left_bigger_num<span class="token operator">++</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>rating<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> rating<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    left_less_num<span class="token operator">++</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> rating<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>rating<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> rating<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    right_bigger_num<span class="token operator">++</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>rating<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> rating<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    right_less_num<span class="token operator">++</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            ans <span class="token operator">+</span><span class="token operator">=</span> left_less_num <span class="token operator">*</span> right_bigger_num <span class="token operator">+</span> left_bigger_num <span class="token operator">*</span> right_less_num<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>æƒ¯æ€§æ€ç»´å®³æ­»äººå•Šå•Šå•Šå•Šï¼ï¼ï¼ï¼</p><h1 id="é€æ­¥ä¼˜åŒ–ç®—æ³•"><a href="#é€æ­¥ä¼˜åŒ–ç®—æ³•" class="headerlink" title="é€æ­¥ä¼˜åŒ–ç®—æ³•"></a><a href="https://leetcode-cn.com/problems/trapping-rain-water/" target="_blank" rel="noopener">é€æ­¥ä¼˜åŒ–ç®—æ³•</a></h1><p>ä¸è¦æ€•è‡ªå·±ä¸€å¼€å§‹æƒ³å‡ºæ¥çš„ç®—æ³•å¤ªæ…¢$O(n^2)/O(n^3)$<br>å…ˆä¿è¯èƒ½å¾—åˆ°ç­”æ¡ˆï¼Œç„¶åå†ä¸€æ­¥ä¸€æ­¥åœ°ä¼˜åŒ–ã€‚</p><p><a href="https://leetcode-cn.com/problems/trapping-rain-water/solution/xiang-xi-tong-su-de-si-lu-fen-xi-duo-jie-fa-by-w-8/" target="_blank" rel="noopener">è¯¦è§è¯¥é¢˜è§£</a><br>ä½œè€…ï¼šwindliang<br>é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/trapping-rain-water/solution/xiang-xi-tong-su-de-si-lu-fen-xi-duo-jie-fa-by-w-8/" target="_blank" rel="noopener">https://leetcode-cn.com/problems/trapping-rain-water/solution/xiang-xi-tong-su-de-si-lu-fen-xi-duo-jie-fa-by-w-8/</a>  </p><ol><li>æŒ‰è¡Œæ±‚ï¼šå°±æ˜¯å…ˆæ±‚é«˜åº¦ä¸º 1 çš„æ°´ï¼Œå†æ±‚é«˜åº¦ä¸º 2 çš„æ°´ï¼Œå†æ±‚é«˜åº¦ä¸º 3 çš„æ°´ã€‚</li><li>æŒ‰åˆ—æ±‚ï¼šæ±‚æ¯ä¸€åˆ—çš„æ°´ï¼Œæˆ‘ä»¬åªéœ€è¦å…³æ³¨å½“å‰åˆ—ï¼Œä»¥åŠå·¦è¾¹æœ€é«˜çš„å¢™ï¼Œå³è¾¹æœ€é«˜çš„å¢™å°±å¤Ÿäº†ã€‚</li><li>ä¼˜åŒ–ç¬¬äºŒç§æŒ‰åˆ—æ±‚çš„æ–¹æ³•ï¼Œå‘ç°ä¸éœ€è¦éƒ½ç”¨$O(n)$æ—¶é—´å»æ‰¾ä¸¤è¾¹æœ€é«˜çš„å¢™ï¼Œå¯ä»¥ç”¨ä¸¤ä¸ªæ•°ç»„é¢„å¤„ç†ï¼Œç®—å‡ºç¬¬$i$åˆ—ä¸¤è¾¹æœ€é«˜çš„å¢™</li><li>ä¼˜åŒ–ç¬¬ä¸‰ç§æ–¹æ³•ï¼ŒæŠŠä¸¤ä¸ªæ•°ç»„å‹æ‰ï¼Œé™ä½ç©ºé—´å¤æ‚åº¦ã€‚å› ä¸ºè¿™ä¸¤ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ æˆ‘ä»¬åªç”¨ä¸€æ¬¡ï¼Œæ‰€ä»¥å¯ä»¥ç”¨ä¸¤ä¸ªå˜é‡æ¥ä»£æ›¿</li><li>ç”¨æ ˆæ¥æ¨¡æ‹Ÿæ¥é›¨æ°´çš„è¿‡ç¨‹ï¼šå½“éå†å¢™çš„é«˜åº¦çš„æ—¶å€™ï¼Œå¦‚æœå½“å‰é«˜åº¦å°äºæ ˆé¡¶çš„å¢™é«˜åº¦ï¼Œè¯´æ˜è¿™é‡Œä¼šæœ‰ç§¯æ°´ï¼Œæˆ‘ä»¬å°†å¢™çš„é«˜åº¦çš„ä¸‹æ ‡å…¥æ ˆã€‚å¦‚æœå½“å‰é«˜åº¦å¤§äºæ ˆé¡¶çš„å¢™çš„é«˜åº¦ï¼Œè¯´æ˜ä¹‹å‰çš„ç§¯æ°´åˆ°è¿™é‡Œåœä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—ä¸‹æœ‰å¤šå°‘ç§¯æ°´äº†ã€‚è®¡ç®—å®Œï¼Œå°±æŠŠå½“å‰çš„å¢™ç»§ç»­å…¥æ ˆï¼Œä½œä¸ºæ–°çš„ç§¯æ°´çš„å¢™ã€‚å½“éå†å¢™çš„é«˜åº¦çš„æ—¶å€™ï¼Œå¦‚æœå½“å‰é«˜åº¦å°äºæ ˆé¡¶çš„å¢™é«˜åº¦ï¼Œè¯´æ˜è¿™é‡Œä¼šæœ‰ç§¯æ°´ï¼Œæˆ‘ä»¬å°†å¢™çš„é«˜åº¦çš„ä¸‹æ ‡å…¥æ ˆã€‚</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> Python </tag>
            
            <tag> Leetcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.29 Notes</title>
      <link href="/2020/03/29/2020/3-29/"/>
      <url>/2020/03/29/2020/3-29/</url>
      
        <content type="html"><![CDATA[<h1 id="3-23-3-29-Learning-Notes"><a href="#3-23-3-29-Learning-Notes" class="headerlink" title="3.23-3.29 Learning Notes"></a>3.23-3.29 Learning Notes</h1><h1 id="Leetcode"><a href="#Leetcode" class="headerlink" title="Leetcode"></a>Leetcode</h1><h1 id="ä½¿æ•°ç»„å”¯ä¸€çš„æœ€å°å¢é‡"><a href="#ä½¿æ•°ç»„å”¯ä¸€çš„æœ€å°å¢é‡" class="headerlink" title="ä½¿æ•°ç»„å”¯ä¸€çš„æœ€å°å¢é‡"></a><a href="https://leetcode-cn.com/problems/minimum-increment-to-make-array-unique/" target="_blank" rel="noopener">ä½¿æ•°ç»„å”¯ä¸€çš„æœ€å°å¢é‡</a></h1><p><a href="https://zhuanlan.zhihu.com/p/115207504" target="_blank" rel="noopener">ä¸‰ç§æ–¹æ³•</a></p><ul><li>æ’åº+è´ªå¿ƒ</li><li>è®¡æ•°æ’åº</li><li>çº¿æ€§æ¢æµ‹+è·¯å¾„å‹ç¼©</li></ul><h2 id="æ’åº-è´ªå¿ƒ"><a href="#æ’åº-è´ªå¿ƒ" class="headerlink" title="æ’åº+è´ªå¿ƒ"></a>æ’åº+è´ªå¿ƒ</h2><p>å…ˆä»å°åˆ°å¤§æ’åºï¼Œç„¶åéå†æ¯ä¸ªæ•°<br>å¦‚æœå½“å‰æ•°å°äºç­‰äºä¸Šä¸€ä¸ªæ•°ï¼Œå°±æŠŠå½“å‰æ•°è¡¥é½åˆ°ä¸Šä¸€ä¸ªæ•°+1</p><h2 id="è®¡æ•°æ’åº"><a href="#è®¡æ•°æ’åº" class="headerlink" title="è®¡æ•°æ’åº"></a>è®¡æ•°æ’åº</h2><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> bucket<span class="token punctuation">[</span><span class="token number">80005</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">minIncrementForUnique</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>A<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> maxn <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> each <span class="token operator">:</span> A<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            bucket<span class="token punctuation">[</span>each<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>            maxn <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>maxn<span class="token punctuation">,</span> each<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> maxn<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>bucket<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">>=</span> <span class="token number">2</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                ans <span class="token operator">+</span><span class="token operator">=</span> bucket<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>                bucket<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> bucket<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>bucket<span class="token punctuation">[</span>maxn <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">>=</span> <span class="token number">2</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">int</span> n <span class="token operator">=</span> bucket<span class="token punctuation">[</span>maxn <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>            ans <span class="token operator">+</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> n<span class="token punctuation">)</span> <span class="token operator">*</span> n <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="çº¿æ€§æ¢æµ‹-è·¯å¾„å‹ç¼©"><a href="#çº¿æ€§æ¢æµ‹-è·¯å¾„å‹ç¼©" class="headerlink" title="çº¿æ€§æ¢æµ‹+è·¯å¾„å‹ç¼©"></a>çº¿æ€§æ¢æµ‹+è·¯å¾„å‹ç¼©</h2><p><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/3-29-2020-3-23-9-14-41" alt="3-29-2020-3-23-9-14-41"></p><p>è¿™é“é¢˜æ¢å¥è¯è¯´ï¼Œå°±æ˜¯éœ€è¦æŠŠåŸæ•°ç»„æ˜ å°„åˆ°ä¸€ä¸ªåœ°å€ä¸å†²çªçš„åŒºåŸŸï¼Œæ˜ å°„åçš„åœ°å€ä¸å°äºåŸæ•°ç»„å¯¹åº”çš„å…ƒç´ ã€‚</p><p>æ¯”å¦‚[3, 2, 1, 2, 1, 7]å°±æ˜ å°„æˆäº†[3, 2, 1, 4, 5, 7]ã€‚</p><p>æˆ‘æƒ³äº†ä¸‹ï¼Œè¿™é“é¢˜ç›®å…¶å®å’Œè§£å†³hashå†²çªçš„çº¿æ€§æ¢æµ‹æ³•æ¯”è¾ƒç›¸ä¼¼ï¼</p><p>å¦‚æœåœ°å€å†²çªäº†ï¼Œä¼šæ¢æµ‹å®ƒçš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œå¦‚æœä¸‹ä¸€ä¸ªä½ç½®è¿˜æ˜¯å†²çªï¼Œç»§ç»­å‘åçœ‹ï¼Œç›´åˆ°ç¬¬ä¸€ä¸ªä¸å†²çªçš„ä½ç½®ä¸ºæ­¢ã€‚</p><p>æ²¡æœ‰è·¯å¾„å‹ç¼©çš„ç‰ˆæœ¬ï¼š</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> hash<span class="token punctuation">[</span><span class="token number">80005</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> pos<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>hash<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token operator">++</span>pos<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> pos<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> <span class="token function">minIncrementForUnique</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>A<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token function">memset</span><span class="token punctuation">(</span>hash<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>hash<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> each <span class="token operator">:</span> A<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>hash<span class="token punctuation">[</span>each<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                hash<span class="token punctuation">[</span>each<span class="token punctuation">]</span> <span class="token operator">=</span> each<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">else</span>            <span class="token punctuation">{</span>                <span class="token keyword">int</span> pos <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>each<span class="token punctuation">)</span><span class="token punctuation">;</span>                hash<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">=</span> each<span class="token punctuation">;</span>                ans <span class="token operator">+</span><span class="token operator">=</span> pos <span class="token operator">-</span> each<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>æ€ä¹ˆè·¯å¾„å‹ç¼©å‘¢ï¼Ÿå°±æ˜¯ç»è¿‡æŸæ¡è·¯å¾„æœ€ç»ˆæ¢æµ‹åˆ°ä¸€ä¸ªç©ºä½ç½®xåï¼Œå°†è¿™æ¡è·¯å¾„ä¸Šçš„å€¼éƒ½å˜æˆç©ºä½ç½®æ‰€åœ¨çš„ä¸‹æ ‡xï¼Œé‚£ä¹ˆå‡å¦‚ä¸‹æ¬¡æ¢æµ‹çš„ç‚¹åˆæ˜¯è¿™æ¡è·¯å¾„ä¸Šçš„ç‚¹ï¼Œåˆ™å¯ä»¥ç›´æ¥è·³è½¬åˆ°è¿™æ¬¡æ¢æµ‹åˆ°çš„ç©ºä½ç½®xï¼Œä»xå¼€å§‹ç»§ç»­æ¢æµ‹ã€‚</p><p>è¿™é‡Œçš„è·¯å¾„å‹ç¼©æœ‰ç‚¹åƒå¹¶æŸ¥é›†é‡Œé¢çš„è·¯å¾„å‹ç¼©ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹ç‚¹ä¸åŒï¼Œæ‰¾åˆ°ç©ºä½ç½®åè¦ç»™å®ƒèµ‹å€¼</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> pos<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>hash<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        hash<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">=</span> pos<span class="token punctuation">;</span>        <span class="token keyword">return</span> pos<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    hash<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>hash<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> hash<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> hash<span class="token punctuation">[</span><span class="token number">80005</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">minIncrementForUnique</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>A<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token function">memset</span><span class="token punctuation">(</span>hash<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>hash<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> each <span class="token operator">:</span> A<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>hash<span class="token punctuation">[</span>each<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                hash<span class="token punctuation">[</span>each<span class="token punctuation">]</span> <span class="token operator">=</span> each<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">else</span>            <span class="token punctuation">{</span>                <span class="token keyword">int</span> pos <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>each<span class="token punctuation">)</span><span class="token punctuation">;</span>                ans <span class="token operator">+</span><span class="token operator">=</span> pos <span class="token operator">-</span> each<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h1 id="dp-æ‰“å®¶åŠ«èˆx3"><a href="#dp-æ‰“å®¶åŠ«èˆx3" class="headerlink" title="dp: æ‰“å®¶åŠ«èˆx3"></a>dp: æ‰“å®¶åŠ«èˆx3</h1><h2 id="I"><a href="#I" class="headerlink" title="I"></a><a href="https://leetcode-cn.com/problems/house-robber/" target="_blank" rel="noopener">I</a></h2><h3 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h3><p><code>f[i][0]</code>è¡¨ç¤ºå‰iä¸ªé¢„çº¦ï¼Œå…¶ä¸­ç¬¬iä¸ªé¢„çº¦ä¸æ¥çš„æœ€å¤§å€¼<br><code>f[i][0]</code>è¡¨ç¤ºå‰iä¸ªé¢„çº¦ï¼Œå…¶ä¸­ç¬¬iä¸ªé¢„çº¦æ¥çš„æœ€å¤§å€¼</p><pre><code>f[i][0] = max(f[i - 1][0], f[i - 1][1]);f[i][1] = f[i - 1][0] + nums[i - 1];</code></pre><p>æ³¨æ„åˆ°<code>f[i]</code>åªä¾èµ–ä¸å‰ä¸€ä¸ªçŠ¶æ€<code>f[i-1]</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä¸ç”¨æ•°ç»„ï¼Œåªç”¨ä¸¤ä¸ªå˜é‡å­˜å‚¨å‰ä¸€ä¸ªçŠ¶æ€</p><h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token comment" spellcheck="true">// int f[2005][2];</span>    <span class="token keyword">int</span> <span class="token function">massage</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>nums<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> preRest <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> preWork <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> nowRest <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> nowWork <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            nowRest <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>preRest<span class="token punctuation">,</span> preWork<span class="token punctuation">)</span><span class="token punctuation">;</span>            nowWork <span class="token operator">=</span> preRest <span class="token operator">+</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            preRest <span class="token operator">=</span> nowRest<span class="token punctuation">;</span>            preWork <span class="token operator">=</span> nowWork<span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// f[i][0] = max(f[i - 1][0], f[i - 1][1]);</span>            <span class="token comment" spellcheck="true">// f[i][1] = f[i - 1][0] + nums[i - 1];</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token function">max</span><span class="token punctuation">(</span>nowRest<span class="token punctuation">,</span> nowWork<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// return max(f[n][0], f[n][1]);</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="II"><a href="#II" class="headerlink" title="II"></a><a href="https://leetcode-cn.com/problems/house-robber-ii/" target="_blank" rel="noopener">II</a></h2><p>ç¯å½¢ï¼šç¬¬ä¸€ä¸ªæˆ¿å­å’Œæœ€åä¸€ä¸ªä¸èƒ½åŒæ—¶å–</p><p>æ‰€ä»¥æœ‰ä¸¤ç§æƒ…å†µï¼š</p><ul><li>ä¸å–ç¬¬ä¸€ä¸ª</li><li>ä¸å–æœ€åä¸€ä¸ª  </li></ul><p>æœ€åå–ä¸¤ç§æƒ…å†µçš„æœ€å¤§å€¼å³å¯</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token comment" spellcheck="true">// int f[2005][2];</span>    <span class="token keyword">int</span> <span class="token function">rob</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>nums<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> preRest <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> preWork <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> nowRest <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> nowWork <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            nowRest <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>preRest<span class="token punctuation">,</span> preWork<span class="token punctuation">)</span><span class="token punctuation">;</span>            nowWork <span class="token operator">=</span> preRest <span class="token operator">+</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            preRest <span class="token operator">=</span> nowRest<span class="token punctuation">;</span>            preWork <span class="token operator">=</span> nowWork<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>preRest<span class="token punctuation">,</span> preWork<span class="token punctuation">)</span><span class="token punctuation">;</span>        preRest <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> preWork <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            nowRest <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>preRest<span class="token punctuation">,</span> preWork<span class="token punctuation">)</span><span class="token punctuation">;</span>            nowWork <span class="token operator">=</span> preRest <span class="token operator">+</span> nums<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            preRest <span class="token operator">=</span> nowRest<span class="token punctuation">;</span>            preWork <span class="token operator">=</span> nowWork<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        nowWork <span class="token operator">=</span> preRest <span class="token operator">+</span> nums<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        ans <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> nowWork<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="III"><a href="#III" class="headerlink" title="III"></a><a href="https://leetcode-cn.com/problems/house-robber-iii/" target="_blank" rel="noopener">III</a></h2><p>æ ‘å½¢ï¼šå­©å­å’Œçˆ¶äº²ä¸èƒ½åŒæ—¶å–</p><p>æ€è·¯æ˜¯ç±»ä¼¼çš„ï¼Œæ³¨æ„<code>preWork</code>ä¸ä¸€æ ·ï¼Œæœ‰ä¸‰ç§æƒ…å†µï¼š</p><ul><li>å·¦å³éƒ½å–</li><li>å–å·¦ä¸å–å³</li><li>å–å³ä¸å–å·¦<pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>  pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token function">dfs</span><span class="token punctuation">(</span>TreeNode <span class="token operator">*</span>now<span class="token punctuation">)</span>  <span class="token punctuation">{</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>now <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span>          <span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> le <span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>now<span class="token operator">-</span><span class="token operator">></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>      pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> ri <span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>now<span class="token operator">-</span><span class="token operator">></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">int</span> preRest <span class="token operator">=</span> le<span class="token punctuation">.</span>first <span class="token operator">+</span> ri<span class="token punctuation">.</span>first<span class="token punctuation">;</span>      <span class="token keyword">int</span> preWork <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>le<span class="token punctuation">.</span>first <span class="token operator">+</span> ri<span class="token punctuation">.</span>second<span class="token punctuation">,</span> <span class="token function">max</span><span class="token punctuation">(</span>le<span class="token punctuation">.</span>second <span class="token operator">+</span> ri<span class="token punctuation">.</span>first<span class="token punctuation">,</span> le<span class="token punctuation">.</span>second <span class="token operator">+</span> ri<span class="token punctuation">.</span>second<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">int</span> nowWork <span class="token operator">=</span> preRest <span class="token operator">+</span> now<span class="token operator">-</span><span class="token operator">></span>val<span class="token punctuation">;</span>      <span class="token keyword">int</span> nowRest <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>preRest<span class="token punctuation">,</span> preWork<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span>nowRest<span class="token punctuation">,</span> nowWork<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">int</span> <span class="token function">rob</span><span class="token punctuation">(</span>TreeNode <span class="token operator">*</span>root<span class="token punctuation">)</span>  <span class="token punctuation">{</span>      pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> ans <span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> <span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">.</span>first<span class="token punctuation">,</span> ans<span class="token punctuation">.</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></li></ul><h1 id="Trie"><a href="#Trie" class="headerlink" title="Trie"></a>Trie</h1><h2 id="Trieæ¨¡æ¿"><a href="#Trieæ¨¡æ¿" class="headerlink" title="Trieæ¨¡æ¿"></a><a href="https://leetcode-cn.com/problems/implement-trie-prefix-tree/" target="_blank" rel="noopener">Trieæ¨¡æ¿</a></h2><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Trie</span><span class="token punctuation">{</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">bool</span> isEnd<span class="token punctuation">;</span>    Trie <span class="token operator">*</span>nxt<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token comment" spellcheck="true">/** Initialize your data structure here. */</span>    <span class="token function">Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        isEnd <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">26</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            nxt<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/** Inserts a word into the trie. */</span>    <span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span>string word<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        Trie <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> ch <span class="token operator">:</span> word<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>ch <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>                node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>ch <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            node <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>ch <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        node<span class="token operator">-</span><span class="token operator">></span>isEnd <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/** Returns if the word is in the trie. */</span>    <span class="token keyword">bool</span> <span class="token function">search</span><span class="token punctuation">(</span>string word<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        Trie <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> ch <span class="token operator">:</span> word<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>ch <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            node <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>ch <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> node<span class="token operator">-</span><span class="token operator">></span>isEnd<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/** Returns if there is any word in the trie that starts with the given prefix. */</span>    <span class="token keyword">bool</span> <span class="token function">startsWith</span><span class="token punctuation">(</span>string prefix<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        Trie <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> ch <span class="token operator">:</span> prefix<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>ch <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            node <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>ch <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="TrieåŒ¹é…åç¼€"><a href="#TrieåŒ¹é…åç¼€" class="headerlink" title="TrieåŒ¹é…åç¼€"></a><a href="https://leetcode-cn.com/problems/short-encoding-of-words/" target="_blank" rel="noopener">TrieåŒ¹é…åç¼€</a></h2><p>ç»™å®šä¸€ä¸ªå•è¯åˆ—è¡¨ï¼Œæˆ‘ä»¬å°†è¿™ä¸ªåˆ—è¡¨ç¼–ç æˆä¸€ä¸ªç´¢å¼•å­—ç¬¦ä¸² S ä¸ä¸€ä¸ªç´¢å¼•åˆ—è¡¨ Aã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœè¿™ä¸ªåˆ—è¡¨æ˜¯ <code>[&quot;time&quot;, &quot;me&quot;, &quot;bell&quot;]</code>ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†å…¶è¡¨ç¤ºä¸º <code>S = &quot;time#bell#&quot;</code> å’Œ <code>indexes = [0, 2, 5]</code>ã€‚</p><p>å¯¹äºæ¯ä¸€ä¸ªç´¢å¼•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»å­—ç¬¦ä¸² S ä¸­ç´¢å¼•çš„ä½ç½®å¼€å§‹è¯»å–å­—ç¬¦ä¸²ï¼Œç›´åˆ° â€œ#â€ ç»“æŸï¼Œæ¥æ¢å¤æˆ‘ä»¬ä¹‹å‰çš„å•è¯åˆ—è¡¨ã€‚</p><p>é‚£ä¹ˆæˆåŠŸå¯¹ç»™å®šå•è¯åˆ—è¡¨è¿›è¡Œç¼–ç çš„æœ€å°å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¤šå°‘å‘¢ï¼Ÿ</p><h3 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>è¦è®©ç´¢å¼•å­—ç¬¦ä¸²é•¿åº¦æœ€å°ï¼Œå°±è¦å°½é‡åˆ©ç”¨å•è¯çš„å…¬å…±éƒ¨åˆ†ã€‚</p><p>ä¸€ä¸ªå•è¯æ—¶å¦ä¸€ä¸ªå•è¯çš„å‰ç¼€æ—¶ï¼Œä¸èƒ½ç¼©çŸ­ç´¢å¼•å­—ç¬¦ä¸²é•¿åº¦</p><pre><code>bellbebe#bell#</code></pre><p>å‘ç°åªæœ‰ä¸€ä¸ªå•è¯æ˜¯å¦ä¸€ä¸ªå•è¯çš„åç¼€æ—¶ï¼Œæ‰èƒ½ç¼©çŸ­ç´¢å¼•å­—ç¬¦ä¸²é•¿åº¦</p><pre><code>timemetime#</code></pre><p>æ‰€ä»¥ï¼Œå¯¹äºæ¯ä¸€ä¸ªå•è¯ï¼Œæˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°ä»¥å®ƒä¸ºåç¼€çš„å¦ä¸€ä¸ªå•è¯ï¼Œå¦‚æœèƒ½æ‰¾åˆ°ï¼Œå°±èƒ½å¤Ÿå°†è¿™ä¸¤ä¸ªå•è¯å åŠ èµ·æ¥ï¼Œä¸éœ€è¦å¢åŠ é¢å¤–é•¿åº¦ã€‚</p><h3 id="æš´åŠ›-O-n-2"><a href="#æš´åŠ›-O-n-2" class="headerlink" title="æš´åŠ›$O(n^2)$"></a>æš´åŠ›$O(n^2)$</h3><p>å…ˆæŒ‰å•è¯é•¿åº¦ä»å¤§åˆ°å°æ’åºï¼Œä»ç¬¬äºŒä¸ªå•è¯å¼€å§‹éå†ï¼Œåˆ¤æ–­å½“å‰å•è¯æ˜¯å¦ä¸ºä¹‹å‰çš„æŸä¸€ä¸ªå•è¯ï¼ˆé•¿åº¦å¤§äºç­‰äºå½“å‰å•è¯ï¼‰çš„åç¼€<br>å¦‚æœæ˜¯ï¼Œç´¢å¼•å­—ç¬¦ä¸²é•¿åº¦ä¸å˜<br>å¦‚æœä¸æ˜¯ï¼Œç´¢å¼•å­—ç¬¦ä¸²é•¿åº¦åŠ ä¸Šå½“å‰å•è¯é•¿åº¦å†åŠ 1<code>word#</code></p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">static</span> <span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span>string a<span class="token punctuation">,</span> string b<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> b<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> <span class="token function">minimumLengthEncoding</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>string<span class="token operator">></span> <span class="token operator">&amp;</span>words<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token function">sort</span><span class="token punctuation">(</span>words<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> words<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cmp<span class="token punctuation">)</span><span class="token punctuation">;</span>        ans <span class="token operator">+</span><span class="token operator">=</span> words<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> words<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// cout &lt;&lt; words[i] &lt;&lt; endl;</span>            <span class="token keyword">bool</span> ismatch <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> len <span class="token operator">=</span> words<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>words<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>words<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> len<span class="token punctuation">,</span> len<span class="token punctuation">,</span> words<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    ismatch <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ismatch<span class="token punctuation">)</span>            <span class="token punctuation">{</span>                ans <span class="token operator">+</span><span class="token operator">=</span> len <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3 id="Trie-O-åæ­£æ¯”æš´åŠ›å¿«"><a href="#Trie-O-åæ­£æ¯”æš´åŠ›å¿«" class="headerlink" title="Trie $O(?)$ åæ­£æ¯”æš´åŠ›å¿«"></a>Trie $O(?)$ åæ­£æ¯”æš´åŠ›å¿«</h3><p>æ±‚ä¸€ä¸ªå•è¯çš„åç¼€=æ±‚è¿™ä¸ªå•è¯åè¿‡æ¥ä¹‹åçš„å‰ç¼€<br>è¿™ä¸æ˜¯å¯ä»¥ç”¨Trieå—ï¼Ÿ</p><p>è¿˜æ˜¯è¦å…ˆæŒ‰å•è¯é•¿åº¦ä»å¤§åˆ°å°æ’åºï¼Œå†å°†å€’ç½®çš„å•è¯ä¸€ä¸ªä¸ªåŠ å…¥åˆ°Trieä¸­<br>å¦‚æœä¸è¿™ä¹ˆåšï¼Œ<code>me</code>å…ˆè¢«åŠ åˆ°æ ‘ä¸­ï¼Œä¸èƒ½è¢«<code>time</code>åŒ¹é…åˆ°</p><p>å¦‚æœå½“å‰å•è¯æ˜¯æŸä¸€å•è¯çš„å‰ç¼€ï¼Œé‚£ä¹ˆå½“å‰å•è¯è‚¯å®šåœ¨Trieä¸­<br>å¦‚æœä¸æ˜¯ï¼Œå°±æ›´æ–°Trie</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Trie</span><span class="token punctuation">{</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">bool</span> isEnd<span class="token punctuation">;</span>    Trie <span class="token operator">*</span>nxt<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token function">Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        isEnd <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">26</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            nxt<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">bool</span> <span class="token function">searchPrefixAndInsert</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">auto</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token keyword">bool</span> match <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> ch <span class="token operator">:</span> s<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>ch <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>ch <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> Trie<span class="token punctuation">;</span>                match <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            node <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>ch <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> match<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">static</span> <span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span>string a<span class="token punctuation">,</span> string b<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> b<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> <span class="token function">minimumLengthEncoding</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>string<span class="token operator">></span> <span class="token operator">&amp;</span>words<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        Trie <span class="token operator">*</span>root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token function">sort</span><span class="token punctuation">(</span>words<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> words<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cmp<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> word <span class="token operator">:</span> words<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token function">reverse</span><span class="token punctuation">(</span>word<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> word<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>root<span class="token operator">-</span><span class="token operator">></span><span class="token function">searchPrefixAndInsert</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">)</span>                ans <span class="token operator">+</span><span class="token operator">=</span> word<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="Trieä¸Šæœç´¢"><a href="#Trieä¸Šæœç´¢" class="headerlink" title="Trieä¸Šæœç´¢"></a><a href="https://leetcode-cn.com/problems/add-and-search-word-data-structure-design/" target="_blank" rel="noopener">Trieä¸Šæœç´¢</a></h2><p>search(word) å¯ä»¥æœç´¢æ–‡å­—æˆ–æ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²åªåŒ…å«å­—æ¯ <code>.</code> æˆ– <code>a-z</code> ã€‚ <code>.</code> å¯ä»¥è¡¨ç¤ºä»»ä½•ä¸€ä¸ªå­—æ¯ã€‚</p><h3 id="å¯ä»¥è¡¨ç¤ºä»»ä½•ä¸€ä¸ªå­—æ¯ï¼Œé‡åˆ°åˆ°-çš„æ—¶å€™æ€ä¹ˆåŠï¼Ÿ"><a href="#å¯ä»¥è¡¨ç¤ºä»»ä½•ä¸€ä¸ªå­—æ¯ï¼Œé‡åˆ°åˆ°-çš„æ—¶å€™æ€ä¹ˆåŠï¼Ÿ" class="headerlink" title=".å¯ä»¥è¡¨ç¤ºä»»ä½•ä¸€ä¸ªå­—æ¯ï¼Œé‡åˆ°åˆ°.çš„æ—¶å€™æ€ä¹ˆåŠï¼Ÿ"></a><code>.</code>å¯ä»¥è¡¨ç¤ºä»»ä½•ä¸€ä¸ªå­—æ¯ï¼Œé‡åˆ°åˆ°<code>.</code>çš„æ—¶å€™æ€ä¹ˆåŠï¼Ÿ</h3><p>é‡åˆ°<code>.</code>è¡¨ç¤ºå¯ä»¥é€šå‘ä»»ä½•ä¸€ä¸ªè¿æ¥çš„å­—æ¯<br><code>node-&gt;nxt[j] if node-&gt;nxt[j]!=nullptr</code>  </p><p>æ¥ç€æœç´¢å‰©ä¸‹çš„å­—ç¬¦ä¸²<code>word.substr(i+1)</code><br>åªè¦è‡³å°‘ä¸€ä¸ªåˆ†æ”¯åŒ¹é…æˆåŠŸï¼Œå°±ç®—æˆåŠŸ<code>isMatch|=</code></p><p><code>this</code>æŒ‡å‘å½“å‰å¼•ç”¨çš„å¯¹è±¡<br>æ‰€ä»¥éœ€è¦ç”¨<code>node-&gt;nxt[j]-&gt;search</code>æ¥å¼•ç”¨<code>node-&gt;nxt[j]</code></p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">26</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        isMatch <span class="token operator">|</span><span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">search</span><span class="token punctuation">(</span>word<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">WordDictionary</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">bool</span> isEnd<span class="token punctuation">;</span>    WordDictionary <span class="token operator">*</span>nxt<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token function">WordDictionary</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        isEnd <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">26</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            nxt<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">void</span> <span class="token function">addWord</span><span class="token punctuation">(</span>string word<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">auto</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> ch <span class="token operator">:</span> word<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>ch <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>ch <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> WordDictionary<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            node <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>ch <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        node<span class="token operator">-</span><span class="token operator">></span>isEnd <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">bool</span> <span class="token function">search</span><span class="token punctuation">(</span>string word<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">auto</span> node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> word<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>word<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'.'</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">// . can represent any word exist</span>                <span class="token keyword">bool</span> isMatch <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">26</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>                    <span class="token punctuation">{</span>                        isMatch <span class="token operator">|</span><span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">search</span><span class="token punctuation">(</span>word<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>                <span class="token keyword">return</span> isMatch<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            node <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>word<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span>                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> node<span class="token operator">-</span><span class="token operator">></span>isEnd<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="Trie-å›æº¯"><a href="#Trie-å›æº¯" class="headerlink" title="Trie+å›æº¯"></a><a href="https://leetcode-cn.com/problems/word-search-ii/description" target="_blank" rel="noopener">Trie+å›æº¯</a></h2><p>ä¸‰ç§è§£æ³•:  </p><ol><li>æš´æœ</li><li>Trie+å›æº¯ï¼Œç»“åˆç¨‹åº¦ä½</li><li>Trie+å›æº¯ï¼Œç»“åˆç¨‹åº¦é«˜</li></ol><h3 id="æš´æœTLE"><a href="#æš´æœTLE" class="headerlink" title="æš´æœTLE"></a>æš´æœTLE</h3><p>æšä¸¾æ¯ä¸ªåœ¨å­—å…¸ä¸­çš„å•è¯ï¼Œæšä¸¾æ¯ä¸ªå‡ºå‘ç‚¹</p><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> dire<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>    <span class="token keyword">bool</span> visited<span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span>string<span class="token operator">></span> ans<span class="token punctuation">;</span>    <span class="token keyword">bool</span> match<span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> string nowWord<span class="token punctuation">,</span> string finalWord<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">>></span> <span class="token operator">&amp;</span>board<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>match<span class="token punctuation">)</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>nowWord <span class="token operator">==</span> finalWord<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>nowWord<span class="token punctuation">)</span><span class="token punctuation">;</span>            match <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        visited<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> dir <span class="token operator">:</span> dire<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">int</span> nxt_x <span class="token operator">=</span> x <span class="token operator">+</span> dir<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> nxt_y <span class="token operator">=</span> y <span class="token operator">+</span> dir<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>nxt_x <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> nxt_x <span class="token operator">&lt;</span> m <span class="token operator">&amp;&amp;</span> nxt_y <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> nxt_y <span class="token operator">&lt;</span> n<span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>nxt_y<span class="token punctuation">]</span><span class="token punctuation">[</span>nxt_x<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    <span class="token keyword">char</span> nxt_ch <span class="token operator">=</span> finalWord<span class="token punctuation">[</span>nowWord<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>board<span class="token punctuation">[</span>nxt_y<span class="token punctuation">]</span><span class="token punctuation">[</span>nxt_x<span class="token punctuation">]</span> <span class="token operator">==</span> nxt_ch<span class="token punctuation">)</span>                    <span class="token punctuation">{</span>                        string nxtWord <span class="token operator">=</span> nowWord <span class="token operator">+</span> nxt_ch<span class="token punctuation">;</span>                        <span class="token function">dfs</span><span class="token punctuation">(</span>nxt_x<span class="token punctuation">,</span> nxt_y<span class="token punctuation">,</span> nxtWord<span class="token punctuation">,</span> finalWord<span class="token punctuation">,</span> board<span class="token punctuation">)</span><span class="token punctuation">;</span>                        visited<span class="token punctuation">[</span>nxt_y<span class="token punctuation">]</span><span class="token punctuation">[</span>nxt_x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    vector<span class="token operator">&lt;</span>string<span class="token operator">></span> <span class="token function">findWords</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">>></span> <span class="token operator">&amp;</span>board<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>string<span class="token operator">></span> <span class="token operator">&amp;</span>words<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        n <span class="token operator">=</span> board<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        m <span class="token operator">=</span> board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> word <span class="token operator">:</span> words<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            match <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> word<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>                    <span class="token punctuation">{</span>                        string <span class="token function">nxtWord</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> word<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token function">dfs</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span> i<span class="token punctuation">,</span> nxtWord<span class="token punctuation">,</span> word<span class="token punctuation">,</span> board<span class="token punctuation">)</span><span class="token punctuation">;</span>                        visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>match<span class="token punctuation">)</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>match<span class="token punctuation">)</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3 id="ç»“åˆä¸ç´§å¯†çš„Trie-å›æº¯"><a href="#ç»“åˆä¸ç´§å¯†çš„Trie-å›æº¯" class="headerlink" title="ç»“åˆä¸ç´§å¯†çš„Trie+å›æº¯"></a>ç»“åˆä¸ç´§å¯†çš„Trie+å›æº¯</h3><p>åŸºæœ¬ç­‰äºåœ¨æš´æœçš„åŸºç¡€ä¸ŠåŠ ä¸ŠTrieæ¨¡æ¿<br>ç”¨Trieæ¥å¸®åŠ©æš´æœå‰ªæ</p><ol><li>ä¸éœ€è¦æšä¸¾æ¯ä¸ªåœ¨å­—å…¸ä¸­çš„å•è¯ï¼Œç›´æ¥æœç´¢å½“å‰å•è¯æ˜¯å¦åœ¨å­—å…¸ä¸­å³å¯</li><li>æœç´¢å½“å‰å•è¯æ˜¯å¦æ˜¯å­—å…¸ä¸­æŸä¸ªå•è¯çš„å‰ç¼€ï¼Œå¦‚æœä¸æ˜¯å°±å¯ä»¥å‰ªæ<code>return</code></li></ol><p>è¿™é‡Œæœ‰ä¸ªå¾ˆå®¹æ˜“é”™çš„å°ç»†èŠ‚:<br>æ‰¾åˆ°åŒ¹é…çš„å•è¯åä¸èƒ½<code>return</code>ï¼Œå› ä¸ºå¯èƒ½æœ‰ä»¥å½“å‰å•è¯ä¸ºå‰ç¼€çš„å…¶ä»–å•è¯ï¼Œå¦‚æœ<code>return</code>å°±ä¸èƒ½æ‰¾åˆ°å®ƒä»¬äº†</p><pre><code>e.g.dict={&quot;ab&quot;,&quot;abc&quot;}board={&quot;a&quot;,&quot;b&quot;,&quot;c&quot;}å¦‚æœæ‰¾åˆ°&quot;ab&quot;çš„æ—¶å€™ç›´æ¥returnï¼Œ&quot;abc&quot;å°±æ°¸è¿œä¸å¯èƒ½è¢«åŒ¹é…åˆ°</code></pre><p>å¦å¤–ä¸€ä¸ªä¼˜åŒ–çš„ç‚¹ï¼š<br>é¢˜æ„åªéœ€è¦æ±‚å‡ºç°çš„å•è¯ï¼Œä¸è¦é‡å¤çš„ï¼Œä¸å…¶ç”¨<code>unordered_map</code>è¿™ç±»ä¸œè¥¿æ¥å»é‡ï¼Œä¸å¦‚ç›´æ¥åœ¨Trieä¸­æ”¹åŠ¨ä¸€ä¸‹ã€‚<br>åœ¨åŒ¹é…å•è¯çš„å‡½æ•°ä¸­è¿™æ ·å†™ï¼Œå°±èƒ½ä½¿æ¯ä¸ªå•è¯åªå‡ºç°ä¸€æ¬¡ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-</span><span class="token operator">></span>isEnd<span class="token punctuation">)</span><span class="token punctuation">{</span>    node<span class="token operator">-</span><span class="token operator">></span>isEnd <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-</span><span class="token operator">></span><span class="token function">searchWord</span><span class="token punctuation">(</span>nowWord<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>nowWord<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// return;</span><span class="token punctuation">}</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>root<span class="token operator">-</span><span class="token operator">></span><span class="token function">startWith</span><span class="token punctuation">(</span>nowWord<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Trie</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">bool</span> isEnd<span class="token punctuation">;</span>    Trie <span class="token operator">*</span>nxt<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token function">Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        isEnd <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">26</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            nxt<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span>string word<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        Trie <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> each <span class="token operator">:</span> word<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>each <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>each <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            node <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>each <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        node<span class="token operator">-</span><span class="token operator">></span>isEnd <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">bool</span> <span class="token function">startWith</span><span class="token punctuation">(</span>string word<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        Trie <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> each <span class="token operator">:</span> word<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>each <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            node <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>each <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">bool</span> <span class="token function">searchWord</span><span class="token punctuation">(</span>string word<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        Trie <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> each <span class="token operator">:</span> word<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>each <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            node <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>each <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// find the word and delete it</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-</span><span class="token operator">></span>isEnd<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            node<span class="token operator">-</span><span class="token operator">></span>isEnd <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> dire<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>    <span class="token keyword">bool</span> visited<span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    Trie <span class="token operator">*</span>root<span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span>string<span class="token operator">></span> ans<span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> string nowWord<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">>></span> <span class="token operator">&amp;</span>board<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-</span><span class="token operator">></span><span class="token function">searchWord</span><span class="token punctuation">(</span>nowWord<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>nowWord<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// return;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>root<span class="token operator">-</span><span class="token operator">></span><span class="token function">startWith</span><span class="token punctuation">(</span>nowWord<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> dir <span class="token operator">:</span> dire<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">int</span> nxt_x <span class="token operator">=</span> x <span class="token operator">+</span> dir<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> nxt_y <span class="token operator">=</span> y <span class="token operator">+</span> dir<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>nxt_x <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> nxt_x <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> nxt_y <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> nxt_y <span class="token operator">&lt;</span> m<span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>nxt_x<span class="token punctuation">]</span><span class="token punctuation">[</span>nxt_y<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    string nxtWord <span class="token operator">=</span> nowWord <span class="token operator">+</span> board<span class="token punctuation">[</span>nxt_x<span class="token punctuation">]</span><span class="token punctuation">[</span>nxt_y<span class="token punctuation">]</span><span class="token punctuation">;</span>                    visited<span class="token punctuation">[</span>nxt_x<span class="token punctuation">]</span><span class="token punctuation">[</span>nxt_y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                    <span class="token function">dfs</span><span class="token punctuation">(</span>nxt_x<span class="token punctuation">,</span> nxt_y<span class="token punctuation">,</span> nxtWord<span class="token punctuation">,</span> board<span class="token punctuation">)</span><span class="token punctuation">;</span>                    visited<span class="token punctuation">[</span>nxt_x<span class="token punctuation">]</span><span class="token punctuation">[</span>nxt_y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    vector<span class="token operator">&lt;</span>string<span class="token operator">></span> <span class="token function">findWords</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">>></span> <span class="token operator">&amp;</span>board<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>string<span class="token operator">></span> <span class="token operator">&amp;</span>words<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        n <span class="token operator">=</span> board<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        m <span class="token operator">=</span> board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> word <span class="token operator">:</span> words<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            root<span class="token operator">-</span><span class="token operator">></span><span class="token function">insert</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                string <span class="token function">nowWord</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token function">dfs</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> nowWord<span class="token punctuation">,</span> board<span class="token punctuation">)</span><span class="token punctuation">;</span>                visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3 id="ç»“åˆç´§å¯†çš„Trie-å›æº¯"><a href="#ç»“åˆç´§å¯†çš„Trie-å›æº¯" class="headerlink" title="ç»“åˆç´§å¯†çš„Trie+å›æº¯"></a>ç»“åˆç´§å¯†çš„Trie+å›æº¯</h3><p><a href="https://leetcode-cn.com/problems/word-search-ii/solution/cqian-zhui-shu-ju-ta-ma-rong-yi-dong-by-chashao/" target="_blank" rel="noopener">æ¨èçœ‹è¿™ä½å¤§ä½¬ç”¨<code>hashmap</code>çš„é¢˜è§£ä»¥åŠä¸‹é¢è¯„è®ºåŒºä½¿ç”¨ä¸€èˆ¬å‰ç¼€æ ‘çš„ä»£ç </a></p><p><a href="https://leetcode-cn.com/problems/word-search-ii/solution/dan-ci-sou-suo-ii-by-leetcode/" target="_blank" rel="noopener">å†çœ‹çœ‹å®˜æ–¹é¢˜è§£é‡Œé¢ç»™å‡ºçš„ä¼˜åŒ–å»ºè®®</a></p><p>æœ‰äº†Trie,æ€ä¹ˆè¿›ä¸€æ­¥ä¼˜åŒ–æˆ‘ä»¬çš„æœç´¢å›æº¯å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆå°±æ˜¯ç›´æ¥æŠŠTrieçš„èŠ‚ç‚¹ä½œä¸ºä¸€ä¸ªçŠ¶æ€ï¼Œæ”¾åˆ°æœç´¢é‡Œé¢ã€‚</p><ul><li>åˆ¤æ–­å•è¯æ˜¯å¦åŒ¹é…ï¼Ÿ çœ‹<code>now-&gt;isEnd==1</code></li><li>åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦æ˜¯æŸä¸€å•è¯çš„å‰ç¼€ï¼Ÿ çœ‹<code>now-&gt;nxt[board[x][y] - &#39;a&#39;] == nullptr</code></li><li>ä¸‹ä¸€ä¸ªä½ç½®çš„å­—ç¬¦ä¸²æ˜¯ï¼Ÿ <code>now = now-&gt;nxt[board[x][y] - &#39;a&#39;]</code></li></ul><p>å¦å¤–ï¼Œè¿™é‡Œçš„æœç´¢å†™æ³•ä¸ä¹‹å‰å·®åˆ«æ¯”è¾ƒå¤§ï¼Œè€Œä¸”æŠŠ<code>visited[][]</code>ç æ‰äº†ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Trie</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">bool</span> isEnd<span class="token punctuation">;</span>    Trie <span class="token operator">*</span>nxt<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    string word<span class="token punctuation">;</span>    <span class="token function">Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        isEnd <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">26</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            nxt<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        word <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span>string word<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        Trie <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> each <span class="token operator">:</span> word<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>each <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>each <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            node <span class="token operator">=</span> node<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>each <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        node<span class="token operator">-</span><span class="token operator">></span>isEnd <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        node<span class="token operator">-</span><span class="token operator">></span>word <span class="token operator">=</span> word<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span>string<span class="token operator">></span> ans<span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span>Trie <span class="token operator">*</span>now<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">>></span> <span class="token operator">&amp;</span>board<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>now<span class="token operator">-</span><span class="token operator">></span>isEnd<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            now<span class="token operator">-</span><span class="token operator">></span>isEnd <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>now<span class="token operator">-</span><span class="token operator">></span>word<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> x <span class="token operator">>=</span> board<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> y <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> y <span class="token operator">>=</span> board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'#'</span><span class="token punctuation">)</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>now<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        now <span class="token operator">=</span> now<span class="token operator">-</span><span class="token operator">></span>nxt<span class="token punctuation">[</span>board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">char</span> cur <span class="token operator">=</span> board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span>        board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'#'</span><span class="token punctuation">;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>now<span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">,</span> board<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>now<span class="token punctuation">,</span> x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">,</span> board<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>now<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> board<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>now<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> board<span class="token punctuation">)</span><span class="token punctuation">;</span>        board<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> cur<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    vector<span class="token operator">&lt;</span>string<span class="token operator">></span> <span class="token function">findWords</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">>></span> <span class="token operator">&amp;</span>board<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>string<span class="token operator">></span> <span class="token operator">&amp;</span>words<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        Trie <span class="token operator">*</span>root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Trie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> word <span class="token operator">:</span> words<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            root<span class="token operator">-</span><span class="token operator">></span><span class="token function">insert</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> board<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token function">dfs</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> board<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3 id="è¿™é“é¢˜çš„ä¸€äº›å»¶ä¼¸æ€è€ƒ"><a href="#è¿™é“é¢˜çš„ä¸€äº›å»¶ä¼¸æ€è€ƒ" class="headerlink" title="è¿™é“é¢˜çš„ä¸€äº›å»¶ä¼¸æ€è€ƒ"></a>è¿™é“é¢˜çš„ä¸€äº›å»¶ä¼¸æ€è€ƒ</h3><h3 id="nullptr"><a href="#nullptr" class="headerlink" title="nullptr"></a><code>nullptr</code></h3><p>c++11 æ¨å‡ºçš„ä¸œä¸œï¼Œè¡¨ç¤ºä¸€ä¸ªç©ºæŒ‡é’ˆ<br>åæ­£è®°ä½æ¯”<code>null</code>å¥½ç”¨å°±å¯¹äº†  </p><p><a href="https://zhuanlan.zhihu.com/p/79883965" target="_blank" rel="noopener">ä¸ºä»€ä¹ˆå»ºè®®ä½ ç”¨nullptrè€Œä¸æ˜¯NULL</a></p><h3 id="a-x-y-ora-y-x"><a href="#a-x-y-ora-y-x" class="headerlink" title="a[x][y]ora[y][x]"></a><code>a[x][y]</code>or<code>a[y][x]</code></h3><p>åœ¨æ•°å­¦é‡Œé¢ï¼Œ<code>(x,y)</code>çœ‹èµ·æ¥æ›´é¡ºçœ¼å“</p><p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬æŠŠæ•°å­¦é‡Œé¢çš„åæ ‡ç³»æ”¾åˆ°äºŒç»´æ•°ç»„ä¸­æ¥çœ‹ï¼Œå‘ç°æœ‰ç‚¹ä¸å¯¹åŠ²</p><pre><code>a=[   1 2 3   1 [1,2,3],   2 [4,5,6],   3 [7,8,9]]</code></pre><p>å¦‚æœæŒ‰ç…§æ•°å­¦ä¸­çš„åæ ‡ç³»ï¼Œç¬¬yè¡Œç¬¬xåˆ—å¯¹åº”çš„æ•°ç»„å…ƒç´ æ˜¯<code>a[y][x]</code></p><p>ä½†æ˜¯<code>y</code>åœ¨<code>x</code>å‰é¢åˆæœ‰ç‚¹ä¸å¤ªèˆ’æœï¼Œ<code>a[x][y]</code>çœ‹èµ·æ¥æ›´è‡ªç„¶</p><p>å…¶å®ä¸¤ç§å†™æ³•éƒ½å¯ä»¥ï¼Œå…³é”®æ˜¯ä½ è¦æƒ³æ˜ç™½<code>x</code>ä»£è¡¨çš„æ˜¯è¡Œæ•°æˆ–æ˜¯åˆ—æ•°</p><p>ç°åœ¨å‘ç°<code>a[x][y]</code>æ›´å¥½ä¸€ç‚¹ï¼Œå› ä¸ºå¾ˆå¤šæ—¶å€™å‡½æ•°è¿”å›å€¼æ˜¯<code>(x,y)</code>ï¼Œ<code>unpack</code>ä¸å®¹æ˜“å‡ºé”™</p><h3 id="æœç´¢å›æº¯çš„ä¸åŒå†™æ³•"><a href="#æœç´¢å›æº¯çš„ä¸åŒå†™æ³•" class="headerlink" title="æœç´¢å›æº¯çš„ä¸åŒå†™æ³•"></a>æœç´¢å›æº¯çš„ä¸åŒå†™æ³•</h3><ol><li>å…ˆè¿›å…¥ä¸‹ä¸€ä¸ªçŠ¶æ€å†åˆ¤æ–­åˆæ³•æ€§</li><li>å…ˆåˆ¤æ–­ä¸‹ä¸€ä¸ªçŠ¶æ€çš„åˆæ³•æ€§å†è¿›å…¥</li></ol><p>ä¸ªäººæ„Ÿè§‰å„æœ‰åƒç§‹å§</p><p>ç¬¬ä¸€ç§å†™æ³•ä»£ç ä¼šæ›´ç®€æ´ï¼Œè€Œä¸”ä¸ç”¨è€ƒè™‘<code>dfs(0,0)</code>æœç´¢å…¥å£çš„çŠ¶æ€</p><p>ç¬¬äºŒç§å†™æ³•é€’å½’è°ƒç”¨ä¼šå°‘ä¸€ç‚¹ï¼Œæ•ˆç‡ä¼šé«˜ï¼Ÿï¼ˆä¸å¤ªæ¸…æ¥šï¼‰ä½†æ˜¯è¦è€ƒè™‘æœç´¢å…¥å£çš„çŠ¶æ€ </p><p>ä»¥è¯¥é¢˜ä¸ºä¾‹ï¼š</p><pre class=" language-cpp"><code class="language-cpp">ç¬¬ä¸€ç§å†™æ³•çš„æœç´¢å…¥å£<span class="token function">dfs</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> board<span class="token punctuation">)</span><span class="token punctuation">;</span>ç¬¬äºŒç§å†™æ³•çš„æœç´¢å…¥å£string <span class="token function">nowWord</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token function">dfs</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> nowWord<span class="token punctuation">,</span> board<span class="token punctuation">)</span><span class="token punctuation">;</span>visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></code></pre><p>ç¬¬ä¸€ç§å†™æ³•é€»è¾‘ç¡®å®æ¸…æ™°å¾ˆå¤šï¼Œé€’å½’è¾¹ç•Œç›´æ¥ç”¨<code>if return</code>å°±å¯ä»¥ï¼Œå¢å‡é€»è¾‘éƒ½æ–¹ä¾¿</p><h1 id="å¤šæºæœ€çŸ­è·¯"><a href="#å¤šæºæœ€çŸ­è·¯" class="headerlink" title="å¤šæºæœ€çŸ­è·¯"></a><a href="https://leetcode-cn.com/problems/as-far-from-land-as-possible/" target="_blank" rel="noopener">å¤šæºæœ€çŸ­è·¯</a></h1><p>ä½ ç°åœ¨æ‰‹é‡Œæœ‰ä¸€ä»½å¤§å°ä¸º N x N çš„ã€åœ°å›¾ã€ï¼ˆç½‘æ ¼ï¼‰ gridï¼Œä¸Šé¢çš„æ¯ä¸ªã€åŒºåŸŸã€ï¼ˆå•å…ƒæ ¼ï¼‰éƒ½ç”¨ 0 å’Œ 1 æ ‡è®°å¥½äº†ã€‚å…¶ä¸­ 0 ä»£è¡¨æµ·æ´‹ï¼Œ1 ä»£è¡¨é™†åœ°ï¼Œä½ çŸ¥é“è·ç¦»é™†åœ°åŒºåŸŸæœ€è¿œçš„æµ·æ´‹åŒºåŸŸæ˜¯æ˜¯å“ªä¸€ä¸ªå—ï¼Ÿè¯·è¿”å›è¯¥æµ·æ´‹åŒºåŸŸåˆ°ç¦»å®ƒæœ€è¿‘çš„é™†åœ°åŒºåŸŸçš„æ›¼å“ˆé¡¿è·ç¦»ã€‚</p><h2 id="å•æºbfs"><a href="#å•æºbfs" class="headerlink" title="å•æºbfs"></a>å•æºbfs</h2><ul><li>ä»æ¯ä¸ªé™†åœ°å‡ºå‘ï¼Œæ›´æ–°æ¯ä¸ªæµ·æ´‹åˆ°é™†åœ°çš„æœ€çŸ­è·ç¦»</li><li>ä»æ¯ä¸ªæµ·æ´‹å‡ºå‘æ‰¾ç¦»å®ƒæœ€è¿‘çš„é™†åœ°</li></ul><p>è¿™ä¸¤ç§å•æºbfsè·‘èµ·æ¥éƒ½æœ‰ç‚¹æ…¢ï¼Œéœ€è¦æ³¨æ„ä¼˜åŒ–å¸¸æ•°æ‰èƒ½ACï¼Œæœ‰å…´è¶£çš„å¯ä»¥çœ‹çœ‹å®˜æ–¹é¢˜è§£ä¸­çš„å¸¸æ•°ä¼˜åŒ–<br>1768 ms    252.5 MB</p><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;queue></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;tuple></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> dire<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>    <span class="token keyword">bool</span> visited<span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> a<span class="token punctuation">;</span>    <span class="token keyword">struct</span> node    <span class="token punctuation">{</span>        <span class="token keyword">int</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> step<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">findNearestIsland</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> j<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        queue<span class="token operator">&lt;</span>node<span class="token operator">></span> q<span class="token punctuation">;</span>        <span class="token function">memset</span><span class="token punctuation">(</span>visited<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>visited<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            node now <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">int</span> nx <span class="token operator">=</span> now<span class="token punctuation">.</span>x <span class="token operator">+</span> dire<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ny <span class="token operator">=</span> now<span class="token punctuation">.</span>y <span class="token operator">+</span> dire<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>nx <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> nx <span class="token operator">>=</span> n <span class="token operator">||</span> ny <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> ny <span class="token operator">>=</span> m<span class="token punctuation">)</span>                    <span class="token keyword">continue</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>visited<span class="token punctuation">[</span>nx<span class="token punctuation">]</span><span class="token punctuation">[</span>ny<span class="token punctuation">]</span><span class="token punctuation">)</span>                    <span class="token keyword">continue</span><span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">// find the nearest island</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>nx<span class="token punctuation">]</span><span class="token punctuation">[</span>ny<span class="token punctuation">]</span><span class="token punctuation">)</span>                    <span class="token keyword">return</span> now<span class="token punctuation">.</span>step <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>                visited<span class="token punctuation">[</span>nx<span class="token punctuation">]</span><span class="token punctuation">[</span>ny<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>nx<span class="token punctuation">,</span> ny<span class="token punctuation">,</span> now<span class="token punctuation">.</span>step <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> <span class="token function">maxDistance</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token operator">&amp;</span>grid<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        n <span class="token operator">=</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        m <span class="token operator">=</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        a <span class="token operator">=</span> grid<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    ans <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> <span class="token function">findNearestIsland</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="å¤šæºbfs"><a href="#å¤šæºbfs" class="headerlink" title="å¤šæºbfs"></a><a href="https://leetcode-cn.com/problems/as-far-from-land-as-possible/solution/zhen-liang-yan-sou-huan-neng-duo-yuan-kan-wan-miao/" target="_blank" rel="noopener">å¤šæºbfs</a></h2><p>å…ˆæŠŠæ¯ä¸ªé™†åœ°åŠ åˆ°é˜Ÿåˆ—é‡Œé¢ï¼Œå†ä¸€èµ·bfs</p><p>å¤šæºbfs=ä»¥è¶…çº§æºç‚¹ä¸ºç¬¬ä¸€å±‚ï¼Œå¤šä¸ªé€‰å‡ºæ¥çš„æºç‚¹ä¸ºç¬¬äºŒå±‚è¿›è¡Œbfs</p><p><img src="https://pic.leetcode-cn.com/5d4d1debe4c272fc248d67b9eeda8f2f8e530bc35a38c286bf3e6b8285e85859-%E8%B6%85%E7%BA%A7%E6%BA%90%E7%82%B9.png" alt="å¤šæºbfs"></p><p>å¤šæºbfsæ˜æ˜¾æ¯”å•æºbfså¿«å¾ˆå¤š<br>324 ms    32.4 MB</p><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;queue></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;tuple></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">maxDistance</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token operator">&amp;</span>grid<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> dis<span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">bool</span> visited<span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> inf <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">30</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> y <span class="token operator">&lt;</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> y<span class="token operator">++</span><span class="token punctuation">)</span>                visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> inf<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        queue<span class="token operator">&lt;</span>tuple<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">>></span> q<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_tuple</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">auto</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> step<span class="token punctuation">]</span> <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> x <span class="token operator">>=</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> y <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> y <span class="token operator">>=</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token keyword">continue</span><span class="token punctuation">;</span>            visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>grid<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span>                dis<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>dis<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">,</span> step<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// reach another island</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>grid<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> step <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>                <span class="token keyword">continue</span><span class="token punctuation">;</span>            q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_tuple</span><span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">,</span> step <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_tuple</span><span class="token punctuation">(</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">,</span> step <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_tuple</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> step <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_tuple</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> step <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> inf<span class="token punctuation">)</span>                    dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>                ans <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>è¿˜å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ï¼š</p><ul><li>åˆ æ‰visitedæ•°ç»„ï¼Œå¡«æµ·é€ é™†ï¼Œè®¿é—®è¿‡çš„oceanå˜æˆisland</li><li>åˆ æ‰disæ•°ç»„ï¼Œåœ¨bfsä¸­è®°å½•å½“å‰æ­¥æ•°ï¼ˆé‡ç‚¹ï¼‰</li></ul><p>æ€ä¹ˆåœ¨bfsä¸­è®°å½•å½“å‰æ­¥æ•°å‘¢ï¼Ÿ<br>å°†é—®é¢˜è½¬åŒ–ä¸ºï¼šæ€æ ·åœ¨bfsä¸­åŒºåˆ†å½“å‰å±‚ä¸ä¸‹ä¸€å±‚?</p><p>åŠ å…¥ä¸€ä¸ª<code>size</code>å˜é‡è®°å½•ç¬¬ä¸€æ¬¡éå†åˆ°å½“å‰å±‚æ—¶çš„é˜Ÿåˆ—é•¿åº¦ï¼Œå³ä¸ºå½“å‰å±‚çš„å…ƒç´ ä¸ªæ•°ã€‚åŒä¸€å±‚çš„æ­¥æ•°ç›¸ç­‰ï¼Œåªæœ‰éå†å®ŒåŒä¸€å±‚åæ‰è¿›è¡Œ<code>step++</code>æ›´æ–°æ­¥æ•°ã€‚</p><p>è¿™æ ·åˆ’åˆ†å±‚æ•°åˆç†çš„åŸå› æ˜¯ï¼šé˜Ÿåˆ—ä¸­åŒä¸€å±‚çš„èšåœ¨ä¸€èµ·ï¼Œä¸‹ä¸€å±‚çš„ä¸€å®šåœ¨å®ƒä»¬åé¢</p><p>æ³¨æ„æœ€å<code>step-1</code>ï¼Œå› ä¸ºåœ¨åˆ¤æ–­åˆ°é˜Ÿåˆ—ä¸ºç©ºä¹‹å‰ï¼Œåœ¨æœ€åä¸€å±‚bfsä¸­<code>step</code>ä¼šå¤šåŠ ä¸€æ¬¡ã€‚</p><p>ä¼˜åŒ–åæ•ˆæœ<br>112 ms    16.4 MB</p><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;queue></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;tuple></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> dis<span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">105</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> dire<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">maxDistance</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token operator">&amp;</span>grid<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> inf <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">30</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        queue<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">>></span> q<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// all islands or all ocean</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> n <span class="token operator">*</span> n <span class="token operator">||</span> q<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> step <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">int</span> size <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>size<span class="token operator">--</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> now <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> x <span class="token operator">=</span> now<span class="token punctuation">.</span>first<span class="token punctuation">;</span>                <span class="token keyword">int</span> y <span class="token operator">=</span> now<span class="token punctuation">.</span>second<span class="token punctuation">;</span>                q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    <span class="token keyword">int</span> nxt_x <span class="token operator">=</span> x <span class="token operator">+</span> dire<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token keyword">int</span> nxt_y <span class="token operator">=</span> y <span class="token operator">+</span> dire<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>nxt_x <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> nxt_x <span class="token operator">>=</span> n <span class="token operator">||</span> nxt_y <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> nxt_y <span class="token operator">>=</span> n<span class="token punctuation">)</span>                        <span class="token keyword">continue</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>grid<span class="token punctuation">[</span>nxt_x<span class="token punctuation">]</span><span class="token punctuation">[</span>nxt_y<span class="token punctuation">]</span><span class="token punctuation">)</span>                    <span class="token punctuation">{</span>                        <span class="token comment" spellcheck="true">// å¡«æµ·é€ é™†</span>                        grid<span class="token punctuation">[</span>nxt_x<span class="token punctuation">]</span><span class="token punctuation">[</span>nxt_y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                        q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>nxt_x<span class="token punctuation">,</span> nxt_y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            step<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// why step-1?</span>        <span class="token comment" spellcheck="true">// åœ¨æœ€åä¸€å±‚bfsä¸­stepä¼šå¤šåŠ ä¸€æ¬¡,åœ¨åˆ¤æ–­åˆ°é˜Ÿåˆ—ä¸ºç©ºä¹‹å‰</span>        <span class="token keyword">return</span> step <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="å¤šæºæœ€çŸ­è·¯-1"><a href="#å¤šæºæœ€çŸ­è·¯-1" class="headerlink" title="å¤šæºæœ€çŸ­è·¯"></a>å¤šæºæœ€çŸ­è·¯</h2><p>ç¬¬ä¸€æ¬¡è§åˆ°dijkstraèƒ½ç”¨æ¥æ±‚å¤šæºæœ€çŸ­è·¯çš„</p><p>è¯¦è§<a href="https://leetcode-cn.com/problems/as-far-from-land-as-possible/solution/di-tu-fen-xi-by-leetcode-solution/" target="_blank" rel="noopener">å®˜æ–¹é¢˜è§£</a></p><p>è¿™é‡Œä»¥ Dijkstra ç®—æ³•ä¸ºä¾‹ï¼Œæˆ‘ä»¬çŸ¥é“å †ä¼˜åŒ–çš„ Dijkstra ç®—æ³•å®é™…ä¸Šæ˜¯ BFS çš„ä¸€ä¸ªå˜å½¢ï¼ŒæŠŠ BFS ä¸­çš„é˜Ÿåˆ—å˜æˆäº†ä¼˜å…ˆé˜Ÿåˆ—ï¼Œåœ¨æ‹“å±•æ–°çŠ¶æ€çš„æ—¶å€™åŠ å…¥äº†æ¾å¼›æ“ä½œã€‚Dijkstra çš„å †ä¼˜åŒ–ç‰ˆæœ¬ç¬¬ä¸€æ­¥æ˜¯æºç‚¹å…¥é˜Ÿï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠå®ƒæ”¹æˆæºç‚¹é›†åˆä¸­çš„æ‰€æœ‰çš„ç‚¹å…¥é˜Ÿå°±å¯ä»¥å®ç°æ±‚ã€Œå¤šæºæœ€çŸ­è·¯ã€ã€‚</p><p><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/3-29-2020-03-29-21-25-40" alt="3-29-2020-03-29-21-25-40"></p><p>ä½†æ˜¯æ ¹æ®<a href="https://leetcode-cn.com/problems/as-far-from-land-as-possible/solution/di-tu-fen-xi-by-leetcode-solution/" target="_blank" rel="noopener">å®˜æ–¹é¢˜è§£</a>çš„åˆ†æï¼Œè¯¥ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ¯”å¤šæºbfsé«˜</p><h1 id="Coding-Game"><a href="#Coding-Game" class="headerlink" title="Coding Game"></a><a href="https://www.codingame.com/" target="_blank" rel="noopener">Coding Game</a></h1><p>è¾¹ç©æ¸¸æˆè¾¹å­¦ç¼–ç¨‹ï¼Œä½•ä¹è€Œä¸ä¸ºï¼Ÿ</p><h2 id="Clash-Of-Code"><a href="#Clash-Of-Code" class="headerlink" title="Clash Of Code"></a>Clash Of Code</h2><p>3 modes:</p><ul><li>shortest</li><li>fastest</li><li>reverse</li></ul><p>ç»ƒä¹ ç¼–ç¨‹ç†Ÿç»ƒåº¦ï¼Œè®©ä½ çš„ä»£ç æ›´ç®€æ´</p><h2 id="Contest"><a href="#Contest" class="headerlink" title="Contest"></a>Contest</h2><p>å‡ ä¸ªæœˆä¼šæ¢ä¸€æ¬¡æ¸¸æˆ</p><p>å†™ç¨‹åºæ¥ç©ä¸€ä¸ªæ¸¸æˆï¼Œä¸å…¶ä»–å¯¹æ‰‹å†™çš„ç¨‹åºè¿›è¡Œå¯¹æŠ—<br>å›¾å½¢åŒ–è°ƒè¯•ï¼Œç›´æ¥èƒ½çœ‹åˆ°å¯¹æˆ˜å½•åƒ</p><p>æ…å…¥ï¼Œä¼šä¸Šç˜¾</p><p>è¿™æ˜¯ä¸€ä¸ªé”»ç‚¼è‡ªå·±ç¼–ç¨‹èƒ½åŠ›çš„å¥½æœºä¼šï¼Œå‡ ç™¾è¡Œçš„ä»£ç é€»è¾‘ï¼Œæ€ä¹ˆå¿«é€Ÿå®šä½bugï¼Œå¿«é€Ÿè°ƒè¯•<br>å‡½æ•°/å˜é‡å‘½åï¼Œä»£ç æ•´åˆå¤ç”¨ï¼Œé¢å‘å¯¹è±¡éƒ½èƒ½ç”¨åˆ°</p><p><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/3-29-2020-03-29-23-57-37" alt="3-29-2020-03-29-23-57-37"></p><h1 id="Google-Kick-Start"><a href="#Google-Kick-Start" class="headerlink" title="Google Kick Start"></a>Google Kick Start</h1><h2 id="Diagonal-Puzzle"><a href="#Diagonal-Puzzle" class="headerlink" title="Diagonal Puzzle"></a><a href="https://codingcompetitions.withgoogle.com/kickstart/round/0000000000050edd/00000000001a2835" target="_blank" rel="noopener">Diagonal Puzzle</a></h2><p>è¿™é¢˜æœ‰æ¯’ï¼<br>æˆ‘å°è¯•ç”¨å…«çš‡åçš„ä½è¿ç®—æ¥å†™è¿™é“é¢˜ï¼Œä½†è¿™é“é¢˜å…³é”®æ˜¯dfsè‚¯å®šä¼šè¶…æ—¶ï¼Œè¦ä¼˜åŒ–ç®—æ³•</p><p><a href="https://xingw-xiong.ac.cn/2019/11/18/kick-start-2019H-B/" target="_blank" rel="noopener">https://xingw-xiong.ac.cn/2019/11/18/kick-start-2019H-B/</a></p><p><a href="https://zhuanlan.zhihu.com/p/94047090" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/94047090</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> Leetcode </tag>
            
            <tag> dp </tag>
            
            <tag> Coding Game </tag>
            
            <tag> Trie </tag>
            
            <tag> Graph </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.22 Notes</title>
      <link href="/2020/03/22/2020/3-22/"/>
      <url>/2020/03/22/2020/3-22/</url>
      
        <content type="html"><![CDATA[<h1 id="3-16-3-22-Learning-Notes"><a href="#3-16-3-22-Learning-Notes" class="headerlink" title="3.16-3.22 Learning Notes"></a>3.16-3.22 Learning Notes</h1><h1 id="Leetcode"><a href="#Leetcode" class="headerlink" title="Leetcode"></a>Leetcode</h1><h1 id="é€†åºå¯¹"><a href="#é€†åºå¯¹" class="headerlink" title="é€†åºå¯¹"></a><a href="https://leetcode-cn.com/problems/shu-zu-zhong-de-ni-xu-dui-lcof/" target="_blank" rel="noopener">é€†åºå¯¹</a></h1><p><a href="https://www.luogu.com.cn/problem/P1908" target="_blank" rel="noopener">æ´›è°·çš„æ•°æ®è¾ƒå¼º</a></p><p>å½’å¹¶æ’åºæ±‚é€†åºå¯¹<br>åªéœ€è¦åŠ ä¸Šä¸€è¡Œä»£ç <code>ans += mid - i + 1;</code></p><p>åœ¨åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„æ—¶ï¼Œè‹¥å‘ç°ä¸€ä¸ªé€†åºå¯¹<code>nums[i]&gt;nums[j]</code>ï¼Œåˆ™<code>nums[i]&gt;nums[mid+1]~nums[j]</code>ä¸”<code>nums[i]~nums[mid]&gt;nums[j]</code><br>ç”±äºæ­¤å¤„<code>j++</code>,<code>j</code>çš„çŠ¶æ€ä¼šä¸¢å¤±ï¼Œæ‰€ä»¥å–è¿™ç§æƒ…å†µ<code>nums[i]~nums[mid]&gt;nums[j]</code><br>å…±<code>mid-i+1</code>ä¸ªé€†åºå¯¹</p><h3 id="code"><a href="#code" class="headerlink" title="code"></a>code</h3><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">mergeSort</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>nums<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">==</span> right<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token function">mergeSort</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> left<span class="token punctuation">,</span> mid<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">mergeSort</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> left<span class="token punctuation">,</span> j <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> sortNums<span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> mid <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                ans <span class="token operator">+</span><span class="token operator">=</span> mid <span class="token operator">-</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>                sortNums<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">else</span>            <span class="token punctuation">{</span>                sortNums<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> mid<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            sortNums<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            sortNums<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> left<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> right<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> sortNums<span class="token punctuation">[</span>i <span class="token operator">-</span> left<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// cout &lt;&lt; left &lt;&lt; " " &lt;&lt; right &lt;&lt; " " &lt;&lt; ans &lt;&lt; endl;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> <span class="token function">reversePairs</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>nums<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;=</span><span class="token number">1</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token function">mergeSort</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h1 id="æ±‚LISä¸ªæ•°ï¼šO-nlogn-çš„ä¸¤ç§è§£æ³•ï¼ˆçŸ¥ä¹ï¼‰"><a href="#æ±‚LISä¸ªæ•°ï¼šO-nlogn-çš„ä¸¤ç§è§£æ³•ï¼ˆçŸ¥ä¹ï¼‰" class="headerlink" title="æ±‚LISä¸ªæ•°ï¼šO(nlogn)çš„ä¸¤ç§è§£æ³•ï¼ˆçŸ¥ä¹ï¼‰"></a><a href="https://www.zhihu.com/question/34905638" target="_blank" rel="noopener">æ±‚LISä¸ªæ•°ï¼šO(nlogn)çš„ä¸¤ç§è§£æ³•ï¼ˆçŸ¥ä¹ï¼‰</a></h1><h2 id="1-ç”¨æ ‘çŠ¶æ•°ç»„ç»´æŠ¤LISä¸ªæ•°"><a href="#1-ç”¨æ ‘çŠ¶æ•°ç»„ç»´æŠ¤LISä¸ªæ•°" class="headerlink" title="1. ç”¨æ ‘çŠ¶æ•°ç»„ç»´æŠ¤LISä¸ªæ•°"></a><a href="https://leetcode-cn.com/problems/number-of-longest-increasing-subsequence/solution/yi-bu-yi-bu-tui-dao-chu-zui-you-jie-fa-2-zui-chang/" target="_blank" rel="noopener">1. ç”¨æ ‘çŠ¶æ•°ç»„ç»´æŠ¤LISä¸ªæ•°</a></h2><p>æ ‘çŠ¶æ•°ç»„éƒ¨åˆ†æ˜¯æ‘˜å½•<a href="https://leetcode-cn.com/problems/number-of-longest-increasing-subsequence/solution/yi-bu-yi-bu-tui-dao-chu-zui-you-jie-fa-2-zui-chang/" target="_blank" rel="noopener">newharçš„é¢˜è§£</a></p><p><img src="https://pic.leetcode-cn.com/9970ce5aed18da146aab5fe252f514f5b3379a2b77754fc2209f84de0ce13f67-file_1584698528497" alt="20200317170811.png"></p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span>    <span class="token keyword">class</span> <span class="token class-name">Node</span>    <span class="token punctuation">{</span>    <span class="token keyword">public</span><span class="token operator">:</span>        <span class="token keyword">int</span> maxlength<span class="token punctuation">,</span> cnt<span class="token punctuation">;</span>        <span class="token function">Node</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            maxlength <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// åŒºé—´åˆå¹¶æ³•åˆ™</span>        <span class="token comment" spellcheck="true">// override: +=</span>        Node <span class="token keyword">operator</span><span class="token operator">+</span><span class="token operator">=</span><span class="token punctuation">(</span>Node <span class="token operator">&amp;</span>b<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">.</span>maxlength <span class="token operator">==</span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">></span>maxlength<span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">></span>cnt <span class="token operator">+</span><span class="token operator">=</span> b<span class="token punctuation">.</span>cnt<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">.</span>maxlength <span class="token operator">></span> <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">></span>maxlength<span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">></span>maxlength <span class="token operator">=</span> b<span class="token punctuation">.</span>maxlength<span class="token punctuation">;</span>                <span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">></span>cnt <span class="token operator">=</span> b<span class="token punctuation">.</span>cnt<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">lowbit</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> x <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token operator">-</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">// æ›´æ–°ä¸€ä¸ªç‚¹åå‘ä¸Šæ›´æ–°</span>    <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span>Node nodes<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> rank<span class="token punctuation">,</span> Node now<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> rank <span class="token operator">&lt;=</span> size<span class="token punctuation">;</span> rank <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">lowbit</span><span class="token punctuation">(</span>rank<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            nodes<span class="token punctuation">[</span>rank<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> now<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">// å•ç‚¹æŸ¥æ‰¾</span>    Node <span class="token function">query</span><span class="token punctuation">(</span>Node nodes<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> rank<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        Node res<span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>rank<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            res <span class="token operator">+</span><span class="token operator">=</span> nodes<span class="token punctuation">[</span>rank<span class="token punctuation">]</span><span class="token punctuation">;</span>            rank <span class="token operator">-</span><span class="token operator">=</span> <span class="token function">lowbit</span><span class="token punctuation">(</span>rank<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> res<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">findNumberOfLIS</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>nums<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">return</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">sortnums</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sort</span><span class="token punctuation">(</span>sortnums<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> sortnums<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        Node nodes<span class="token punctuation">[</span>nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token function">Node</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>        Node ans <span class="token operator">=</span> <span class="token function">Node</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// æŒ‰nums[]é¡ºåºéå†ï¼Œä¿è¯j&lt;iè¿™ä¸ªæ¡ä»¶,åŒæ—¶åˆç”¨äºŒåˆ†æŸ¥æ‰¾æ‰¾å‡ºå½“å‰æ•°numçš„ä¸‹ç•Œnums[rank]</span>        <span class="token comment" spellcheck="true">// ä»¥nums[rank]ç»“å°¾çš„LISæ˜¯æœ€é•¿çš„ï¼ˆä¹‹ä¸€ï¼‰,é•¿åº¦ä¸ºlmax</span>        <span class="token comment" spellcheck="true">// é•¿åº¦ä¸ºlmaxçš„LISä¸ªæ•°å·²ç»åœ¨æ ‘çŠ¶æ•°ç»„ä¸­ï¼ŒæŸ¥è¯¢åå¯å¾—åˆ°</span>        <span class="token comment" spellcheck="true">// æŠŠå½“å‰æ•°numåŠ åˆ°æ ‘çŠ¶æ•°ç»„é‡Œé¢</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> num <span class="token operator">:</span> nums<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// äºŒåˆ†æœç´¢å½“å‰æ•°çš„ä¸‹ç•Œæ’å</span>            <span class="token keyword">int</span> rank <span class="token operator">=</span> <span class="token function">lower_bound</span><span class="token punctuation">(</span>sortnums<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> sortnums<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span> <span class="token operator">-</span> sortnums<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            Node now <span class="token operator">=</span> <span class="token function">query</span><span class="token punctuation">(</span>nodes<span class="token punctuation">,</span> rank<span class="token punctuation">)</span><span class="token punctuation">;</span>            now<span class="token punctuation">.</span>maxlength<span class="token operator">++</span><span class="token punctuation">;</span>            now<span class="token punctuation">.</span>cnt <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>now<span class="token punctuation">.</span>cnt<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            ans <span class="token operator">+</span><span class="token operator">=</span> now<span class="token punctuation">;</span>            <span class="token function">add</span><span class="token punctuation">(</span>nodes<span class="token punctuation">,</span> rank <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> now<span class="token punctuation">,</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">.</span>cnt<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="2-ä»€ä¹ˆæ˜¯CDQåˆ†æ²»"><a href="#2-ä»€ä¹ˆæ˜¯CDQåˆ†æ²»" class="headerlink" title="2. ä»€ä¹ˆæ˜¯CDQåˆ†æ²»"></a><a href="https://oi-wiki.org/misc/cdq-divide/" target="_blank" rel="noopener">2. ä»€ä¹ˆæ˜¯CDQåˆ†æ²»</a></h2><p>LISæ˜¯ä¸€ä¸ªäºŒç»´ååºé—®é¢˜ã€‚<br>æ¥çœ‹çœ‹LISçš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š<br><code>Lis[i]=max{Lis[j]+1}   j&lt;i &amp;&amp; nums[j]&lt;nums[i]</code><br>æ­¤å¤„çš„ç‚¹å¯¹æ˜¯<code>(i,nums[i])</code></p><p><img src="https://pic.leetcode-cn.com/99a2d255dddfe5f7e1724be1445a52a9eb30712b10e5ff4dc2e857458ef46068-file_1584698528489" alt="20200316093244.png"></p><p><img src="https://pic.leetcode-cn.com/19d86de5d4818cdaec81753811f5b9adfcdcd30ee7ede01d7c15642c843c9487-file_1584698528495" alt="20200316093734.png"></p><h3 id="cdqæ±‚LISé•¿åº¦"><a href="#cdqæ±‚LISé•¿åº¦" class="headerlink" title="cdqæ±‚LISé•¿åº¦"></a>cdqæ±‚LISé•¿åº¦</h3><p><strong>cdqçš„æœ¬è´¨ï¼šåˆ†æ²»è¿‡ç¨‹ä¸­ç”¨å·¦è¾¹çš„ä¿¡æ¯æ›´æ–°å³è¾¹çš„</strong></p><h3 id="çŠ¶æ€å®šä¹‰"><a href="#çŠ¶æ€å®šä¹‰" class="headerlink" title="çŠ¶æ€å®šä¹‰"></a>çŠ¶æ€å®šä¹‰</h3><p><code>Length_Lis[i]</code>è¡¨ç¤ºä»¥ç¬¬<code>i</code>ä¸ªå…ƒç´ ä¸ºç»“å°¾çš„LISé•¿åº¦</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>nums_copy<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">==</span> nums_copy<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> a <span class="token operator">></span> b<span class="token punctuation">;</span>    <span class="token keyword">return</span> nums_copy<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums_copy<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">cdq</span><span class="token punctuation">(</span><span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">==</span> right<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Length_Lis<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            Length_Lis<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token function">cdq</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> mid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// ç”¨å·¦è¾¹çš„ä¿¡æ¯æ›´æ–°å³è¾¹çš„</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> left<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> right<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        id<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">sort</span><span class="token punctuation">(</span>id <span class="token operator">+</span> left<span class="token punctuation">,</span> id <span class="token operator">+</span> right <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> cmp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// æ’åºåçš„nums[left,right]å•è°ƒé€’å¢</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> left<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> right<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// å½“å‰æ•°åœ¨å·¦è¾¹ï¼Œå·¦è¾¹å·²ç»æœ‰è§£ï¼Œæ›´æ–°å½“å‰LISé•¿åº¦</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> mid<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            len <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>len<span class="token punctuation">,</span> Length_Lis<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// å½“å‰æ•°åœ¨å³è¾¹ï¼Œæ›´æ–°LIS</span>        <span class="token comment" spellcheck="true">// æ»¡è¶³äºŒç»´ååºï¼šid[i]&lt;id[j] and nums[i]&lt;nums[j]</span>        <span class="token keyword">else</span>        <span class="token punctuation">{</span>            Length_Lis<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>Length_Lis<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> len <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>Length_Lis<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">></span> Maxlen<span class="token punctuation">)</span>            <span class="token punctuation">{</span>                Maxlen <span class="token operator">=</span> Length_Lis<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">cdq</span><span class="token punctuation">(</span>mid<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>é‚£æ€ä¹ˆæ±‚LISä¸ªæ•°å‘¢ï¼Ÿ  </p><h3 id="å®šä¹‰çŠ¶æ€"><a href="#å®šä¹‰çŠ¶æ€" class="headerlink" title="å®šä¹‰çŠ¶æ€"></a>å®šä¹‰çŠ¶æ€</h3><p><code>Num_Lis[i]</code>è¡¨ç¤ºä»¥ç¬¬<code>i</code>ä¸ªå…ƒç´ ä¸ºç»“å°¾çš„LISçš„ä¸ªæ•°<br>åœ¨cdqé€’å½’ç»“æŸåï¼Œå†ç»Ÿè®¡æ‰€æœ‰å…ƒç´ ä¸­çš„LISçš„ä¸ªæ•°<code>Maxnum</code></p><h3 id="è½¬ç§»çŠ¶æ€ï¼ˆç”¨å·¦è¾¹æ›´æ–°å³è¾¹ï¼‰çš„æ¡ä»¶"><a href="#è½¬ç§»çŠ¶æ€ï¼ˆç”¨å·¦è¾¹æ›´æ–°å³è¾¹ï¼‰çš„æ¡ä»¶" class="headerlink" title="è½¬ç§»çŠ¶æ€ï¼ˆç”¨å·¦è¾¹æ›´æ–°å³è¾¹ï¼‰çš„æ¡ä»¶"></a>è½¬ç§»çŠ¶æ€ï¼ˆç”¨å·¦è¾¹æ›´æ–°å³è¾¹ï¼‰çš„æ¡ä»¶</h3><p>é¦–å…ˆä¸€å®šè¦æ»¡è¶³LISçš„æ¡ä»¶<code>id[i]&lt;id[j] and nums[i]&lt;nums[j]</code>ï¼ˆäºŒç»´ååºï¼‰</p><p>æ»¡è¶³äºŒç»´ååºåçš„ä¸¤ç§è½¬ç§»æ–¹å¼ï¼š</p><ol><li>ä»¥å³è¾¹å…ƒç´ ä¸ºç»“å°¾çš„LISé•¿åº¦=ä»¥å·¦è¾¹å…ƒç´ ä¸ºç»“å°¾çš„LISé•¿åº¦+1 â€“&gt; ä»¥å³è¾¹å…ƒç´ ä¸ºç»“å°¾çš„LISä¸ªæ•°+=ä»¥å·¦è¾¹å…ƒç´ ä¸ºç»“å°¾çš„LISä¸ªæ•°</li><li>ä»¥å³è¾¹å…ƒç´ ä¸ºç»“å°¾çš„LISé•¿åº¦&lt;ä»¥å·¦è¾¹å…ƒç´ ä¸ºç»“å°¾çš„LISé•¿åº¦+1 â€“&gt; ä»¥å³è¾¹å…ƒç´ ä¸ºç»“å°¾çš„LISä¸ªæ•°=ä»¥å·¦è¾¹å…ƒç´ ä¸ºç»“å°¾çš„LISä¸ªæ•°ï¼›ä»¥å³è¾¹å…ƒç´ ä¸ºç»“å°¾çš„LISé•¿åº¦=ä»¥å·¦è¾¹å…ƒç´ ä¸ºç»“å°¾çš„LISé•¿åº¦+1</li></ol><h3 id="æœ€é•¿ä¸Šå‡åºåˆ—"><a href="#æœ€é•¿ä¸Šå‡åºåˆ—" class="headerlink" title="æœ€é•¿ä¸Šå‡åºåˆ—"></a>æœ€é•¿ä¸Šå‡åºåˆ—</h3><p>ç‰¹åˆ¤ä¸€ä¸‹ä»¥å·¦è¾¹å…ƒç´ ä¸ºç»“å°¾çš„LISé•¿åº¦ä¸º0çš„æƒ…å†µï¼Œä¸è½¬ç§»<br>è¿™ä¸€é“é¢˜æ±‚çš„æ˜¯æœ€é•¿ä¸Šå‡åºåˆ—çš„ä¸ªæ•°<br><strong>æœ€é•¿ä¸Šå‡åºåˆ—!=æœ€é•¿ä¸ä¸‹é™åºåˆ—</strong>  </p><pre><code>[2,2,2,2,2]LISé•¿åº¦ä¸º1ï¼Œä¸ªæ•°ä¸º5</code></pre><h3 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h3><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> nums_copy<span class="token punctuation">[</span><span class="token number">2005</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>nums_copy<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">==</span> nums_copy<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> a <span class="token operator">></span> b<span class="token punctuation">;</span>    <span class="token keyword">return</span> nums_copy<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums_copy<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> Num_Lis<span class="token punctuation">[</span><span class="token number">2005</span><span class="token punctuation">]</span><span class="token punctuation">,</span> id<span class="token punctuation">[</span><span class="token number">2005</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Length_Lis<span class="token punctuation">[</span><span class="token number">2005</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> Maxnum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> Maxlen <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">cdq</span><span class="token punctuation">(</span><span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">==</span> right<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Length_Lis<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                Length_Lis<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                Num_Lis<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token function">cdq</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> mid<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// ç”¨å·¦è¾¹çš„ä¿¡æ¯æ›´æ–°å³è¾¹çš„</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> left<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> right<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            id<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">sort</span><span class="token punctuation">(</span>id <span class="token operator">+</span> left<span class="token punctuation">,</span> id <span class="token operator">+</span> right <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> cmp<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// æ’åºåçš„nums[left,right]å•è°ƒé€’å¢</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> left<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> right<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// å½“å‰æ•°åœ¨å·¦è¾¹ï¼Œå·¦è¾¹å·²ç»æœ‰è§£ï¼Œæ›´æ–°å½“å‰LISé•¿åº¦</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> mid<span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">&lt;</span> Length_Lis<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    len <span class="token operator">=</span> Length_Lis<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                    num <span class="token operator">=</span> Num_Lis<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">==</span> Length_Lis<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    num <span class="token operator">+</span><span class="token operator">=</span> Num_Lis<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">// å½“å‰æ•°åœ¨å³è¾¹ï¼Œæ›´æ–°LIS</span>            <span class="token comment" spellcheck="true">// æ»¡è¶³äºŒç»´ååºï¼šid[i]&lt;id[j] and nums[i]&lt;nums[j]</span>            <span class="token keyword">else</span>            <span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">// len=0è¡¨ç¤ºæ²¡æœ‰ä¿¡æ¯å¯ä»¥è½¬ç§»</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>len<span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    <span class="token keyword">continue</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>Length_Lis<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> len <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    Num_Lis<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> num<span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>Length_Lis<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> len <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    Length_Lis<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> len <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>                    Num_Lis<span class="token punctuation">[</span>id<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> num<span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token function">cdq</span><span class="token punctuation">(</span>mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> <span class="token function">findNumberOfLIS</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>nums<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            nums_copy<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">cdq</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        Maxnum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        Maxlen <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>Length_Lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> Maxlen<span class="token punctuation">)</span>            <span class="token punctuation">{</span>                Maxlen <span class="token operator">=</span> Length_Lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>                Maxnum <span class="token operator">=</span> Num_Lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>Length_Lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> Maxlen<span class="token punctuation">)</span>                Maxnum <span class="token operator">+</span><span class="token operator">=</span> Num_Lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> Maxnum<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3 id="é¢˜åæ€è€ƒï¼šä¸ºä»€ä¹ˆè®©ç›¸ç­‰çš„ä¸¤ä¸ªå…ƒç´ æŒ‰åŸå§‹ä½ç½®å€’åºæ’åˆ—ï¼Ÿ"><a href="#é¢˜åæ€è€ƒï¼šä¸ºä»€ä¹ˆè®©ç›¸ç­‰çš„ä¸¤ä¸ªå…ƒç´ æŒ‰åŸå§‹ä½ç½®å€’åºæ’åˆ—ï¼Ÿ" class="headerlink" title="é¢˜åæ€è€ƒï¼šä¸ºä»€ä¹ˆè®©ç›¸ç­‰çš„ä¸¤ä¸ªå…ƒç´ æŒ‰åŸå§‹ä½ç½®å€’åºæ’åˆ—ï¼Ÿ"></a>é¢˜åæ€è€ƒï¼šä¸ºä»€ä¹ˆè®©ç›¸ç­‰çš„ä¸¤ä¸ªå…ƒç´ æŒ‰åŸå§‹ä½ç½®å€’åºæ’åˆ—ï¼Ÿ</h3><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// Why?</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>nums_copy<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">==</span> nums_copy<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> a <span class="token operator">></span> b<span class="token punctuation">;</span>    <span class="token keyword">return</span> nums_copy<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums_copy<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>å¦‚æœæ­£åºä¼šæ€ä¹ˆæ ·ï¼Ÿ</p><p>è®©æˆ‘ä»¬å¯¹æ¯”ä¸¤ç§æ’åºæ–¹å¼äº§ç”Ÿçš„æ•ˆæœï¼š</p><pre><code>e.g.1,2a,2b,4(ç”¨a,bè®°å½•å®ƒä»¬çš„åŸå§‹ä½ç½®)1st: if (nums_copy[a] == nums_copy[b])    return a &gt; b;1,2b,2a,42nd:if (nums_copy[a] == nums_copy[b])    return a &lt; b;1,2a,2b,4å› ä¸ºè¿™é“é¢˜æ±‚çš„æ˜¯æœ€é•¿ä¸Šå‡åºåˆ—ï¼Œæ‰€ä»¥2açš„çŠ¶æ€ä¸èƒ½è½¬ç§»ç»™2bã€‚æŒ‰æ­£åºæ’åˆ—ï¼Œ2açš„çŠ¶æ€ä¼šè½¬ç§»ç»™2bã€‚é‚£å¦‚æœæˆ‘ä»¬ç‰¹åˆ¤åœ¨å·¦è¾¹çš„å‰ä¸€ä¸ªå…ƒç´ æ˜¯å¦ä¸å½“å‰å³è¾¹çš„å…ƒç´ ç›¸ç­‰ï¼Œä¹Ÿå°±æ˜¯2a==2b?ï¼Œè¿™æ ·æ˜¯å¦å¯è¡Œå‘¢ï¼Ÿif (pre == nums_copy[id[i]])    continue;ç­”æ¡ˆæ˜¯ä¸è¡Œï¼Œå› ä¸ºè¿™æ ·1çš„ä¿¡æ¯ä¼šä¸¢å¤±ï¼Œæ— æ³•è½¬ç§»åˆ°2bä¸Šã€‚</code></pre><h2 id="å†™åœ¨æœ€å"><a href="#å†™åœ¨æœ€å" class="headerlink" title="å†™åœ¨æœ€å"></a>å†™åœ¨æœ€å</h2><p>æœ‰ä¸€è¯´ä¸€ï¼Œcdqåˆ†æ²»ç¡®å®æœ‰ç‚¹éš¾åº¦ï¼Œæˆ‘èŠ±äº†å‡ å¤©çš„æ—¶é—´åœ¨ä¸Šé¢ã€‚<br>éš¾ç‚¹å°±åœ¨äºæ€ä¹ˆç”¨å·¦è¾¹çš„ä¿¡æ¯æ›´æ–°å³è¾¹çš„ï¼Œä»€ä¹ˆæ—¶å€™æ›´æ–°ï¼Œè€Œä¸”ä¸èƒ½ç”¨å³è¾¹çš„ä¿¡æ¯æ›´æ–°å³è¾¹çš„ä¿¡æ¯ã€‚<br>è¿™ç§åˆ†æ²»çš„æ€æƒ³ç¡®å®å¾ˆç¥å¥‡ã€‚</p><p>å½“ç„¶ï¼Œæ ‘çŠ¶æ•°ç»„çš„è§£æ³•ä¹Ÿå¾ˆç¥å¥‡ï¼Œ<a href="https://leetcode-cn.com/problems/number-of-longest-increasing-subsequence/solution/yi-bu-yi-bu-tui-dao-chu-zui-you-jie-fa-2-zui-chang/" target="_blank" rel="noopener">è¿™ä½å¤§ä½¬çš„é¢˜è§£</a>å€¼å¾—ä¸€çœ‹ã€‚</p><p><a href="https://zhuanlan.zhihu.com/p/55322598" target="_blank" rel="noopener">æ‹“å±•ï¼šCDQå¤šç»´åˆ†æ²»</a></p><h1 id="æœ€å¤§å­çŸ©é˜µ"><a href="#æœ€å¤§å­çŸ©é˜µ" class="headerlink" title="æœ€å¤§å­çŸ©é˜µ"></a><a href="https://leetcode-cn.com/problems/max-submatrix-lcci/" target="_blank" rel="noopener">æœ€å¤§å­çŸ©é˜µ</a></h1><h2 id="äºŒç»´å‰ç¼€å’Œ"><a href="#äºŒç»´å‰ç¼€å’Œ" class="headerlink" title="äºŒç»´å‰ç¼€å’Œ"></a><a href="https://www.cnblogs.com/OIerShawnZhou/p/7348088.html" target="_blank" rel="noopener">äºŒç»´å‰ç¼€å’Œ</a></h2><p><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/20200319144759.png" alt="20200319144759.png"></p><pre><code>sum[i][j] = sum[i][j - 1] + sum[i - 1][j] + matrix[i - 1][j - 1] - sum[i - 1][j - 1];</code></pre><h3 id="äºŒç»´å‰ç¼€å’Œ-æš´åŠ›-O-n-2m-2"><a href="#äºŒç»´å‰ç¼€å’Œ-æš´åŠ›-O-n-2m-2" class="headerlink" title="äºŒç»´å‰ç¼€å’Œ+æš´åŠ›$O(n^2m^2)$"></a>äºŒç»´å‰ç¼€å’Œ+æš´åŠ›$O(n^2m^2)$</h3><pre class=" language-cpp"><code class="language-cpp"><span class="token comment" spellcheck="true">// O(n^2m^2)</span><span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> m <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> ans<span class="token punctuation">;</span><span class="token keyword">int</span> sum<span class="token punctuation">[</span><span class="token number">205</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">205</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// init</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> sum<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> matrix<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> sum<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// brute force</span><span class="token keyword">int</span> maxn <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> i<span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> w <span class="token operator">=</span> j<span class="token punctuation">;</span> w <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> w<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">int</span> curSum <span class="token operator">=</span> sum<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">+</span> sum<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> sum<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> sum<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>curSum <span class="token operator">></span> maxn<span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    maxn <span class="token operator">=</span> curSum<span class="token punctuation">;</span>                    ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> w <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="dp"><a href="#dp" class="headerlink" title="dp"></a>dp</h2><h3 id="ä¸€ç§é”™è¯¯çš„æ€è·¯"><a href="#ä¸€ç§é”™è¯¯çš„æ€è·¯" class="headerlink" title="ä¸€ç§é”™è¯¯çš„æ€è·¯"></a>ä¸€ç§é”™è¯¯çš„æ€è·¯</h3><p>äº‹å®è¯æ˜ï¼Œå¦‚æœä¸€å¼€å§‹æ€è·¯æ˜¯é”™çš„ï¼Œæ€ä¹ˆåšéƒ½æ˜¯é”™çš„</p><pre><code>f[i][j]è¡¨ç¤ºä»¥(i,j)ä¸ºå³ä¸‹è§’çš„æœ€å¤§çŸ©é˜µå’Œf[i][j]=max{matrix[i][j],(i-1,j-1)è½¬ç§»,(i-1,j)è½¬ç§»,(i,j-1)è½¬ç§»}g[i][j]è¡¨ç¤ºä»¥(i,j)ä¸ºå³ä¸‹è§’çš„æœ€å¤§çŸ©é˜µçš„å·¦ä¸Šè§’åæ ‡(i,j)ä»(i-1,j-1)æˆ–(i-1,j)æˆ–(i,j-1)è½¬ç§»è¿‡æ¥ï¼š</code></pre><p><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/4566e6b10357bbe759524708d095a05.jpg" alt="4566e6b10357bbe759524708d095a05.jpg"></p><pre class=" language-cpp"><code class="language-cpp">x <span class="token operator">=</span> g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>first<span class="token punctuation">,</span> y <span class="token operator">=</span> g<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>second<span class="token punctuation">;</span><span class="token keyword">int</span> left <span class="token operator">=</span> sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> sum<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">-</span> sum<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span>x <span class="token operator">=</span> g<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>first<span class="token punctuation">,</span> y <span class="token operator">=</span> g<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>second<span class="token punctuation">;</span><span class="token keyword">int</span> top <span class="token operator">=</span> sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> sum<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">-</span> sum<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span>x <span class="token operator">=</span> g<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>first<span class="token punctuation">,</span> y <span class="token operator">=</span> g<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>second<span class="token punctuation">;</span><span class="token keyword">int</span> diagonal <span class="token operator">=</span> sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> sum<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">-</span> sum<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">(</span>çœ‹èµ·æ¥å¾ˆæœ‰é“ç†æ˜¯å—<span class="token operator">?</span><span class="token punctuation">)</span></code></pre><p>åä¾‹</p><pre><code>-1  -28   -92    9maxn=11!=102 9æ˜¯è½¬ç§»ä¸åˆ°çš„</code></pre><p><strong>æ³¨æ„ï¼šæœ€ä¼˜å­ç»“æ„å’Œæ— åæ•ˆæ€§</strong></p><h3 id="æ­£ç¡®çš„dp"><a href="#æ­£ç¡®çš„dp" class="headerlink" title="æ­£ç¡®çš„dp"></a><a href="https://leetcode-cn.com/problems/max-submatrix-lcci/solution/zhe-yao-cong-zui-da-zi-xu-he-shuo-qi-you-jian-dao-/" target="_blank" rel="noopener">æ­£ç¡®çš„dp</a></h3><p>æŠŠäºŒç»´çš„æœ€å¤§çŸ©é˜µå’Œè½¬åŒ–ä¸ºä¸€ç»´çš„æœ€å¤§å­æ®µå’Œ</p><p><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/20200319211407.png" alt="20200319211407.png"></p><p>æšä¸¾<code>i,j</code>,æ±‚æ•°ç»„<code>b</code>çš„æœ€å¤§å­—æ®µå’Œ</p><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">getMaxMatrix</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token operator">&amp;</span>matrix<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> matrix<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> m <span class="token operator">=</span> matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> ans <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> row<span class="token punctuation">[</span><span class="token number">205</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> maxn <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token function">memset</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">int</span> maxSum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    row<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> matrix<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>                    maxSum <span class="token operator">+</span><span class="token operator">=</span> row<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>maxSum <span class="token operator">></span> maxn<span class="token punctuation">)</span>                    <span class="token punctuation">{</span>                        maxn <span class="token operator">=</span> maxSum<span class="token punctuation">;</span>                        ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">,</span> ans<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> left<span class="token punctuation">,</span> ans<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> j<span class="token punctuation">,</span> ans<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> k<span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>maxSum <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>                    <span class="token punctuation">{</span>                        maxSum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                        left <span class="token operator">=</span> k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>å¤ªéš¾äº†ï¼Œç»ˆäºACäº†</p><p><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/20200319215201.png" alt="20200319215201.png"></p><h1 id="ä¸€é“æœ‰è¶£çš„bfsé¢˜"><a href="#ä¸€é“æœ‰è¶£çš„bfsé¢˜" class="headerlink" title="ä¸€é“æœ‰è¶£çš„bfsé¢˜"></a><a href="https://leetcode-cn.com/problems/check-if-there-is-a-valid-path-in-a-grid/submissions/" target="_blank" rel="noopener">ä¸€é“æœ‰è¶£çš„bfsé¢˜</a></h1><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p><strong>è¡—é“ï¼šæŠŠè¡—é“ä¸¤ä¾§çš„ä¸¤ä¸ªç‚¹ï¼ˆä¸åŒ…æ‹¬è¡—é“æ‰€åœ¨çš„ç‚¹ï¼‰è¿æ¥èµ·æ¥</strong></p><p><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/20200322212949.png" alt="20200322212949.png"><br>å¦‚å›¾æ‰€ç¤ºï¼Œå·¦ä¸Šè§’çš„è¡—é“<code>(0,0)</code>å°†ä¸¤ä¸ªç‚¹<code>(0,-1)</code>,<code>(0,1)</code>è¿æ¥èµ·æ¥</p><p>åŠ åˆ°é˜Ÿåˆ—é‡Œé¢çš„æ˜¯ç‚¹ï¼Œä¸æ˜¯è¡—é“<br>å®šä¹‰å®Œè¡—é“ä»¥åï¼Œå¯ä»¥å¼€å§‹éå†äº†ï¼Œä»å·¦ä¸Šè§’<code>(0,0)</code>å¼€å§‹bfsï¼Œçœ‹çœ‹å½“å‰ç‚¹çš„è¡—é“æŠŠå“ªä¸¤ä¸ªç‚¹è¿åœ¨ä¸€èµ·äº†ï¼Ÿ</p><p>è¿™é‡Œæˆ‘åŠ äº†ä¸¤ä¸ªæ•°ç»„ç®€åŒ–ç¨‹åº,å…¶ä¸­ç¬¬0ä½æ˜¯æ²¡ç”¨çš„ï¼Œåé¢çš„ç¬¬iä½å¯¹åº”ç¬¬iç±»è¡—é“</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> xdir<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span> ydir<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>ç­‰ä»·äº<span class="token keyword">switch</span> <span class="token punctuation">(</span>grid<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span>    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span> <span class="token number">5</span><span class="token operator">:</span>    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token keyword">case</span> <span class="token number">6</span><span class="token operator">:</span>    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>ä½†æ˜¯å…‰è¿™æ ·å†™ä¸èƒ½ACï¼Œæœ€åä¸‰ä¸ªç‚¹è¿‡ä¸å»ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ  </p><p>çœ‹ä¸€çœ‹æ•°æ®:</p><pre><code>[[1,1,2]]æ¨ªæ¨ªç«–</code></pre><p>ç¬¬äºŒä¸ªç‚¹æŠŠç¬¬ä¸€å’Œç¬¬ä¸‰ä¸ªç‚¹è¿èµ·æ¥äº†ï¼Œä½†æ˜¯ç¬¬ä¸‰ä¸ªç‚¹æ˜¯åˆ°ä¸äº†ç¬¬äºŒä¸ªç‚¹çš„<br>æ‰€ä»¥æˆ‘ä»¬ä¸ä»…è¦åˆ¤æ–­ä»ç¬¬ä¸€ä¸ªç‚¹èƒ½å¦åˆ°ç¬¬ä¸‰ä¸ªç‚¹ï¼Œè¿˜è¦åˆ¤æ–­ä»ç¬¬ä¸‰ä¸ªç‚¹èƒ½å¦å›åˆ°ç¬¬ä¸€ä¸ªç‚¹</p><p>é‚£å°±ç®—ä¸€ç®—å‘—ï¼šç”±å½“å‰ç‚¹å¯ä»¥æ¨å‡ºè¢«å½“å‰ç‚¹æ‰€åœ¨è¡—é“è¿æ¥çš„ä¸¤ä¸ªç‚¹<code>a,b</code>ï¼Œç”±<code>a</code>ç‚¹æ‰€åœ¨çš„è¡—é“åˆå¯ä»¥æ¨å›æ¥ï¼Œçœ‹ä¸€çœ‹èƒ½å¦åˆ°è¾¾å½“å‰ç‚¹,<code>b</code>ç‚¹åŒç†ï¼Œä¹Ÿåˆ¤æ–­ä¸€æ¬¡ã€‚<br>è¿™æ ·å°±èƒ½å¤Ÿä¿è¯è¯¥æ¡è¡—é“æ˜¯åŒå‘çš„äº†ã€‚</p><pre class=" language-cpp"><code class="language-cpp">å€’æ¨å›å½“å‰ç‚¹çš„æ—¶å€™ï¼Œè¦åˆ¤æ–­ä¸¤ä¸ªç‚¹ï¼Œå› ä¸ºä¸€æ¡è¡—é“è¿æ¥ä¸¤ä¸ªç‚¹ï¼Œå½“å‰ç‚¹å¯èƒ½æ˜¯å…¶ä¸­çš„ä¸€ä¸ª<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">calNxt</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> nx<span class="token punctuation">,</span> ny<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">make_pair</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">calNxt</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> nx<span class="token punctuation">,</span> ny<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>nx<span class="token punctuation">,</span> ny<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="unordered-set"><a href="#unordered-set" class="headerlink" title="unordered_set"></a><code>unordered_set</code></h2><p>è¿™ä¸ªæ˜¯ç”¨æ¥æŸ¥é‡çš„ï¼Œå°±æ˜¯ä¸€ä¸ªå­˜äº†<code>pair</code>çš„hashå‡½æ•°<br>é‡è½½hashå‡½æ•°é‚£é‡Œæˆ‘ä¹Ÿä¸å¤ªæ‡‚ï¼Œæ˜¯æŠ„åˆ«äººçš„ï¼Œå¯ä»¥ä¸Šå»çœ‹çœ‹<a href="https://zh.cppreference.com/w/cpp/container/unordered_set" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p><pre class=" language-cpp"><code class="language-cpp">å½“æ‰¾ä¸åˆ°nowçš„æ—¶å€™<span class="token punctuation">,</span>mark<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span>ä¼šè¿”å›mark<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>æ‰¾åˆ°nowå°±è¯´æ˜è¿™ä¸ªç‚¹ä¹‹å‰å·²ç»éå†è¿‡äº†ï¼Œäºæ˜¯è·³è¿‡å®ƒ<span class="token keyword">if</span> <span class="token punctuation">(</span>mark<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span> <span class="token operator">!=</span> mark<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">continue</span><span class="token punctuation">;</span></code></pre><h2 id="code-2"><a href="#code-2" class="headerlink" title="code"></a>code</h2><p>448 ms    55.5 MB</p><p>åŒç™¾ï¼ˆæ˜¯å› ä¸ºäº¤çš„äººå°‘ï¼‰</p><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;queue></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unordered_set></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> xdir<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> ydir<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>    <span class="token keyword">struct</span> HashPair    <span class="token punctuation">{</span>        size_t <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>key<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token keyword">noexcept</span>        <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token function">size_t</span><span class="token punctuation">(</span>key<span class="token punctuation">.</span>first<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100000007</span> <span class="token operator">+</span> key<span class="token punctuation">.</span>second<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token function">calNxt</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token operator">&amp;</span>grid<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> res <span class="token operator">=</span> grid<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> nx <span class="token operator">=</span> x <span class="token operator">+</span> xdir<span class="token punctuation">[</span>res<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> ny <span class="token operator">=</span> y <span class="token operator">+</span> ydir<span class="token punctuation">[</span>res<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span>nx<span class="token punctuation">,</span> ny<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">bool</span> <span class="token function">hasValidPath</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token operator">&amp;</span>grid<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        n <span class="token operator">=</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        m <span class="token operator">=</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        queue<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">>></span> q<span class="token punctuation">;</span>        unordered_set<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">,</span> HashPair<span class="token operator">></span> mark<span class="token punctuation">;</span>        q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">auto</span> ans <span class="token operator">=</span> <span class="token function">make_pair</span><span class="token punctuation">(</span>m <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">auto</span> now <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>now <span class="token operator">==</span> ans<span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">int</span> x <span class="token operator">=</span> now<span class="token punctuation">.</span>first<span class="token punctuation">,</span> y <span class="token operator">=</span> now<span class="token punctuation">.</span>second<span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// è¿™ä¸ªç‚¹èµ°è¿‡äº†</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>mark<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span> <span class="token operator">!=</span> mark<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token keyword">continue</span><span class="token punctuation">;</span>            mark<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">auto</span> <span class="token punctuation">[</span>nx<span class="token punctuation">,</span> ny<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">calNxt</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>nx <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> nx <span class="token operator">>=</span> m <span class="token operator">||</span> ny <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> ny <span class="token operator">>=</span> n<span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    <span class="token keyword">continue</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">calNxt</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> nx<span class="token punctuation">,</span> ny<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">make_pair</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">calNxt</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> nx<span class="token punctuation">,</span> ny<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>nx<span class="token punctuation">,</span> ny<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="å¹¶æŸ¥é›†ï¼Ÿ"><a href="#å¹¶æŸ¥é›†ï¼Ÿ" class="headerlink" title="å¹¶æŸ¥é›†ï¼Ÿ"></a>å¹¶æŸ¥é›†ï¼Ÿ</h2><p>æ ¹æ®åˆ†æï¼Œä¸€æ¡è¡—é“å°±æ˜¯æŠŠä¸¤ä¸ªç‚¹è¿æ¥èµ·æ¥ï¼Œé—®é¢˜å°±æ˜¯æ±‚<code>(0,0)</code>å’Œ<code>(m-1,n-1)</code>æ˜¯å¦è¿é€š</p><p>è¿™ä¸å°±å¯ä»¥ç”¨å¹¶æŸ¥é›†äº†å—ï¼Ÿ</p><p>å¦‚æœå½“å‰ç‚¹æ‰€åœ¨çš„è¡—é“æ˜¯åŒå‘çš„ï¼Œå°±åˆå¹¶è¯¥è¡—é“ä¸¤ç«¯çš„ç‚¹ã€‚<br>æœ€åæŸ¥è¯¢<code>(0,0)</code>å’Œ<code>(m-1,n-1)</code>çš„ç¥–å…ˆæ˜¯å¦ç›¸ç­‰<br>ç›¸ç­‰å°±è¯´æ˜ä¸¤ä¸ªç‚¹è¿é€š</p><h3 id="code-3"><a href="#code-3" class="headerlink" title="code"></a>code</h3><p>264 ms    24.2 MB    </p><p>è¿™ä¸ªæ›´å¿«ï¼Œæ›´çœç©ºé—´å“¦  </p><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> xdir<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> ydir<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> f<span class="token punctuation">[</span><span class="token number">90005</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token function">calNxt</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token operator">&amp;</span>grid<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> res <span class="token operator">=</span> grid<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> nx <span class="token operator">=</span> x <span class="token operator">+</span> xdir<span class="token punctuation">[</span>res<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> ny <span class="token operator">=</span> y <span class="token operator">+</span> ydir<span class="token punctuation">[</span>res<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">make_pair</span><span class="token punctuation">(</span>nx<span class="token punctuation">,</span> ny<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">==</span> f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> x<span class="token punctuation">;</span>        f<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> f<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> fx <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> fy <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>fx <span class="token operator">!=</span> fy<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            f<span class="token punctuation">[</span>fx<span class="token punctuation">]</span> <span class="token operator">=</span> fy<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">bool</span> <span class="token function">hasValidPath</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token operator">&amp;</span>grid<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> m <span class="token operator">=</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token operator">*</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            f<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> y <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> y<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> x<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    <span class="token keyword">auto</span> <span class="token punctuation">[</span>nx<span class="token punctuation">,</span> ny<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">calNxt</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>nx <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> nx <span class="token operator">>=</span> m <span class="token operator">||</span> ny <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> ny <span class="token operator">>=</span> n<span class="token punctuation">)</span>                    <span class="token punctuation">{</span>                        <span class="token keyword">continue</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">calNxt</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> nx<span class="token punctuation">,</span> ny<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">make_pair</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">calNxt</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> nx<span class="token punctuation">,</span> ny<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                    <span class="token punctuation">{</span>                        <span class="token function">merge</span><span class="token punctuation">(</span>x <span class="token operator">+</span> y <span class="token operator">*</span> m<span class="token punctuation">,</span> nx <span class="token operator">+</span> ny <span class="token operator">*</span> m<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">int</span> st <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> end <span class="token operator">=</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> m <span class="token operator">+</span> m <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">find</span><span class="token punctuation">(</span>st<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">find</span><span class="token punctuation">(</span>end<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="é¢˜åæ€»ç»“"><a href="#é¢˜åæ€»ç»“" class="headerlink" title="é¢˜åæ€»ç»“"></a>é¢˜åæ€»ç»“</h2><p>å…¶å®è¿™é“é¢˜æˆ‘æ¯”èµ›çš„æ—¶å€™ä¹Ÿæ²¡æœ‰åšå‡ºæ¥ï¼Œè¿‡ä¸€ä¼šå†åšå°±æƒ³å‡ºæ¥äº†ï¼Œçœ‹æ¥è¿˜æ˜¯æ¯”èµ›ç»éªŒä¸è¶³ï¼Œç´§å¼ äº†</p><h1 id="Google-Kick-Start"><a href="#Google-Kick-Start" class="headerlink" title="Google Kick Start"></a><a href="https://codingcompetitions.withgoogle.com/kickstart" target="_blank" rel="noopener">Google Kick Start</a></h1><h1 id="2020-Round-A"><a href="#2020-Round-A" class="headerlink" title="2020 Round A"></a>2020 Round A</h1><h2 id="Plate-èƒŒåŒ…"><a href="#Plate-èƒŒåŒ…" class="headerlink" title="Plate: èƒŒåŒ…"></a><a href="https://codingcompetitions.withgoogle.com/kickstart/round/000000000019ffc7/00000000001d40bb" target="_blank" rel="noopener">Plate: èƒŒåŒ…</a></h2><pre><code>Dr. Patel has N stacks of plates. Each stack contains K plates. Each plate has a positive beauty value, describing how beautiful it looks.Dr. Patel would like to take exactly P plates to use for dinner tonight. If he would like to take a plate in a stack, he must also take all of the plates above it in that stack as well.Help Dr. Patel pick the P plates that would maximize the total sum of beauty values.</code></pre><p>è¿™å…¶å®æ˜¯ä¸€é“å˜å½¢çš„åˆ†ç»„èƒŒåŒ…ï¼Œååˆ†ç®€å•ï¼Œä½†æ˜¯æˆ‘åšäº†ä¸€ä¸ªå¤šå°æ—¶â€¦</p><h3 id="åˆ†æ-1"><a href="#åˆ†æ-1" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>æœ‰<code>N</code>ä¸ªæ ˆ,æƒ³è¦å–å‡ºæŸä¸ªæ ˆä¸­çš„ç›˜å­,å°±ä¸€å®šè¦æŠŠåœ¨å®ƒå‰é¢çš„éƒ½å–å‡ºæ¥  </p><p>è½¬åŒ–ä¸€ä¸‹é—®é¢˜:æœ‰<code>N</code>ç±»ç‰©å“,æ¯ä¸€ç±»æœ€å¤šå–ä¸€ä¸ªç‰©å“,æ±‚ä½“ç§¯ä¸º<code>P</code>çš„èƒŒåŒ…èƒ½å®¹çº³çš„æœ€å¤§ç‰©å“ä»·å€¼.</p><p>ä¸€ä¸ªæ ˆå°±æ˜¯ä¸€ç±»ç‰©å“,é‡Œé¢æ¯ä¸ªç‰©å“çš„ä»·å€¼ä¸ºç›˜å­çš„å‰ç¼€å’Œ,é‡é‡ä¸ºå®ƒåŠ ä¸Šå®ƒå‰é¢çš„ç›˜å­æ•°é‡.</p><p><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/20200322151919.png" alt="20200322151919.png"></p><h3 id="code-4"><a href="#code-4" class="headerlink" title="code"></a>code</h3><p><code>f[v] = max(f[v], f[v - j] + sum[i][j])</code><br>è¿™é‡Œçš„<code>j</code>å°±æ˜¯ç‰©å“é‡é‡,<code>sum[i][j]</code>å°±æ˜¯ç‰©å“ä»·å€¼</p><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;queue></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> f<span class="token punctuation">[</span><span class="token number">1505</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> sum<span class="token punctuation">[</span><span class="token number">51</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">31</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> T<span class="token punctuation">;</span>    cin <span class="token operator">>></span> T<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> caseNum <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> caseNum <span class="token operator">&lt;=</span> T<span class="token punctuation">;</span> caseNum<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> n<span class="token punctuation">,</span> k<span class="token punctuation">,</span> plateNum<span class="token punctuation">;</span>        cin <span class="token operator">>></span> n <span class="token operator">>></span> k <span class="token operator">>></span> plateNum<span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Case #%d: "</span><span class="token punctuation">,</span> caseNum<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">memset</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">int</span> res<span class="token punctuation">;</span>            sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> k<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>                sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> res<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v <span class="token operator">=</span> plateNum<span class="token punctuation">;</span> v <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> v<span class="token operator">--</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token function">min</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    f<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>v <span class="token operator">-</span> j<span class="token punctuation">]</span> <span class="token operator">+</span> sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> f<span class="token punctuation">[</span>plateNum<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="Workout"><a href="#Workout" class="headerlink" title="Workout"></a>Workout</h2><p>Problemï¼š<br>Tambourine has prepared a fitness program so that she can become more fit! The program is made of N sessions. During the i-th session, Tambourine will exercise for Mi minutes. The number of minutes she exercises in each session are strictly increasing.</p><p>The difficulty of her fitness program is equal to the maximum difference in the number of minutes between any two consecutive training sessions.</p><p>To make her program less difficult, Tambourine has decided to add up to K additional training sessions to her fitness program. She can add these sessions anywhere in her fitness program, and exercise any positive integer number of minutes in each of them. After the additional training session are added, the number of minutes she exercises in each session must still be strictly increasing. What is the minimum difficulty possible?</p><h3 id="é”™è¯¯çš„æ€è·¯"><a href="#é”™è¯¯çš„æ€è·¯" class="headerlink" title="é”™è¯¯çš„æ€è·¯"></a>é”™è¯¯çš„æ€è·¯</h3><p>å·®åˆ†åæ¯æ¬¡å–å·®åˆ†æ•°ç»„çš„æœ€å¤§å€¼ï¼ŒæŠŠæœ€å¤§å€¼/2å†æ’å…¥åˆ°å·®åˆ†æ•°ç»„ä¸­</p><p>åä¾‹ï¼š</p><pre><code>[2, 12] â†’ [2, 7, 12] difficulty=5 â†’ [2, 7, 9, 12] difficulty=5[2, 12] â†’ [2, 5, 12] difficulty=7 â†’ [2, 5, 8, 12] difficulty=4ç¨‹åºç»“æœï¼šdifficulty=10 -&gt; 5 -&gt; 3è¿™æ˜¯æ— æ³•åšåˆ°çš„</code></pre><h3 id="æ­£è§£"><a href="#æ­£è§£" class="headerlink" title="æ­£è§£"></a>æ­£è§£</h3><ol><li>ç¡®å®šæœ€ç»ˆ<code>difficulty</code>çš„å€¼</li><li>éªŒè¯èƒ½å¦æ»¡è¶³æœ€å¤šæ’å…¥<code>K</code>ä¸ªæ•°çš„æ¡ä»¶</li></ol><p>è®¾å½“å‰çš„<code>difficulty=d</code><br>æ¯ä¸ªåŒºé—´èƒ½æ’å…¥çš„æ•°çš„ä¸ªæ•°ä¸º<code>ceil(åŒºé—´é•¿åº¦/d)-1</code><br>éå†æ¯ä¸ªåŒºé—´ï¼Œç®—å‡ºè¦æ’å…¥çš„æ•°çš„ä¸ªæ•°çš„æ€»å’Œ<code>kSum</code><br>æ‰¾å‡ºç¬¬ä¸€ä¸ªä½¿<code>kSum&lt;=K</code>çš„<code>d</code>å³ä¸ºç­”æ¡ˆ</p><p>æ³¨æ„åˆ°<code>d</code>è¶Šå¤§ï¼Œ<code>kSum</code>è¶Šå°ï¼Œæ‰€ä»¥èƒ½ç”¨äºŒåˆ†æœç´¢æ‰¾åˆ°ä½¿<code>kSum&lt;=K</code>çš„<code>d</code>çš„æœ€å°å€¼</p><p><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/3-22-2020-3-23-10-16-28" alt="3-22-2020-3-23-10-16-28"></p><pre><code>è¦æŠŠd[i]å˜æˆfloatå¦åˆ™ceil(1/3)=ceil(0)=0ceil(d[i] * 1.0 / mid) - 1</code></pre><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cmath></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">100005</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> d<span class="token punctuation">[</span><span class="token number">100005</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> k<span class="token punctuation">;</span>    cin <span class="token operator">>></span> n <span class="token operator">>></span> k<span class="token punctuation">;</span>    a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> maxn <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        d<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> a<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        maxn <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>maxn<span class="token punctuation">,</span> d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> right <span class="token operator">=</span> maxn<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> kSum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token operator">&amp;&amp;</span> kSum <span class="token operator">&lt;=</span> k<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            kSum <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">ceil</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">1.0</span> <span class="token operator">/</span> mid<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>kSum <span class="token operator">></span> k<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            left <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">else</span>        <span class="token punctuation">{</span>            right <span class="token operator">=</span> mid<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> left<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> T<span class="token punctuation">;</span>    cin <span class="token operator">>></span> T<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> caseNum <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> caseNum <span class="token operator">&lt;=</span> T<span class="token punctuation">;</span> caseNum<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Case #%d: "</span><span class="token punctuation">,</span> caseNum<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> Leetcode </tag>
            
            <tag> dp </tag>
            
            <tag> Google Kick Start </tag>
            
            <tag> cdqåˆ†æ²» </tag>
            
            <tag> bfs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.15 Notes</title>
      <link href="/2020/03/15/2020/3-15/"/>
      <url>/2020/03/15/2020/3-15/</url>
      
        <content type="html"><![CDATA[<h1 id="3-9-3-15-Learning-Notes"><a href="#3-9-3-15-Learning-Notes" class="headerlink" title="3.9-3.15 Learning Notes"></a>3.9-3.15 Learning Notes</h1><h1 id="Leetcode-Algorithm"><a href="#Leetcode-Algorithm" class="headerlink" title="Leetcode Algorithm"></a>Leetcode Algorithm</h1><h1 id="ä¸ä½¿ç”¨é¢å¤–ç©ºé—´"><a href="#ä¸ä½¿ç”¨é¢å¤–ç©ºé—´" class="headerlink" title="ä¸ä½¿ç”¨é¢å¤–ç©ºé—´"></a>ä¸ä½¿ç”¨é¢å¤–ç©ºé—´</h1><ul><li><a href="https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array/" target="_blank" rel="noopener">åŸåœ°åˆ é™¤æ’åºå¥½çš„æ•°ç»„ä¸­çš„é‡å¤é¡¹</a></li><li><a href="https://leetcode-cn.com/problems/sorted-merge-lcci/" target="_blank" rel="noopener">ä¸ä½¿ç”¨é¢å¤–ç©ºé—´åˆå¹¶æ’åºçš„æ•°ç»„</a></li></ul><p>ä¸ç”¨é¢å¤–ç©ºé—´æ„å‘³ç€åªèƒ½åœ¨åŸåœ°æ“ä½œï¼Œè€Œåœ¨åŸåœ°æ“ä½œéœ€è¦æ³¨æ„ä¸èƒ½å½±å“åˆ°è¿˜æœªè®¡ç®—çš„éƒ¨åˆ†ã€‚<br>åŸºæœ¬æ€è·¯ï¼šæŠŠå·²ç»è®¡ç®—è¿‡çš„éƒ¨åˆ†è§†ä¸ºæ–°æ•°ç»„ï¼Œåœ¨è¿™éƒ¨åˆ†é‡Œé¢æ“ä½œä¸ä¼šå½±å“åˆ°åé¢çš„ç»“æœã€‚</p><p><a href="https://leetcode-cn.com/problems/sorted-merge-lcci/solution/yu-qi-jiao-shuang-zhi-zhen-bu-ru-cheng-zhi-wei-yua/" target="_blank" rel="noopener">æˆ‘å†™çš„ç¬¬äºŒé¢˜çš„é¢˜è§£</a></p><h1 id="ç‰¹æ®Šçš„ä¼˜å…ˆé˜Ÿåˆ—"><a href="#ç‰¹æ®Šçš„ä¼˜å…ˆé˜Ÿåˆ—" class="headerlink" title="ç‰¹æ®Šçš„ä¼˜å…ˆé˜Ÿåˆ—"></a><a href="https://leetcode-cn.com/problems/dui-lie-de-zui-da-zhi-lcof/" target="_blank" rel="noopener">ç‰¹æ®Šçš„ä¼˜å…ˆé˜Ÿåˆ—</a></h1><p>è¿™é¢˜ä¸èƒ½ç›´æ¥å¥—ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆå †ï¼‰æ¨¡æ¿ï¼Œå› ä¸ºè¿™é‡Œé¢çš„<code>pop_front</code>æ˜¯è¦è¿”å›åŸé˜Ÿåˆ—çš„å¤´éƒ¨ï¼Œä¸æ˜¯ä¼˜å…ˆé˜Ÿåˆ—çš„å¤´éƒ¨(max/min)ã€‚ä½†æ˜¯<code>max_value</code>åˆéœ€è¦åœ¨<code>O(1)</code>å†…å®ŒæˆæŸ¥è¯¢ï¼Œæ‰€ä»¥åªç”¨ä¸€ä¸ªé˜Ÿåˆ—è‚¯å®šä¸è¡Œã€‚</p><p>äºæ˜¯æˆ‘ä»¬éœ€è¦ç”¨åˆ°ä¸€ä¸ªç¥å¥‡çš„è¾…åŠ©é˜Ÿåˆ—<code>sort_queue</code>ï¼Œå®ƒçš„å¤´éƒ¨å°±æ˜¯<code>max_value</code>ã€‚  </p><ul><li>å¦‚ä½•ç»´æŠ¤<code>sort_queue</code>ï¼Ÿ</li><li>åŸå§‹é˜Ÿåˆ—å‘ç”Ÿ<code>pop_front</code>æ—¶<code>sort_queue</code>è¯¥æ€ä¹ˆå˜åŠ¨ï¼Ÿ</li></ul><p><a href="https://leetcode-cn.com/problems/dui-lie-de-zui-da-zhi-lcof/solution/python-xiang-jie-wei-he-tian-jia-fu-zhu-dui-lie-ji/" target="_blank" rel="noopener">è¯¦è§å¤§ä½¬é¢˜è§£</a></p><h1 id="å®Œå…¨èƒŒåŒ…çš„å˜ä½“ï¼šæ±‚æœ€å°ç‰©å“æ•°"><a href="#å®Œå…¨èƒŒåŒ…çš„å˜ä½“ï¼šæ±‚æœ€å°ç‰©å“æ•°" class="headerlink" title="å®Œå…¨èƒŒåŒ…çš„å˜ä½“ï¼šæ±‚æœ€å°ç‰©å“æ•°"></a><a href="https://leetcode-cn.com/problems/coin-change/" target="_blank" rel="noopener">å®Œå…¨èƒŒåŒ…çš„å˜ä½“ï¼šæ±‚æœ€å°ç‰©å“æ•°</a></h1><p>åªä¼šåšèƒŒåŒ…ç±»dpçš„æˆ‘ç¬‘äº†</p><p><a href="https://leetcode-cn.com/problems/coin-change/solution/wan-quan-bei-bao-de-bian-ti-qiu-zui-xiao-wu-pin-by/" target="_blank" rel="noopener">æˆ‘çš„é¢˜è§£</a></p><p>å»¶ä¼¸é˜…è¯»ï¼š<a href="https://github.com/tianyicui/pack" target="_blank" rel="noopener">èƒŒåŒ…ä¹è®²</a></p><h1 id="äºŒå‰æ ‘çš„ç›´å¾„"><a href="#äºŒå‰æ ‘çš„ç›´å¾„" class="headerlink" title="äºŒå‰æ ‘çš„ç›´å¾„"></a>äºŒå‰æ ‘çš„ç›´å¾„</h1><h2 id="è®¡ç®—äºŒå‰æ ‘çš„ç›´å¾„é•¿åº¦"><a href="#è®¡ç®—äºŒå‰æ ‘çš„ç›´å¾„é•¿åº¦" class="headerlink" title="è®¡ç®—äºŒå‰æ ‘çš„ç›´å¾„é•¿åº¦"></a><a href="https://leetcode-cn.com/problems/diameter-of-binary-tree/" target="_blank" rel="noopener">è®¡ç®—äºŒå‰æ ‘çš„ç›´å¾„é•¿åº¦</a></h2><p><a href="https://leetcode-cn.com/problems/diameter-of-binary-tree/solution/dfszhong-wei-hu-zhi-jing-zui-da-zhi-by-backdoor/" target="_blank" rel="noopener">æˆ‘çš„é¢˜è§£</a></p><p>ä¸€æ£µäºŒå‰æ ‘çš„ç›´å¾„é•¿åº¦æ˜¯ä»»æ„ä¸¤ä¸ªç»“ç‚¹è·¯å¾„é•¿åº¦ä¸­çš„æœ€å¤§å€¼ã€‚è¿™æ¡è·¯å¾„<code>å¯èƒ½</code>ç©¿è¿‡æ ¹ç»“ç‚¹ã€‚<br>éå†æ¯ä¸€ä¸ªèŠ‚ç‚¹è®¡ç®—å®ƒçš„æ·±åº¦åŠç»è¿‡å®ƒçš„æœ€å¤§ç›´å¾„é•¿åº¦<br>ç›´å¾„é•¿åº¦=å·¦å­©å­æ·±åº¦+å³å­©å­æ·±åº¦-æ ¹èŠ‚ç‚¹æ·±åº¦<em>2<br>`depth[lchild]+depth[rchild]-depth[node]</em>2]`  </p><h2 id="äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ"><a href="#äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ" class="headerlink" title="äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ"></a><a href="https://leetcode-cn.com/problems/binary-tree-maximum-path-sum/" target="_blank" rel="noopener">äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ</a></h2><p>æ˜¯ä¸Šä¸€é¢˜çš„è¿›é˜¶ç‰ˆ  </p><p>è·Ÿä¸Šä¸€é¢˜ä¸ä¸€æ ·ï¼Œè·¯å¾„é•¿åº¦å¯èƒ½è´Ÿå€¼ï¼Œæ‰€ä»¥éå†æ¯ä¸ªèŠ‚ç‚¹çš„æ—¶å€™ä¸èƒ½ç›´æ¥ç®—ä»¥å½“å‰èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘çš„æ‰€æœ‰è·¯å¾„é•¿åº¦ä¹‹å’Œã€‚<br>å¦‚æœå·¦å­æ ‘æˆ–å³å­æ ‘è·¯å¾„é•¿åº¦ä¹‹å’Œå°äºé›¶å°±è¦èˆå»ã€‚</p><p>æœ€é•¿è·¯å¾„æœ‰ä¸‰ç§æƒ…å†µï¼š</p><pre><code>a.father   \    a   / \  b   c</code></pre><ul><li>b-&gt;a-&gt;c</li><li>a.father-&gt;a-&gt;b</li><li>a.father-&gt;a-&gt;c</li></ul><p>é€’å½’çš„æ—¶å€™æ€ä¹ˆå†™å‘¢ï¼Ÿ</p><pre class=" language-py"><code class="language-py">def dfs(root: TreeNode) -> int:    nonlocal max_path_sum    if root is None:        return 0    left_val = max(0, dfs(root.left))    right_val = max(0, dfs(root.right))    node_val = max(left_val, right_val)+root.val    max_path_sum = max(max_path_sum, left_val+right_val+root.val)    return node_val</code></pre><p>ä¸ºä»€ä¹ˆåªç”¨<code>max_path_sum = max(max_path_sum, left_val+right_val+root.val)</code>å°±å¯ä»¥å–ä¸‰ç§æƒ…å†µä¸­çš„æœ€å¤§å€¼ï¼Ÿ</p><p>æ³¨æ„åˆ°<code>return node_val = max(left_val, right_val)+root.val</code>ï¼Œä»¥ä¸Šé¢ä¸ºä¾‹å­ï¼Œ<code>dfs(a.father)=max(a.father-&gt;a-&gt;b,a.father-&gt;a-&gt;c)</code>å®é™…ä¸Šåœ¨ä¸Šä¸€å±‚é€’å½’ä¸­å·²ç»è®¡ç®—äº†ä¸‰ç§æƒ…å†µä¸­çš„åä¸¤ç§ï¼Œæ‰€ä»¥åªéœ€è¦è®¡ç®—ç¬¬ä¸€ç§å³å¯ã€‚  </p><h2 id="ä¸€ä¸ªå†™é€’å½’çš„å°å¿ƒå¾—"><a href="#ä¸€ä¸ªå†™é€’å½’çš„å°å¿ƒå¾—" class="headerlink" title="ä¸€ä¸ªå†™é€’å½’çš„å°å¿ƒå¾—"></a>ä¸€ä¸ªå†™é€’å½’çš„å°å¿ƒå¾—</h2><p>ä¸è¦ç”¨è„‘å­å¥—è¿›å»ä¸€å±‚å±‚è®¡ç®—ï¼Œè¦ç›¸ä¿¡<code>dfs(a)</code>è¿”å›çš„å°±æ˜¯<code>a</code>çš„<code>node_val</code>ï¼Œä¸éœ€è¦ç®¡é‡Œé¢çš„ä¸€å±‚å¥—ä¸€å±‚çš„é€»è¾‘ï¼Œåªéœ€è¦å†™å¥½å…¶ä¸­ä¸€å±‚çš„é€»è¾‘ï¼Œå®ƒè‡ªç„¶å°±èƒ½å¤Ÿè·‘èµ·æ¥</p><h1 id="gcd-in-string"><a href="#gcd-in-string" class="headerlink" title="gcd in string"></a><a href="https://leetcode-cn.com/problems/greatest-common-divisor-of-strings/" target="_blank" rel="noopener">gcd in string</a></h1><p>æ±‚ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€å¤§å…¬å› å­</p><p>ååˆ†æœ‰è¶£çš„ä¸€é“é¢˜ï¼Œæ±‚ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬å› å­è‡ªç„¶ç”¨æ¬§å‡ é‡Œå¾—ç®—æ³•</p><pre class=" language-py"><code class="language-py">def gcd(a,b):    if a<b:        a,b=b,a    if b==0:        return a    gcd(b,a%b)</code></pre><p>é‚£æ±‚ä¸¤ä¸ªå­—ç¬¦ä¸²è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ<br><a href="https://leetcode-cn.com/problems/greatest-common-divisor-of-strings/solution/1071-zi-fu-chuan-de-zui-da-gong-yin-zi-by-wonderfu/" target="_blank" rel="noopener">ä¸€ä¸ªå¾ˆæ£’çš„é¢˜è§£</a></p><ul><li><p>åˆ¤æ–­æ˜¯å¦æœ‰è§£<br><code>str1+str2=str2+str1</code></p></li><li><p>æœ‰è§£çš„è¯æœ€å¤§å…¬å› å­çš„é•¿åº¦æ˜¯ä¸æ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²é•¿åº¦çš„gcdï¼Ÿ<br>æ˜¯çš„ï¼Œå› ä¸ºå¦‚æœèƒ½å¾ªç¯ä»¥å®ƒçš„çº¦æ•°ä¸ºé•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œè‡ªç„¶ä¹Ÿèƒ½å¤Ÿå¾ªç¯ä»¥å®ƒä¸ºé•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥è¿™ä¸ªç†è®ºé•¿åº¦å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„æœ€ä¼˜è§£ã€‚</p></li></ul><h1 id="æ±‚ä¼—æ•°"><a href="#æ±‚ä¼—æ•°" class="headerlink" title="æ±‚ä¼—æ•°"></a>æ±‚ä¼—æ•°</h1><p><a href="https://leetcode-cn.com/problems/majority-element-ii/solution/cong-lun-wen-jiao-du-jiang-jie-mo-er-tou-piao-fa-b/" target="_blank" rel="noopener">ä»è®ºæ–‡è§’åº¦è®²è§£æ‘©å°”æŠ•ç¥¨æ³•</a></p><p>pairingé˜¶æ®µï¼šä¸¤ä¸ªä¸åŒé€‰ç¥¨çš„äººè¿›è¡Œå¯¹æŠ—ï¼Œå¹¶ä¼šåŒæ—¶å‡»å€’å¯¹æ–¹ï¼Œå½“å‰©ä¸‹çš„äººéƒ½æ˜¯åŒä¸€é˜µè¥ï¼Œç›¸åŒé€‰ç¥¨æ—¶ï¼Œç»“æŸã€‚</p><p>countingé˜¶æ®µï¼šè®¡æ•°é˜¶æ®µï¼Œå¯¹æœ€åå‰©ä¸‹çš„ä¸‹è¿›è¡Œé€‰ç¥¨è®¡ç®—ç»Ÿè®¡ï¼Œåˆ¤æ–­é€‰ç¥¨æ˜¯å¦è¶…è¿‡æ€»ç¥¨æ•°çš„ä¸€åŠï¼Œé€‰ç¥¨æ˜¯å¦æœ‰æ•ˆã€‚</p><h2 id="å‡ºç°æ¬¡æ•°å¤§äºn-2"><a href="#å‡ºç°æ¬¡æ•°å¤§äºn-2" class="headerlink" title="å‡ºç°æ¬¡æ•°å¤§äºn/2"></a><a href="https://leetcode-cn.com/problems/majority-element/" target="_blank" rel="noopener">å‡ºç°æ¬¡æ•°å¤§äºn/2</a></h2><p>è¿™é¢˜æœ‰å¾ˆå¤šç§åšæ³•ï¼š</p><ul><li>æ’åºåä¸­é—´å…ƒç´ å³ä¸ºä¼—æ•°</li><li>hashtableå­˜å‚¨</li><li>éšæœºé€‰å–å¹¶éªŒè¯</li><li>åˆ†æ²»</li><li>æ‘©å°”æŠ•ç¥¨æ³•<h2 id="å‡ºç°æ¬¡æ•°å¤§äºn-3"><a href="#å‡ºç°æ¬¡æ•°å¤§äºn-3" class="headerlink" title="å‡ºç°æ¬¡æ•°å¤§äºn/3"></a><a href="https://leetcode-cn.com/problems/majority-element-ii/" target="_blank" rel="noopener">å‡ºç°æ¬¡æ•°å¤§äºn/3</a></h2><a href="https://leetcode-cn.com/problems/majority-element-ii/solution/liang-fu-dong-hua-yan-shi-mo-er-tou-piao-fa-zui-zh/" target="_blank" rel="noopener">æ‘©å°”æŠ•ç¥¨æ³•</a></li></ul><p>ä¸Šä¸€é¢˜æ˜¯é€‰ä¸€ä¸ªä»£è¡¨ï¼Œè¿™é¢˜æ˜¯é€‰ä¸¤ä¸ªä»£è¡¨<br>æœ¬è´¨æ˜¯é€‰ç¥¨æŠµæ¶ˆï¼Œä½†æ˜¯éœ€è¦æ³¨æ„ä»£ç é€»è¾‘</p><h1 id="ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-6"><a href="#ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-6" class="headerlink" title="ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº*6"></a>ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº*6</h1><p>ï¼ˆä½†æ˜¯æˆ‘è¿˜æ˜¯ä¸ä¼šæ€ä¹ˆä¹°å–è‚¡ç¥¨ï¼‰</p><p>ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬ i ä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚<br>è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚<br>æ³¨æ„ä½ ä¸èƒ½åœ¨ä¹°å…¥è‚¡ç¥¨å‰å–å‡ºè‚¡ç¥¨ã€‚</p><p><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/solution/yi-ge-fang-fa-tuan-mie-6-dao-gu-piao-wen-ti-by-l-3/" target="_blank" rel="noopener">ä¸€ä¸ªæ–¹æ³•å›¢ç­å…­ä¸ªé—®é¢˜</a></p><h2 id="I"><a href="#I" class="headerlink" title="I"></a><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/" target="_blank" rel="noopener">I</a></h2><p>å¦‚æœä½ æœ€å¤šåªå…è®¸å®Œæˆä¸€ç¬”äº¤æ˜“ï¼ˆå³ä¹°å…¥å’Œå–å‡ºä¸€æ”¯è‚¡ç¥¨ï¼‰<br><code>max(price[i]-price[j]) (i&gt;j)</code></p><h2 id="II"><a href="#II" class="headerlink" title="II"></a><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/" target="_blank" rel="noopener">II</a></h2><p>ä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰<br>æ³¨æ„ï¼šä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰<br>è´ªå¿ƒï¼šå½“å‰ç­–ç•¥æ€»æ˜¯å…¨å±€æœ€ä½³ç­–ç•¥<br>ä»Šå¤©æ¯”æ˜¨å¤©é«˜å°±ä¹°ï¼Œå¦åˆ™ä¸ä¹°</p><h2 id="III"><a href="#III" class="headerlink" title="III"></a><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iii/" target="_blank" rel="noopener">III</a></h2><p>ä½ æœ€å¤šå¯ä»¥å®Œæˆä¸¤ç¬”äº¤æ˜“</p><h3 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h3><p>éå†åˆ’åˆ†ç‚¹ï¼ŒæŠŠæ•°ç»„åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œåˆ†åˆ«è®¡ç®—ä¸¤éƒ¨åˆ†çš„æœ€å¤§åˆ©æ¶¦ï¼Œç›¸å½“äº<a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/" target="_blank" rel="noopener">ç¬¬ä¸€é¢˜</a></p><p>ä½†æ˜¯ç›´æ¥ç®—ä¼šè¶…æ—¶ï¼Œè¿™é‡Œç”¨ä¸€ä¸ªå°ä¼˜åŒ–ï¼Œæå‰ç®—å¥½ä»å·¦è¾¹åˆ°åˆ’åˆ†ç‚¹çš„æœ€å¤§åˆ©æ¶¦<code>left_max</code>å’Œä»æœ‰å³è¾¹åˆ°åˆ’åˆ†ç‚¹çš„æœ€å¤§åˆ©æ¶¦<code>right_max</code><br>ç®—<code>right_max</code>æ—¶æ³¨æ„è¦é€†å‘æ€è€ƒï¼Œè®°å½•çš„æ˜¯<code>max_price</code></p><h4 id="code"><a href="#code" class="headerlink" title="code"></a>code</h4><pre class=" language-py"><code class="language-py">class Solution:    def maxProfit(self, prices) -> int:        if not prices:            return 0        # left_max: [0,i] max profit        left_max = [0] * len(prices)        min_price = prices[0]        for i in range(1, len(prices)):            min_price = min(min_price, prices[i])            left_max[i] = max(left_max[i - 1], prices[i] - min_price)        # right_max: [i,len-1] max profit        right_max = [0] * len(prices)        max_price = prices[-1]        for i in range(len(prices)-2, -1, -1):            max_price = max(max_price, prices[i])            right_max[i] = max(right_max[i + 1], max_price-prices[i])        max_profit = 0        for i in range(0, len(prices)):            max_profit = max(max_profit, left_max[i]+right_max[i])        return max_profit</code></pre><h3 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h3><p><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock/" target="_blank" rel="noopener">æ­¤ç±»é—®é¢˜çš„é€šæ³•</a></p><h4 id="çŠ¶æ€å®šä¹‰"><a href="#çŠ¶æ€å®šä¹‰" class="headerlink" title="çŠ¶æ€å®šä¹‰"></a>çŠ¶æ€å®šä¹‰</h4><p><code>f[i][j][k]</code>è¡¨ç¤ºç¬¬iå¤©ï¼Œè¿›è¡Œäº†jæ¬¡äº¤æ˜“ï¼Œå½“å‰çŠ¶æ€ä¸ºkæ—¶çš„æœ€å¤§åˆ©æ¶¦<br>è¯¥é¢˜ä¸­$j&lt;=2$<br>k=0è¡¨ç¤ºæ²¡æœ‰æŒæœ‰è‚¡ç¥¨ï¼Œk=1è¡¨ç¤ºæŒæœ‰è‚¡ç¥¨</p><h4 id="çŠ¶æ€è½¬ç§»æ–¹ç¨‹"><a href="#çŠ¶æ€è½¬ç§»æ–¹ç¨‹" class="headerlink" title="çŠ¶æ€è½¬ç§»æ–¹ç¨‹"></a>çŠ¶æ€è½¬ç§»æ–¹ç¨‹</h4><pre><code>f[i][j][0] = max(f[i - 1][j][1] + prices[i - 1], f[i - 1][j][0])f[i][j][1] = max(f[i - 1][j][1], f[i - 1][j - 1][0] - prices[i - 1])</code></pre><h4 id="åˆå§‹çŠ¶æ€å®šä¹‰"><a href="#åˆå§‹çŠ¶æ€å®šä¹‰" class="headerlink" title="åˆå§‹çŠ¶æ€å®šä¹‰"></a>åˆå§‹çŠ¶æ€å®šä¹‰</h4><pre><code>f[i][0][0] = 0f[i][0][1] = -inff[0][i][0] = -inff[0][i][1] = -inf</code></pre><h4 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h4><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">maxProfit</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>prices<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">const</span> <span class="token keyword">int</span> inf <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">30</span><span class="token punctuation">;</span>        <span class="token keyword">const</span> <span class="token keyword">int</span> n <span class="token operator">=</span> prices<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> f<span class="token punctuation">[</span><span class="token number">30000</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>inf<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>inf<span class="token punctuation">;</span>            f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>inf<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token number">2</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> prices<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>j<span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> prices<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="IV"><a href="#IV" class="headerlink" title="IV"></a><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-iv/" target="_blank" rel="noopener">IV</a></h2><p>ä½ æœ€å¤šå¯ä»¥å®Œæˆ k ç¬”äº¤æ˜“</p><p>è¿™é“é¢˜å°±ç”¨é€šè§£</p><p>æ³¨æ„å½“<code>k&gt;=n</code>çš„æ—¶å€™è½¬åŒ–ä¸ºç¬¬äºŒé¢˜çš„æƒ…å†µï¼Œç›´æ¥ç”¨è´ªå¿ƒç®—æ³•ã€‚ä¸ç„¶æ—¶é—´å’Œç©ºé—´éƒ½ä¼šçˆ†ç‚¸çš„ã€‚</p><h3 id="code-2"><a href="#code-2" class="headerlink" title="code"></a>code</h3><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">maxProfit</span><span class="token punctuation">(</span><span class="token keyword">int</span> k<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>prices<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">const</span> <span class="token keyword">int</span> inf <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">30</span><span class="token punctuation">;</span>        <span class="token keyword">const</span> <span class="token keyword">int</span> n <span class="token operator">=</span> prices<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// ç”¨è´ªå¿ƒå¤„ç†èƒ½éšæ„ä¹°å–çš„æƒ…å†µ</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">>=</span> n<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">int</span> profit <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>prices<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> prices<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    profit <span class="token operator">+</span><span class="token operator">=</span> prices<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> prices<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            <span class="token keyword">return</span> profit<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">int</span> f<span class="token punctuation">[</span>n <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span>k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>inf<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> k<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>inf<span class="token punctuation">;</span>            f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>inf<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> k<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> prices<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>j<span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> prices<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">int</span> maxProfit <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> k<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>            maxProfit <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>maxProfit<span class="token punctuation">,</span> f<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> maxProfit<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="with-cooldown"><a href="#with-cooldown" class="headerlink" title="with cooldown"></a><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/" target="_blank" rel="noopener">with cooldown</a></h2><p>å–å‡ºè‚¡ç¥¨åï¼Œä½ æ— æ³•åœ¨ç¬¬äºŒå¤©ä¹°å…¥è‚¡ç¥¨ (å³å†·å†»æœŸä¸º 1 å¤©)ã€‚<br>æ— é™åˆ¶äº¤æ˜“æ¬¡æ•°<br>çŠ¶æ€è½¬ç§»æ–¹ç¨‹è¦æ”¹ä¸€æ”¹  </p><p>åŸæ¥çš„ï¼š</p><pre><code>f[i][j][0] = max(f[i - 1][j][1] + prices[i - 1], f[i - 1][j][0])f[i][j][1] = max(f[i - 1][j][1], f[i - 1][j - 1][0] - prices[i - 1])</code></pre><p>ç°åœ¨è¦æŠŠç¬¬äºŒç»´çŠ¶æ€å‹æ‰å¹¶æ”¹ä¸€ä¸‹å–è‚¡ç¥¨çš„é‚£æ¡æ–¹ç¨‹ï¼Œç›¸å½“äºè¦è¿‡ä¸¤å¤©æ‰èƒ½æ”¶åˆ°å–è‚¡ç¥¨çš„é’±</p><pre><code>f[i][0] = max(f[i - 2][1] + prices[i - 2], f[i - 1][0]);f[i][1] = max(f[i - 1][1], f[i - 1][0] - prices[i - 1]);</code></pre><p>è¿˜è¦åˆ¤æ–­ä¸€ä¸‹è¾¹ç•Œï¼Œå› ä¸ºå¦‚æœæœ€åä¸€å¤©å–å‡ºçš„è¯ï¼Œå°±ä¼šæ”¶ä¸åˆ°é’±</p><pre><code>f[n + 1][0] = max(f[n - 1][1] + prices[n - 1], f[n][0]);return max(f[n + 1][0], f[n][0]);</code></pre><h3 id="code-3"><a href="#code-3" class="headerlink" title="code"></a>code</h3><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">maxProfit</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>prices<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">const</span> <span class="token keyword">int</span> inf <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">30</span><span class="token punctuation">;</span>        <span class="token keyword">const</span> <span class="token keyword">int</span> n <span class="token operator">=</span> prices<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>n<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">int</span> f<span class="token punctuation">[</span>n <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>inf<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">>=</span> <span class="token number">2</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> prices<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> prices<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        f<span class="token punctuation">[</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> prices<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3 id="ä¸€ç§æ›´å¿«çš„æ–¹æ³•"><a href="#ä¸€ç§æ›´å¿«çš„æ–¹æ³•" class="headerlink" title="ä¸€ç§æ›´å¿«çš„æ–¹æ³•"></a><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/solution/dong-tai-gui-hua-by-liweiwei1419-5/" target="_blank" rel="noopener">ä¸€ç§æ›´å¿«çš„æ–¹æ³•</a></h3><p>æŠŠå†·å†»æœŸä¹Ÿè§†ä¸ºä¸€ç§çŠ¶æ€<br><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/20200313182251.png" alt="20200313182251.png"></p><p>å†åŠ ä¸Šæ»šåŠ¨å˜é‡</p><h4 id="code-4"><a href="#code-4" class="headerlink" title="code"></a>code</h4><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> f<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>f<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>inf<span class="token punctuation">;</span>f<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">int</span> preCash <span class="token operator">=</span> f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> preStock <span class="token operator">=</span> f<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>preCash<span class="token punctuation">,</span> preStock <span class="token operator">+</span> prices<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    f<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>preStock<span class="token punctuation">,</span> f<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> prices<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    f<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> preCash<span class="token punctuation">;</span>    preCash <span class="token operator">=</span> f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    preStock <span class="token operator">=</span> f<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">return</span> <span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="with-transaction-fee"><a href="#with-transaction-fee" class="headerlink" title="with transaction fee"></a><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/" target="_blank" rel="noopener">with transaction fee</a></h2><p>ä½ å¯ä»¥æ— é™æ¬¡åœ°å®Œæˆäº¤æ˜“ï¼Œä½†æ˜¯ä½ æ¯æ¬¡äº¤æ˜“éƒ½éœ€è¦ä»˜æ‰‹ç»­è´¹ã€‚</p><p>æ”¹ä¸€ç‚¹ç‚¹å°±å¯ä»¥äº†,ä¹°çš„æ—¶å€™æŠŠfeeå‡æ‰</p><pre><code>f[i][1] = max(f[i - 1][1], f[i - 1][0] - prices[i - 1]-fee);</code></pre><h3 id="code-5"><a href="#code-5" class="headerlink" title="code"></a>code</h3><p>å‹ç¼©çŠ¶æ€,å½“å‰çŠ¶æ€åªä¾èµ–äºä¸Šä¸€çŠ¶æ€</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">maxProfit</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>prices<span class="token punctuation">,</span> <span class="token keyword">int</span> fee<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">const</span> <span class="token keyword">int</span> inf <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">30</span><span class="token punctuation">;</span>        <span class="token keyword">const</span> <span class="token keyword">int</span> n <span class="token operator">=</span> prices<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">int</span> f<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span>inf<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            f<span class="token punctuation">[</span>i<span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> prices<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            f<span class="token punctuation">[</span>i<span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> prices<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> fee<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> f<span class="token punctuation">[</span>n<span class="token operator">&amp;</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h1 id="Eight-Queens"><a href="#Eight-Queens" class="headerlink" title="Eight Queens"></a>Eight Queens</h1><h2 id="æ±‚è§£å†³æ–¹æ¡ˆ"><a href="#æ±‚è§£å†³æ–¹æ¡ˆ" class="headerlink" title="æ±‚è§£å†³æ–¹æ¡ˆ"></a>æ±‚è§£å†³æ–¹æ¡ˆ</h2><p>dfs+å›æº¯</p><p>ä»ç¬¬ä¸€è¡Œå¼€å§‹æ”¾ï¼Œä¸€ç›´æ”¾åˆ°æœ€åä¸€è¡Œ<br>ç”¨å››ä¸ªboolæ•°ç»„åˆ¤æ–­è¡Œï¼Œåˆ—ï¼Œå·¦å¯¹è§’çº¿ï¼Œå³å¯¹è§’çº¿æœ‰æ²¡æœ‰çš‡å<br>dfså‡ºæ¥è®°å¾—æŠŠçŠ¶æ€æ¢å¤åŸä½</p><h3 id="åªè¦ä¸€ä¸ªæ–¹æ¡ˆ"><a href="#åªè¦ä¸€ä¸ªæ–¹æ¡ˆ" class="headerlink" title="åªè¦ä¸€ä¸ªæ–¹æ¡ˆ"></a>åªè¦ä¸€ä¸ªæ–¹æ¡ˆ</h3><p>CSC1001 Assignment2</p><p>æ‰¾åˆ°ä¸€ä¸ªç›´æ¥<code>exit()</code></p><h3 id="æ±‚æ‰€æœ‰æ–¹æ¡ˆ"><a href="#æ±‚æ‰€æœ‰æ–¹æ¡ˆ" class="headerlink" title="æ±‚æ‰€æœ‰æ–¹æ¡ˆ"></a><a href="https://leetcode-cn.com/problems/n-queens/" target="_blank" rel="noopener">æ±‚æ‰€æœ‰æ–¹æ¡ˆ</a></h3><h2 id="æ±‚æ–¹æ¡ˆä¸ªæ•°"><a href="#æ±‚æ–¹æ¡ˆä¸ªæ•°" class="headerlink" title="æ±‚æ–¹æ¡ˆä¸ªæ•°"></a><a href="https://leetcode-cn.com/problems/n-queens-ii/" target="_blank" rel="noopener">æ±‚æ–¹æ¡ˆä¸ªæ•°</a></h2><h3 id="è¿›é˜¶-çŠ¶æ€å‹ç¼©-ä½è¿ç®—"><a href="#è¿›é˜¶-çŠ¶æ€å‹ç¼©-ä½è¿ç®—" class="headerlink" title="è¿›é˜¶:çŠ¶æ€å‹ç¼©+ä½è¿ç®—"></a>è¿›é˜¶:çŠ¶æ€å‹ç¼©+ä½è¿ç®—</h3><p>å…ˆä¸Šä»£ç </p><h4 id="code-6"><a href="#code-6" class="headerlink" title="code"></a>code</h4><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> full<span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> col<span class="token punctuation">,</span> <span class="token keyword">int</span> leftdown<span class="token punctuation">,</span> <span class="token keyword">int</span> rightdown<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>col <span class="token operator">==</span> full<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//æ¯ä¸€åˆ—éƒ½å·²ç»æœ‰çš‡åäº†ï¼Œè¯´æ˜æ»¡äº†</span>        <span class="token punctuation">{</span>            <span class="token operator">++</span>ans<span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// col|leftdown|rightdown ä»»ä½•ä¸€ä¸ªæ˜¯1éƒ½ä¸è¡Œï¼Œè¡¨ç¤ºåœ¨çš‡åæ”»å‡»èŒƒå›´å†…</span>        <span class="token comment" spellcheck="true">// å–ååï¼Œ1æ˜¯å¯ä»¥æ”¾çš„ä½ç½®ï¼Œ0æ˜¯ä¸èƒ½æ”¾çš„</span>        <span class="token comment" spellcheck="true">// ä¸ 11111(nä¸ª1)ä¸è¿ç®—åæŠŠé«˜ä½èˆå»ï¼Œå‰©ä¸‹çš„ä½æ•°ä¸ºæ£‹ç›˜çš„è¾¹é•¿</span>        <span class="token keyword">int</span> now <span class="token operator">=</span> full <span class="token operator">&amp;</span> <span class="token operator">~</span><span class="token punctuation">(</span>col <span class="token operator">|</span> leftdown <span class="token operator">|</span> rightdown<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>now<span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// å–æœ€ä½ä¸€ä½1ï¼Œè¡¨ç¤ºåœ¨è¿™é‡Œæ”¾ä¸€ä¸ªçš‡å</span>            <span class="token keyword">int</span> lowbit <span class="token operator">=</span> now <span class="token operator">&amp;</span> <span class="token operator">-</span>now<span class="token punctuation">;</span>            now <span class="token operator">-</span><span class="token operator">=</span> lowbit<span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// æ›´æ–°3ä¸ªçŠ¶æ€</span>            <span class="token comment" spellcheck="true">// rowæ˜¯æ²¡æœ‰ç”¨çš„ï¼Œå› ä¸ºrowå·²ç»åŒ…å«åœ¨colé‡Œé¢äº†</span>            <span class="token comment" spellcheck="true">// col=col+lowbit</span>            <span class="token comment" spellcheck="true">// leftdown=(leftdown+lowbit)&lt;&lt;1</span>            <span class="token comment" spellcheck="true">// rightdown=(rightdown+lowbit)>>1</span>            <span class="token function">dfs</span><span class="token punctuation">(</span>col <span class="token operator">+</span> lowbit<span class="token punctuation">,</span> <span class="token punctuation">(</span>leftdown <span class="token operator">+</span> lowbit<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>rightdown <span class="token operator">+</span> lowbit<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> <span class="token function">totalNQueens</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        full <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> n<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>ä¸€ç§éå¸¸ç‰›é€¼çš„è§£æ³•ï¼Œéœ€è¦æœ‰é«˜è¶…çš„ä½è¿ç®—èƒ½åŠ›ã€‚</p><p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æŠŠåŸæ¥çš„4ä¸ªboolæ•°ç»„å‹ç¼©æˆäº†3ä¸ªintæ•°ï¼Œç”¨è¿™ä¸‰ä¸ªæ•°çš„æ¯ä¸€ä½è¡¨ç¤ºçº¦æŸæ¡ä»¶ã€‚<br>å› ä¸ºä¸éœ€è¦è¾“å…¥æ–¹æ¡ˆï¼Œåªæ±‚æ–¹æ¡ˆä¸ªæ•°ï¼Œæ‰€ä»¥ä¸éœ€è¦å­˜å‚¨ä¹‹å‰çš„çš‡åä½ç½®ã€‚</p><h4 id="çŠ¶æ€è¡¨ç¤º"><a href="#çŠ¶æ€è¡¨ç¤º" class="headerlink" title="çŠ¶æ€è¡¨ç¤º"></a>çŠ¶æ€è¡¨ç¤º</h4><p><code>1</code>è¡¨ç¤ºåœ¨çš‡åçš„æ”»å‡»èŒƒå›´é‡Œé¢<br><code>0</code>è¡¨ç¤ºå¯ä»¥æ”¾çš‡å</p><h4 id="full"><a href="#full" class="headerlink" title="full"></a>full</h4><pre><code>n=5full=2^5-1=31=11111</code></pre><p>5ä¸ª1è¡¨ç¤ºæ”¾æ»¡äº†</p><h4 id="lowbit"><a href="#lowbit" class="headerlink" title="lowbit"></a>lowbit</h4><p>å–äºŒè¿›åˆ¶æ•°çš„æœ€ä½ä½<br>åœ¨whileé‡Œé¢èµ·åˆ°éå†å½“å‰è¡Œæ‰€æœ‰èƒ½æ”¾çš‡åçš„ä½ç½®</p><pre><code>lowbit(x)=x&amp;-x</code></pre><h4 id="col"><a href="#col" class="headerlink" title="col"></a>col</h4><p>è¿™ä¸ªæœ€å®¹æ˜“ç†è§£ï¼Œå¦‚æœæŸä¸€ä½ä¸Šæ˜¯1ï¼Œå°±è¯´æ˜ä¹‹å‰åœ¨è¿™åˆ—ä¸Šæœ‰çš‡åã€‚<br>ä½æ•°å¯¹åº”åˆ—æ•°</p><p>å‡è®¾ç°åœ¨dfsåˆ°ç¬¬ä¸‰è¡Œï¼Œå‰é¢ä¸¤è¡Œçš„çš‡ååˆ†åˆ«æ”¾åœ¨ç¬¬ä¸€å’Œç¬¬å››åˆ—</p><pre><code>1 0 0 00 0 0 11 0 0 1col=1001</code></pre><h4 id="leftdown"><a href="#leftdown" class="headerlink" title="leftdown"></a>leftdown</h4><p>å³ä¸Šåˆ°å·¦ä¸‹çš„å¯¹è§’çº¿,åŠ ä¸Šå½“å‰è¡Œçš„çš‡åä½ç½®åï¼Œ<strong>æ•´ä½“</strong>å·¦ç§»ä¸€ä½</p><p>dfsåˆ°ç¬¬ä¸‰è¡Œ</p><pre><code>  0 0 1 0  1 0 0 01 1 0 0 0leftdown=11000å®é™…ä¸Šæœ€é«˜ä½çš„1è¢«èˆå»äº†ï¼Œå› ä¸ºæœ‰full&amp;</code></pre><h4 id="rightdown"><a href="#rightdown" class="headerlink" title="rightdown"></a>rightdown</h4><p>å·¦ä¸Šåˆ°å³ä¸‹çš„å¯¹è§’çº¿ï¼ŒåŠ ä¸Šå½“å‰è¡Œçš„çš‡åä½ç½®åï¼Œ<strong>æ•´ä½“</strong>å³ç§»ä¸€ä½</p><pre><code>0 1 0 00 0 0 10 0 0 1 1rightdown=00011å®é™…ä¸Šæœ€å³ä¾§çš„1è¢«èˆå»äº†ï¼Œä½è¿ç®—çš„overflow</code></pre><h1 id="LIS"><a href="#LIS" class="headerlink" title="LIS"></a><a href="https://leetcode-cn.com/problems/longest-increasing-subsequence/" target="_blank" rel="noopener">LIS</a></h1><h2 id="O-n-2-dp"><a href="#O-n-2-dp" class="headerlink" title="O(n^2) dp"></a>O(n^2) dp</h2><pre><code>Lis[i]è¡¨ç¤ºä»¥nums[i]ä¸ºç»“å°¾çš„æœ€é•¿ä¸Šå‡åºåˆ—çš„é•¿åº¦Lis[i]=max(Lis[j]+1) j&lt;i and nums[j]&lt;nums[i]</code></pre><h2 id="O-nlogn-äºŒåˆ†-è´ªå¿ƒ"><a href="#O-nlogn-äºŒåˆ†-è´ªå¿ƒ" class="headerlink" title="O(nlogn) äºŒåˆ†+è´ªå¿ƒ"></a>O(nlogn) äºŒåˆ†+è´ªå¿ƒ</h2><pre><code>Lis[]å­˜å‚¨å½“å‰çš„æœ€é•¿ä¸Šå‡åºåˆ—å¦‚æœå½“å‰çš„æ•°æ¯”Lisä¸­æœ€åä¸€ä½è¿˜è¦å¤§ï¼ŒLis[++ans]=nums[i]å¦‚æœå°çš„è¯ï¼Œå°±åœ¨Lisæ•°ç»„ï¼ˆå•è°ƒé€’å¢ï¼‰ä¸­äºŒåˆ†æŸ¥æ‰¾å¤§äºç­‰äºnums[i]çš„ç¬¬ä¸€ä¸ªæ•°</code></pre><p><a href="https://zhuanlan.zhihu.com/p/40579713" target="_blank" rel="noopener">äºŒåˆ†æŸ¥æ‰¾æ•™ç¨‹</a></p><h3 id="code-7"><a href="#code-7" class="headerlink" title="code"></a>code</h3><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">lengthOfLIS</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>nums<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> Lis<span class="token punctuation">[</span><span class="token number">10005</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">return</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        Lis<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> Lis<span class="token punctuation">[</span>ans<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                Lis<span class="token punctuation">[</span><span class="token operator">++</span>ans<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> right <span class="token operator">=</span> ans<span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right<span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>Lis<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">>=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    right <span class="token operator">=</span> mid<span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">else</span>                <span class="token punctuation">{</span>                    left <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            Lis<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="å˜å¼ï¼šæ±‚LISçš„æ•°é‡"><a href="#å˜å¼ï¼šæ±‚LISçš„æ•°é‡" class="headerlink" title="å˜å¼ï¼šæ±‚LISçš„æ•°é‡"></a><a href="https://leetcode-cn.com/problems/number-of-longest-increasing-subsequence" target="_blank" rel="noopener">å˜å¼ï¼šæ±‚LISçš„æ•°é‡</a></h2><p>è¯´å®è¯ï¼Œè¿™é¢˜æƒ³äº†æŒºä¹…çš„ï¼Œä¹Ÿè°ƒäº†å¾ˆä¹…ã€‚</p><h3 id="dp"><a href="#dp" class="headerlink" title="dp"></a>dp</h3><p>ä¸æ±‚LISçš„O(n^2)ç®—æ³•ç±»ä¼¼ï¼Œå¤šç»´æŠ¤ä¸€ä¸ª<code>MaxLength[]</code>æ•°ç»„ï¼Œè®°å½•åˆ°å½“å‰ä½ç½®LISçš„é•¿åº¦</p><pre class=" language-cpp"><code class="language-cpp">j<span class="token operator">&lt;</span>i <span class="token operator">&amp;&amp;</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token comment" spellcheck="true">// Lis[i] == Lis[j] + 1 è¯´æ˜ä¹‹å‰å·²ç»æ‰¾åˆ°é•¿åº¦ä¸ºLis[i]çš„LISäº† ç°åœ¨è¿˜æœ‰ä¸€ç§æ–¹æ¡ˆï¼Œäºæ˜¯å°†ä¸¤ç§æ–¹æ¡ˆæ•°ç›¸åŠ </span><span class="token keyword">if</span> <span class="token punctuation">(</span>Lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> Lis<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    MaxLength<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> MaxLength<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// Lis[i] &lt; Lis[j] + 1 è¯´æ˜ä¹‹å‰æ²¡æœ‰æ‰¾åˆ°LISï¼Œç›´æ¥å°†æ–¹æ¡ˆæ•°è½¬ç§»</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>Lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> Lis<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    Lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> Lis<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    MaxLength<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> MaxLength<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="code-8"><a href="#code-8" class="headerlink" title="code"></a>code</h4><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> <span class="token function">findNumberOfLIS</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>nums<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> Lis<span class="token punctuation">[</span><span class="token number">10005</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> MaxLength<span class="token punctuation">[</span><span class="token number">10005</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">return</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">int</span> LisLength <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            MaxLength<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            Lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    <span class="token keyword">continue</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>Lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> Lis<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    MaxLength<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> MaxLength<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>Lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> Lis<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    Lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> Lis<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>                    MaxLength<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> MaxLength<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">// ä¸€è¾¹éå†ä¸€éç»´æŠ¤ç­”æ¡ˆ</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>Lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> LisLength<span class="token punctuation">)</span>            <span class="token punctuation">{</span>                LisLength <span class="token operator">=</span> Lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>                ans <span class="token operator">=</span> MaxLength<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>Lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> LisLength<span class="token punctuation">)</span>            <span class="token punctuation">{</span>                ans <span class="token operator">+</span><span class="token operator">=</span> MaxLength<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3 id="çº¿æ®µæ ‘"><a href="#çº¿æ®µæ ‘" class="headerlink" title="çº¿æ®µæ ‘"></a>çº¿æ®µæ ‘</h3><h1 id="å²›å±¿"><a href="#å²›å±¿" class="headerlink" title="å²›å±¿"></a><a href="https://leetcode-cn.com/problems/max-area-of-island/" target="_blank" rel="noopener">å²›å±¿</a></h1><h2 id="dfs"><a href="#dfs" class="headerlink" title="dfs"></a>dfs</h2><p>å°ä¼˜åŒ–ï¼šä¸éœ€è¦ç”¨é¢å¤–çš„boolæ•°ç»„è®°å½•æ˜¯å¦è®¿é—®è¿‡ï¼Œç›´æ¥å°†è®¿é—®è¿‡çš„é™†åœ°å˜ä¸ºæ°´å°±å¯ä»¥äº†ã€‚</p><p>æ³¨æ„areaçš„è®¡ç®—ï¼Œæ¯æ¬¡dfsåˆ°ä¸‹ä¸€ä¸ªç‚¹ï¼Œéƒ½è¦æ›´æ–°areaçš„å€¼å¹¶è¿”å›ç»™ä¸Šä¸€ä¸ªç‚¹ï¼Œè¿™æ ·å°±èƒ½ä¿è¯dfså…¥å£å¤„è¿”å›çš„areaæ˜¯æ€»çš„å¤§å°</p><h2 id="code-9"><a href="#code-9" class="headerlink" title="code"></a>code</h2><pre class=" language-cpp"><code class="language-cpp"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">{</span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token keyword">int</span> maxArea <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> dir<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">dfs</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token operator">&amp;</span>grid<span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> col<span class="token punctuation">,</span> <span class="token keyword">int</span> area<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        grid<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">int</span> nxtRow <span class="token operator">=</span> row <span class="token operator">+</span> dir<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> nxtCol <span class="token operator">=</span> col <span class="token operator">+</span> dir<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>nxtRow <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> nxtRow <span class="token operator">>=</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> nxtCol <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> nxtCol <span class="token operator">>=</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>grid<span class="token punctuation">[</span>nxtRow<span class="token punctuation">]</span><span class="token punctuation">[</span>nxtCol<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                area <span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> nxtRow<span class="token punctuation">,</span> nxtCol<span class="token punctuation">,</span> area <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> area<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> <span class="token function">maxAreaOfIsland</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token operator">&amp;</span>grid<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>                <span class="token punctuation">{</span>                    maxArea <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token function">dfs</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> maxArea<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> maxArea<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h2 id="å˜å¼ï¼šæ±‚å²›å±¿æ•°é‡"><a href="#å˜å¼ï¼šæ±‚å²›å±¿æ•°é‡" class="headerlink" title="å˜å¼ï¼šæ±‚å²›å±¿æ•°é‡"></a><a href="https://leetcode-cn.com/problems/number-of-islands/" target="_blank" rel="noopener">å˜å¼ï¼šæ±‚å²›å±¿æ•°é‡</a></h2><p>æ¯”ä¸Šä¸€é¢˜ç®€å•ä¸€ç‚¹ï¼Œåªéœ€è¦è®°å½•dfsäº†å¤šå°‘æ¬¡å³å¯ï¼Œä¸éœ€è¦æ±‚é¢ç§¯ã€‚</p><pre class=" language-cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">maxAreaOfIsland</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> <span class="token operator">&amp;</span>grid<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>grid<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>                maxArea <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token function">dfs</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> maxArea<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> maxArea<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> Leetcode </tag>
            
            <tag> Tree </tag>
            
            <tag> dp </tag>
            
            <tag> dfs </tag>
            
            <tag> LIS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.8 Notes</title>
      <link href="/2020/03/08/2020/3-8/"/>
      <url>/2020/03/08/2020/3-8/</url>
      
        <content type="html"><![CDATA[<h1 id="3-2-3-8-Learning-Notes"><a href="#3-2-3-8-Learning-Notes" class="headerlink" title="3.2-3.8 Learning Notes"></a>3.2-3.8 Learning Notes</h1><h1 id="CSAPP"><a href="#CSAPP" class="headerlink" title="CSAPP"></a>CSAPP</h1><h2 id="int-compare-with-unsigned-int"><a href="#int-compare-with-unsigned-int" class="headerlink" title="int compare with unsigned int"></a>int compare with unsigned int</h2><p><strong>If there is a mix    of unsigned and    signed    in    single    expression,<br>signed    values    implicitly    cast    to    unsigned</strong></p><p>2â€™s Complementâ€“&gt;è¡¥ç </p><p><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/20200304172430.png" alt="20200304172430.png"><br><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/20200304171926.png" alt="20200304171926.png"><br><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/20200304171945.png" alt="20200304171945.png"><br><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/20200304172228.png" alt="20200304172228.png"></p><h2 id="Expanding"><a href="#Expanding" class="headerlink" title="Expanding"></a>Expanding</h2><ul><li>Unsigned: add zeros</li><li>Signed: sign extension:convert w-bit signed int x to w+k-bit int with same value</li></ul><p><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/20200304172756.png" alt="20200304172756.png"></p><h2 id="Overflow"><a href="#Overflow" class="headerlink" title="Overflow"></a>Overflow</h2><h3 id="Add"><a href="#Add" class="headerlink" title="Add"></a>Add</h3><p><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/20200304210656.png" alt="20200304210656.png"></p><h3 id="Multiplication"><a href="#Multiplication" class="headerlink" title="Multiplication"></a>Multiplication</h3><p>Use shift to replace multiply because itâ€™s much faster</p><pre class=" language-python"><code class="language-python">u<span class="token operator">&lt;&lt;</span><span class="token number">3</span><span class="token operator">==</span>u<span class="token operator">*</span><span class="token number">8</span><span class="token punctuation">(</span>u<span class="token operator">&lt;&lt;</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token punctuation">(</span>u<span class="token operator">&lt;&lt;</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token operator">==</span>u<span class="token operator">*</span><span class="token number">24</span></code></pre><h2 id="How-to-use-the-unsigned"><a href="#How-to-use-the-unsigned" class="headerlink" title="How to use the unsigned"></a>How to use the unsigned</h2><p><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/20200304211256.png" alt="20200304211256.png"></p><p><code>i</code> will go around and become larger than cnt.<br>It works even if cnt is signed and <code>&lt;0</code></p><h2 id="Integer-Puzzles"><a href="#Integer-Puzzles" class="headerlink" title="Integer Puzzles"></a>Integer Puzzles</h2><p><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/InkedInkedCPuzzles_LI.jpg" alt="InkedInkedCPuzzles_LI.jpg"></p><ul><li>overflow in + and *</li><li>TMin (TMinå–ååè¿˜æ˜¯è‡ªå·±ï¼Œå› ä¸ºåªæœ‰å®ƒä¸å¯¹ç§°)</li><li>transformation between signed and unsigned</li></ul><h2 id="Shift"><a href="#Shift" class="headerlink" title="Shift"></a>Shift</h2><p><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/20200304213943.png" alt="20200304213943.png"></p><ul><li>logical shift: Fill with 0 on left</li><li>arithmetic shift: Replicate most significant bit on left<h3 id="Division-for-signed-number"><a href="#Division-for-signed-number" class="headerlink" title="Division for signed number"></a>Division for signed number</h3><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/20200304214543.png" alt="20200304214543.png"><br><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/20200304214627.png" alt="20200304214627.png"></li></ul><p>çº¢è‰²æ˜¯ç¬¦å·ä½å’Œarithmetic shift<br>é»„è‰²æ˜¯æ•°å­—ä½  </p><p><code>+2^k-1</code>å¯èƒ½ä¼šè®©æ•°å­—ä½<code>+1</code>,è¿™æ ·å•†ä¹Ÿä¼š<code>+1</code></p>]]></content>
      
      
      
        <tags>
            
            <tag> CSAPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>3.1 Notes</title>
      <link href="/2020/03/01/2020/3-1/"/>
      <url>/2020/03/01/2020/3-1/</url>
      
        <content type="html"><![CDATA[<h1 id="1-13-3-1-Learning-Notes"><a href="#1-13-3-1-Learning-Notes" class="headerlink" title="1.13-3.1 Learning Notes"></a>1.13-3.1 Learning Notes</h1><p>ä¸€çœ¨çœ¼ï¼Œå°±é¸½äº†ä¸€ä¸ªå¤šæœˆäº†â€¦â€¦</p><h1 id="Python-Spider-for-2019-nCoV-on-Weibo"><a href="#Python-Spider-for-2019-nCoV-on-Weibo" class="headerlink" title="Python Spider for 2019-nCoV on Weibo"></a>Python Spider for 2019-nCoV on Weibo</h1><p>Selenium+Wordcloud+Mysql<br>ç”±äºä¹‹å‰å·²ç»å°è£…å¥½äº†Wordcloudå’ŒMysqlçš„æ¥å£ï¼Œç›´æ¥è°ƒç”¨å³å¯<br><a href="https://zhuanlan.zhihu.com/p/78247846" target="_blank" rel="noopener">ä¸€ç¯‡å…³äºpythonå¤šæ–‡ä»¶é¡¹ç›®ç®¡ç†çš„æ–‡ç« </a></p><h2 id="Selenium"><a href="#Selenium" class="headerlink" title="Selenium"></a>Selenium</h2><p>è¿™æ¬¡åšäº†ä¸€ä¸ªæ¨¡æ‹Ÿç™»é™†çš„æ“ä½œï¼Œè¾“å…¥ç”¨æˆ·åå’Œå¯†ç å¹¶ç‚¹å‡»ç™»é™†ã€‚è¿™é‡Œéœ€è¦ä¸€ç‚¹ç½‘é¡µåˆ†æ<br><code>driver.find_element_by_xpath().send_keys()</code><br><code>driver.find_element_by_xpath().click()</code><br>åé¢å†æŠŠå¾®åšå†…å®¹å¯¹åº”çš„å…ƒç´ æ‰¾åˆ°å°±è¡Œäº†<br>å·æ‡’æ²¡æœ‰åšå±•å¼€å…¨æ–‡çš„åŠŸèƒ½ï¼ˆæœ‰äº›å¾®åšæ¯”è¾ƒé•¿ï¼‰</p><h2 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h2><p>æ³¨æ„è¦æŠŠ#æ ‡ç­¾å†…å®¹#å»æ‰ï¼Œå¦åˆ™ç”Ÿæˆçš„è¯äº‘ä¸å‡†ç¡®<br>æˆ‘åšçš„è¿™ä¸ªåªèƒ½çˆ¬50é¡µæ•°æ®ï¼Œä¸ä¼šåšååçˆ¬è™«<br><img src="https://raw.githubusercontent.com/doutv/Picbed/master/img/weibohot2020-02-03-10-39-39.png" alt="2æœˆ3å·çš„æ•°æ®"></p><h1 id="The-Missing-Semester-of-Your-CS-Education-by-MIT"><a href="#The-Missing-Semester-of-Your-CS-Education-by-MIT" class="headerlink" title="The Missing Semester of Your CS Education by MIT"></a><a href="https://missing.csail.mit.edu/" target="_blank" rel="noopener">The Missing Semester of Your CS Education by MIT</a></h1><p>è¿™æ˜¯ä¸€é—¨MITçš„ç½‘è¯¾ï¼Œå†…å®¹ç‰¹åˆ«ç¥å¥‡ï¼Œè®²çš„æ˜¯å„ç§å·¥å…·/æŠ€å·§çš„ä½¿ç”¨</p><h2 id="Schedule"><a href="#Schedule" class="headerlink" title="Schedule"></a>Schedule</h2><p>Course overview + the shell<br>Shell Tools and Scripting<br>Editors (Vim)<br>Data Wrangling<br>Command-line Environment<br>Version Control (Git)<br>Debugging and Profiling<br>Metaprogramming<br>Security and Cryptography<br>Potpourri<br>Q&amp;A  </p><h2 id="Shell"><a href="#Shell" class="headerlink" title="Shell"></a>Shell</h2><h3 id="echo"><a href="#echo" class="headerlink" title="echo"></a>echo</h3><h3 id="which"><a href="#which" class="headerlink" title="which"></a>which</h3><h3 id="pwd"><a href="#pwd" class="headerlink" title="pwd"></a>pwd</h3><p>current dir</p><h3 id="cd"><a href="#cd" class="headerlink" title="cd"></a>cd</h3><p>. refers to the current directory, and .. to its parent directory</p><h3 id="ls-l"><a href="#ls-l" class="headerlink" title="ls -l"></a>ls -l</h3><h3 id="man"><a href="#man" class="headerlink" title="man"></a>man</h3><p>the document for a command<br><code>man ls</code></p><h3 id="tldr"><a href="#tldr" class="headerlink" title="tldr"></a>tldr</h3><p>a brief usage for a command<br><a href="https://github.com/tldr-pages/tldr" target="_blank" rel="noopener">tldr</a></p><h3 id="stream"><a href="#stream" class="headerlink" title="stream"></a>stream</h3><pre><code>echo hello &gt; hello.txtecho hello &gt;&gt; hello.txt //appendcat &lt; hello.txt &gt; hello2.txtls -l | tail -n1ls -l | less</code></pre><h3 id=""><a href="#" class="headerlink" title="$"></a>$</h3><p>$0 - Name of the script<br>$1 to $9 - Arguments to the script. $1 is the first argument and so on.</p><h3 id="history"><a href="#history" class="headerlink" title="history"></a>history</h3><p><code>history</code>  listing history command<br><code>Ctrl+R</code>  finding recent command<br><code>Ctrl+C</code> When you want to delete the command.</p><h2 id="Vim"><a href="#Vim" class="headerlink" title="Vim"></a>Vim</h2><p>The best editor is Vim.<br>å¼ºè¿«è‡ªå·±åœ¨VSCé‡Œé¢è£…ä¸ŠVimæ’ä»¶ï¼Œå¤šç”¨ç”¨å°±ç†Ÿç»ƒäº†</p><ul><li>ci( change text in ()</li><li>dd</li><li>yy</li><li>p</li><li>o/O</li><li>u </li><li>dw delete word</li><li>cw change word</li><li>0/$ navigate within a line</li><li>line number+G</li><li>G/gg</li><li>f/t</li><li>/{regex} </li><li>q{character} record a macro</li><li>Ctrl+d/u<h3 id="games"><a href="#games" class="headerlink" title="games"></a>games</h3></li><li>vimtutor inside the Vim</li><li><a href="https://vim-adventures.com/" target="_blank" rel="noopener">Vim Adventures</a></li><li><a href="https://github.com/jmoon018/PacVim" target="_blank" rel="noopener">PacVim</a><h2 id="Data-Processing"><a href="#Data-Processing" class="headerlink" title="Data Processing"></a>Data Processing</h2><pre><code>ssh myserver journalctl| grep sshd | grep &quot;Disconnected from&quot;&#39; | less</code></pre></li></ul><p>ssh myserver journalctl<br> | grep sshd<br> | grep â€œDisconnected fromâ€<br> | sed -E â€˜s/.<em>Disconnected from (invalid |authenticating )?user (.</em>) [^ ]+ port [0-9]+( [preauth])?$/\2/â€˜</p><p>ssh myserver journalctl<br> | grep sshd<br> | grep â€œDisconnected fromâ€<br> | sed -E â€˜s/.<em>Disconnected from (invalid |authenticating )?user (.</em>) [^ ]+ port [0-9]+( [preauth])?$/\2/â€˜<br> | sort | uniq -c<br> | sort -nk1,1 | tail -n10<br> | awk â€˜{print $2}â€™ | paste -sd,</p><pre><code>### grep### sed# [CSAPP](https://www.bilibili.com/video/av31289365?p=1)æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ  åˆšå¼€å§‹çœ‹ï¼Œæ‰çœ‹å®Œç¬¬ä¸€è¯¾</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Tools </tag>
            
            <tag> Python Spider </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1.12 Notes</title>
      <link href="/2020/01/12/2020/1-6/"/>
      <url>/2020/01/12/2020/1-6/</url>
      
        <content type="html"><![CDATA[<h1 id="1-6-1-12-Learning-Notes"><a href="#1-6-1-12-Learning-Notes" class="headerlink" title="1.6-1.12 Learning Notes"></a>1.6-1.12 Learning Notes</h1><h1 id="python-spider"><a href="#python-spider" class="headerlink" title="python spider"></a>python spider</h1><p><a href="https://segmentfault.com/blog/papapa" target="_blank" rel="noopener">https://segmentfault.com/blog/papapa</a></p><h2 id="analyse-website"><a href="#analyse-website" class="headerlink" title="analyse website"></a>analyse website</h2><p>Chrome+F12</p><h3 id="construct-url"><a href="#construct-url" class="headerlink" title="construct url"></a>construct url</h3><p>é€šè¿‡å¯¹ä¸åŒé¡µé¢çš„urlåˆ†æï¼Œå¾—åˆ°æœ‰ç”¨çš„å‚æ•°ï¼Œä»è€Œæ„é€ å‡ºurl</p><h2 id="request-header"><a href="#request-header" class="headerlink" title="request header"></a>request header</h2><h2 id="request-cookie"><a href="#request-cookie" class="headerlink" title="request cookie"></a>request cookie</h2><p>ä»requesté‡Œé¢å¤åˆ¶ï¼Œæ¨¡æ‹ŸçœŸå®è¯·æ±‚</p><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">cookie_to_dict</span><span class="token punctuation">(</span>cookie<span class="token punctuation">)</span><span class="token punctuation">:</span>    cookie_dict <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>    items <span class="token operator">=</span> cookie<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">';'</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> item <span class="token keyword">in</span> items<span class="token punctuation">:</span>        key <span class="token operator">=</span> item<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>        value <span class="token operator">=</span> item<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>        cookie_dict<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value    <span class="token keyword">return</span> cookie_dictr <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span>headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> cookies<span class="token operator">=</span>cookies<span class="token punctuation">)</span></code></pre><h2 id="select-info"><a href="#select-info" class="headerlink" title="select info"></a>select info</h2><h3 id="bs4"><a href="#bs4" class="headerlink" title="bs4"></a>bs4</h3><p>è¯­æ³•ç®€å•ï¼Œå®¹æ˜“ä¸Šæ‰‹</p><h3 id="xpath"><a href="#xpath" class="headerlink" title="xpath"></a>xpath</h3><p>XMLä¸­æŸ¥æ‰¾ä¿¡æ¯<br>seleniumé‡Œé¢ä¹Ÿä¼šç”¨åˆ°</p><h3 id="regex"><a href="#regex" class="headerlink" title="regex"></a>regex</h3><p>åº”ç”¨èŒƒå›´æœ€å¹¿ï¼Œä½†æ˜¯ä¸Šæ‰‹éš¾<br><a href="https://regex101.com/r/dmRygT/1" target="_blank" rel="noopener">https://regex101.com/r/dmRygT/1</a><br><a href="https://deerchao.cn/tutorials/regex/regex.htm" target="_blank" rel="noopener">https://deerchao.cn/tutorials/regex/regex.htm</a></p><h2 id="selenium"><a href="#selenium" class="headerlink" title="selenium"></a>selenium</h2><p><a href="https://segmentfault.com/a/1190000015750160" target="_blank" rel="noopener">https://segmentfault.com/a/1190000015750160</a><br>æ¨¡æ‹Ÿç”¨æˆ·æ“ä½œï¼Œå®ç°åçˆ¬è™«  </p><h3 id="find-element-vs-find-elements"><a href="#find-element-vs-find-elements" class="headerlink" title="find_element vs find_elements"></a>find_element vs find_elements</h3><p><code>find_element</code>  return a webelement<br><code>find_elements</code> return a iterable list<br><code>webelement.text</code> return text</p><pre class=" language-python"><code class="language-python">allComments <span class="token operator">=</span> driver<span class="token punctuation">.</span>find_elements<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span> <span class="token string">"//div[@class='itm']"</span><span class="token punctuation">)</span><span class="token keyword">for</span> each <span class="token keyword">in</span> allComments<span class="token punctuation">:</span>    name <span class="token operator">=</span> each<span class="token punctuation">.</span>find_elements_by_xpath<span class="token punctuation">(</span>        <span class="token string">"./div[@class='cntwrap']/div[1]/div[1]/a"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>text</code></pre><h3 id="ç­‰å¾…ç½‘é¡µåŠ è½½"><a href="#ç­‰å¾…ç½‘é¡µåŠ è½½" class="headerlink" title="ç­‰å¾…ç½‘é¡µåŠ è½½"></a>ç­‰å¾…ç½‘é¡µåŠ è½½</h3><h4 id="explicit"><a href="#explicit" class="headerlink" title="explicit"></a>explicit</h4><p>æ˜¾å¼Wiatså…è®¸ä½ è®¾ç½®ä¸€ä¸ªåŠ è½½æ—¶é—´çš„ä¸Šé™å’Œä¸€ä¸ªæ¡ä»¶ï¼Œæ¯éš”0.5så°±åˆ¤æ–­ä¸€ä¸‹æ‰€è®¾æ¡ä»¶ï¼Œæ¡ä»¶æˆç«‹å°±ç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼Œå¦‚æœè¿‡äº†æ—¶é—´ä¸Šé™è¿˜æ˜¯æ²¡æœ‰æˆç«‹ï¼Œé»˜è®¤æŠ›å‡ºNoSuchElementException å¼‚å¸¸ã€‚è¿™ç§ç›¸å¯¹æ™ºèƒ½çš„ç­‰å¾…æ–¹æ³•èƒ½æœ€å¤§åŒ–åœ°èŠ‚çœæ—¶é—´ï¼Œåº”è¯¥ä¼˜å…ˆé€‰æ‹©ä½¿ç”¨</p><h4 id="implicit"><a href="#implicit" class="headerlink" title="implicit"></a>implicit</h4><p>driver.implicitly_wait(10)</p><h2 id="mysql-store-data"><a href="#mysql-store-data" class="headerlink" title="mysql store data"></a>mysql store data</h2><p><a href="https://dev.mysql.com/doc/refman/8.0/en/identifiers.html" target="_blank" rel="noopener">https://dev.mysql.com/doc/refman/8.0/en/identifiers.html</a><br>ç”¨åå¼•å·`åŒ…ä½ä¿ç•™å­—ï¼ˆè¡¨åã€å­—æ®µåç­‰ï¼‰<br>ç”¨åŒå¼•å·â€æˆ–å•å¼•å·â€™åŒ…ä½å­—ç¬¦ä¸²<br>åœ¨pythoné‡Œå†™sqlæ—¶ï¼Œç”¨ä¸‰ä¸ªå¼•å·â€â€â€åŒ…ä½sqlè¯­å¥</p><pre class=" language-python"><code class="language-python">cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">"DROP TABLE IF EXISTS `netease`.`{}`"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>tableName<span class="token punctuation">)</span><span class="token punctuation">)</span>cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token triple-quoted-string string">"""CREATE TABLE `{}` (    `id` INT NOT NULL AUTO_INCREMENT,    `name` VARCHAR(100),    `comment` VARCHAR(10000),    `lovenumber` INT,    `commenttime` VARCHAR(100),    PRIMARY KEY (`id`))"""</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>tableName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># ä¸Šé¢å‡ä¸ºåå¼•å·</span>sql <span class="token operator">=</span> <span class="token triple-quoted-string string">"""INSERT INTO `netease`.`{tableName}`        (`name`,`comment`,`lovenumber`,`commenttime`) # åå¼•å·        VALUES        ('{name}','{comment}',{lovenumber},'{commenttime}') # å¼•å·        """</span> <span class="token punctuation">.</span>format<span class="token punctuation">(</span>tableName<span class="token operator">=</span>tableName<span class="token punctuation">,</span> name<span class="token operator">=</span>name<span class="token punctuation">,</span> comment<span class="token operator">=</span>comment<span class="token punctuation">,</span> lovenumber<span class="token operator">=</span>lovenumber<span class="token punctuation">,</span> commenttime<span class="token operator">=</span>commenttime<span class="token punctuation">)</span></code></pre><h3 id="OOP-Refactor"><a href="#OOP-Refactor" class="headerlink" title="OOP Refactor"></a>OOP Refactor</h3><p><code>__enter__</code> <code>__exit__</code><br>å†™è¿™ä¸¤ä¸ªå‡½æ•°å°±å¯ä»¥ç”¨<code>with</code><br><a href="https://stackoverflow.com/questions/1984325/explaining-pythons-enter-and-exit" target="_blank" rel="noopener">https://stackoverflow.com/questions/1984325/explaining-pythons-enter-and-exit</a></p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> pymysql<span class="token keyword">class</span> <span class="token class-name">Mysql</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> host<span class="token punctuation">,</span> user<span class="token punctuation">,</span> password<span class="token punctuation">,</span> database<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>host <span class="token operator">=</span> host        self<span class="token punctuation">.</span>user <span class="token operator">=</span> user        self<span class="token punctuation">.</span>password <span class="token operator">=</span> password        self<span class="token punctuation">.</span>database <span class="token operator">=</span> database        self<span class="token punctuation">.</span>conn <span class="token operator">=</span> pymysql<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>            host<span class="token operator">=</span>self<span class="token punctuation">.</span>host<span class="token punctuation">,</span> user<span class="token operator">=</span>self<span class="token punctuation">.</span>user<span class="token punctuation">,</span> password<span class="token operator">=</span>self<span class="token punctuation">.</span>password<span class="token punctuation">,</span> database<span class="token operator">=</span>self<span class="token punctuation">.</span>database<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>cursor <span class="token operator">=</span> self<span class="token punctuation">.</span>conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">__enter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self    <span class="token keyword">def</span> <span class="token function">__exit__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> exc_type<span class="token punctuation">,</span> exc_val<span class="token punctuation">,</span> exc_tb<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>conn<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">fetchall</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>fetchall<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">execute</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> sql<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>sql<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">query</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> sql<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>sql<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>fetchall<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">commit</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>conn<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">close</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h2 id="ç”Ÿæˆè¯äº‘"><a href="#ç”Ÿæˆè¯äº‘" class="headerlink" title="ç”Ÿæˆè¯äº‘"></a>ç”Ÿæˆè¯äº‘</h2><p>å…ˆç”¨jiebaåˆ†å‰²è¯è¯­ï¼Œå†ç”¨wordcloud</p><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token keyword">from</span> wordcloud <span class="token keyword">import</span> WordCloud<span class="token keyword">import</span> jieba<span class="token keyword">import</span> src<span class="token punctuation">.</span>Mysql<span class="token keyword">class</span> <span class="token class-name">MyWordCloud</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> song<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>song <span class="token operator">=</span> song        self<span class="token punctuation">.</span>origin_text <span class="token operator">=</span> self<span class="token punctuation">.</span>fromDBGetText<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>wordlist_after_jieba <span class="token operator">=</span> self<span class="token punctuation">.</span>jiebaDiv<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>wordcloud <span class="token operator">=</span> self<span class="token punctuation">.</span>getWordCloud<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">fromDBGetText</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">with</span> src<span class="token punctuation">.</span>Mysql<span class="token punctuation">.</span>Mysql<span class="token punctuation">(</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> <span class="token string">'root'</span><span class="token punctuation">,</span> <span class="token string">'password'</span><span class="token punctuation">,</span> <span class="token string">'netease'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> db<span class="token punctuation">:</span>            sql <span class="token operator">=</span> <span class="token triple-quoted-string string">"""            SELECT comment FROM netease.{};            """</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>self<span class="token punctuation">.</span>song<span class="token punctuation">)</span>            self<span class="token punctuation">.</span>origin_text <span class="token operator">=</span> db<span class="token punctuation">.</span>query<span class="token punctuation">(</span>sql<span class="token punctuation">)</span>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>origin_text    <span class="token keyword">def</span> <span class="token function">jiebaDiv</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>wordlist_after_jieba <span class="token operator">=</span> jieba<span class="token punctuation">.</span>cut<span class="token punctuation">(</span>            str<span class="token punctuation">(</span>self<span class="token punctuation">.</span>origin_text<span class="token punctuation">)</span><span class="token punctuation">,</span> cut_all<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token string">" "</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>self<span class="token punctuation">.</span>wordlist_after_jieba<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">getWordCloud</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> WordCloud<span class="token punctuation">(</span>collocations<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> width<span class="token operator">=</span><span class="token number">2000</span><span class="token punctuation">,</span>                         height<span class="token operator">=</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">.</span>generate<span class="token punctuation">(</span>self<span class="token punctuation">.</span>wordlist_after_jieba<span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># collocations=False å»é™¤é‡å¤è¯è¯­</span>    <span class="token keyword">def</span> <span class="token function">saveToFile</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>wordcloud<span class="token punctuation">.</span>to_file<span class="token punctuation">(</span><span class="token string">'./img/{}.png'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>self<span class="token punctuation">.</span>song<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">plotImg</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>self<span class="token punctuation">.</span>wordcloud<span class="token punctuation">)</span>        plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">"off"</span><span class="token punctuation">)</span>        plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h2 id="å¤šçº¿ç¨‹ã€å¤šè¿›ç¨‹"><a href="#å¤šçº¿ç¨‹ã€å¤šè¿›ç¨‹" class="headerlink" title="å¤šçº¿ç¨‹ã€å¤šè¿›ç¨‹"></a>å¤šçº¿ç¨‹ã€å¤šè¿›ç¨‹</h2><p>Learning~</p>]]></content>
      
      
      
        <tags>
            
            <tag> Python Spider </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Useful Commands</title>
      <link href="/2019/12/24/2019/useful-command/"/>
      <url>/2019/12/24/2019/useful-command/</url>
      
        <content type="html"><![CDATA[<h1 id="Some-Useful-Commands"><a href="#Some-Useful-Commands" class="headerlink" title="Some Useful Commands"></a>Some Useful Commands</h1><h1 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h1><ul><li>touch newfile.md</li><li>leafpad</li><li>tree</li><li>tmux  mutiple windows</li><li>ctrl+r æœç´¢æœ€è¿‘å‘½ä»¤<h2 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h2></li><li><code>i</code> insert model</li><li><code>:wq</code> save and exit</li><li><code>:q!</code> exit without save</li><li><code>dd</code> delete current line</li><li><code>hjkl</code> move cursor</li><li><code>u</code> undo</li><li><code>x</code> delete one text<h1 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h1></li><li><code>npm -i xxx -s</code><h1 id="cd"><a href="#cd" class="headerlink" title="cd"></a>cd</h1></li><li><code>cd\</code> æ ¹ç›®å½•</li><li><code>cd..</code> ä¸Šä¸€çº§ç›®å½•</li><li><code>cd &gt;test.md</code> åˆ›å»ºç©ºæ–‡ä»¶<h1 id="mkdir-åˆ›å»ºç›®å½•"><a href="#mkdir-åˆ›å»ºç›®å½•" class="headerlink" title="mkdir åˆ›å»ºç›®å½•"></a>mkdir åˆ›å»ºç›®å½•</h1></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>12.22 Notes</title>
      <link href="/2019/12/22/2019/12.16/"/>
      <url>/2019/12/22/2019/12.16/</url>
      
        <content type="html"><![CDATA[<h1 id="12-16-12-22-Learning-Notes"><a href="#12-16-12-22-Learning-Notes" class="headerlink" title="12.16-12.22 Learning Notes"></a>12.16-12.22 Learning Notes</h1><h1 id="Mongodb"><a href="#Mongodb" class="headerlink" title="Mongodb"></a>Mongodb</h1><h2 id="set-up-server-on-AWS-EC2"><a href="#set-up-server-on-AWS-EC2" class="headerlink" title="set up server on AWS EC2"></a>set up server on AWS EC2</h2><p><a href="https://docs.mongodb.com/manual/introduction/" target="_blank" rel="noopener">https://docs.mongodb.com/manual/introduction/</a><br><a href="https://ianlondon.github.io/blog/mongodb-auth/" target="_blank" rel="noopener">https://ianlondon.github.io/blog/mongodb-auth/</a></p><h2 id="securely-close-mongodb-service"><a href="#securely-close-mongodb-service" class="headerlink" title="securely close mongodb service"></a>securely close mongodb service</h2><pre><code>use admindb.shutdownServer()exit</code></pre><p>if not properly closed:<br>Run<br><code>ps -eaf | grep mongod</code> to find the running instance.<br>If running, kill the process <code>sudo kill &lt;pID&gt;</code> obtained from above grep command.<br><a href="https://stackoverflow.com/questions/44497009/mongod-error-98-unable-to-lock-file-data-db-mongod-lock-resource-temporarily/44498179" target="_blank" rel="noopener">https://stackoverflow.com/questions/44497009/mongod-error-98-unable-to-lock-file-data-db-mongod-lock-resource-temporarily/44498179</a></p><h2 id="connect-to-mongodb-server"><a href="#connect-to-mongodb-server" class="headerlink" title="connect to mongodb server"></a>connect to mongodb server</h2><p>Obtain your MongoDB connection string<br><a href="https://docs.mongodb.com/manual/reference/connection-string/" target="_blank" rel="noopener">https://docs.mongodb.com/manual/reference/connection-string/</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Database </tag>
            
            <tag> Mongodb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>12.9 Notes</title>
      <link href="/2019/12/09/2019/12.9/"/>
      <url>/2019/12/09/2019/12.9/</url>
      
        <content type="html"><![CDATA[<h1 id="12-9-12-15-Learning-Notes"><a href="#12-9-12-15-Learning-Notes" class="headerlink" title="12.9-12.15 Learning Notes"></a>12.9-12.15 Learning Notes</h1><p>Finalæ¥äº†</p><h1 id="AWS"><a href="#AWS" class="headerlink" title="AWS"></a>AWS</h1><p>Free resources for student<br><a href="https://github.com/ivmm/Student-resources" target="_blank" rel="noopener">https://github.com/ivmm/Student-resources</a>  </p><p>ç©ä¸€ç©linuxå’Œäº‘æœåŠ¡å™¨</p><h2 id="connect-to-AWS"><a href="#connect-to-AWS" class="headerlink" title="connect to AWS"></a>connect to AWS</h2><p>éœ€è¦ä¸€ä¸ªå¯†é’¥å¯¹ï¼Œä¸æ˜¯æ™®é€šçš„è¾“å…¥å¯†ç <br>æœåŠ¡å™¨é‡å¯ååœ°å€ä¼šæ”¹å˜ï¼Œè¦æ‰‹åŠ¨æ›´æ¢</p><h3 id="putty-amp-ssh"><a href="#putty-amp-ssh" class="headerlink" title="putty&amp;ssh"></a>putty&amp;ssh</h3><p>set font in putty</p><h2 id="sudoå¤§æ³•å¥½"><a href="#sudoå¤§æ³•å¥½" class="headerlink" title="sudoå¤§æ³•å¥½"></a>sudoå¤§æ³•å¥½</h2><p>èƒ½è§£å†³å¾ˆå¤šå¥‡æ€ªçš„é—®é¢˜</p><h2 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h2><p>really hard to learn<br><a href="https://coolshell.cn/articles/5426.html" target="_blank" rel="noopener">https://coolshell.cn/articles/5426.html</a></p><h2 id="run-mysql"><a href="#run-mysql" class="headerlink" title="run mysql"></a>run mysql</h2><p><a href="https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-18-04" target="_blank" rel="noopener">https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-18-04</a></p><h2 id="run-ss-server"><a href="#run-ss-server" class="headerlink" title="run ss server"></a>run ss server</h2><p><a href="https://cs.xieyonghui.com/linux/shadowsocks-install-and-configuration_20.html" target="_blank" rel="noopener">https://cs.xieyonghui.com/linux/shadowsocks-install-and-configuration_20.html</a></p><h3 id="differences-between-vpn-and-ss"><a href="#differences-between-vpn-and-ss" class="headerlink" title="differences between vpn and ss"></a>differences between vpn and ss</h3><p><a href="https://superuser.com/questions/1233614/what-is-the-difference-between-shadowsocks-and-openvpn" target="_blank" rel="noopener">https://superuser.com/questions/1233614/what-is-the-difference-between-shadowsocks-and-openvpn</a></p><h1 id="sourcetrail"><a href="#sourcetrail" class="headerlink" title="sourcetrail"></a>sourcetrail</h1><p>ä¸€ä¸ªç¥å¥‡çš„é¡¹ç›®ä»£ç å¯è§†åŒ–å·¥å…·<br><a href="https://www.sourcetrail.com/documentation/" target="_blank" rel="noopener">https://www.sourcetrail.com/documentation/</a></p><h1 id="Typescript"><a href="#Typescript" class="headerlink" title="Typescript"></a>Typescript</h1><p>ç•¥å¾®äº†è§£<br><a href="https://stackoverflow.com/questions/12694530/what-is-typescript-and-why-would-i-use-it-in-place-of-javascript/35048303#35048303" target="_blank" rel="noopener">https://stackoverflow.com/questions/12694530/what-is-typescript-and-why-would-i-use-it-in-place-of-javascript/35048303#35048303</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> Cloud Server </tag>
            
            <tag> AWS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>12.2 Notes</title>
      <link href="/2019/12/02/2019/12.2/"/>
      <url>/2019/12/02/2019/12.2/</url>
      
        <content type="html"><![CDATA[<h1 id="12-2-12-8-Learning-Notes"><a href="#12-2-12-8-Learning-Notes" class="headerlink" title="12.2-12.8 Learning Notes"></a>12.2-12.8 Learning Notes</h1><h1 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h1><h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><p>å†™OJé¢˜å°±<code>public static</code></p><ul><li>é™æ€</li><li>å®ä¾‹</li><li>ç±»</li></ul><h1 id="SecondMST"><a href="#SecondMST" class="headerlink" title="SecondMST"></a>SecondMST</h1><h2 id="æ¬¡å°ç”Ÿæˆæ ‘"><a href="#æ¬¡å°ç”Ÿæˆæ ‘" class="headerlink" title="æ¬¡å°ç”Ÿæˆæ ‘"></a>æ¬¡å°ç”Ÿæˆæ ‘</h2><p>æš´åŠ›æšä¸¾ä¸åœ¨æœ€å°ç”Ÿæˆæ ‘ä¸­çš„è¾¹(u,v,w)ï¼ˆç§°ä¸ºæ— ç”¨è¾¹ï¼‰<br>æ±‚æœ€å°ç”Ÿæˆæ ‘ä¸­u-vçš„æƒå€¼æœ€å¤§çš„è¾¹ï¼Œç”¨å½“å‰æšä¸¾åˆ°çš„æ— ç”¨è¾¹ï¼ˆç§°ä¸ºå…³é”®è¾¹ï¼‰æ›¿æ¢æƒå€¼æœ€å¤§çš„è¾¹ï¼Œå¾—åˆ°ä¸€æ£µç”Ÿæˆæ ‘ã€‚<br>æšä¸¾æ‰€æœ‰æ— ç”¨è¾¹åï¼Œå–æœ€å¤§çš„ç”Ÿæˆæ ‘å³ä¸ºæ¬¡å°ç”Ÿæˆæ ‘ã€‚</p><p>ç”¨å€å¢+LCAæ±‚u-vä¸­æƒå€¼æœ€å¤§çš„è¾¹<br><code>O(nlogn)</code>ï¼ˆä¸åŒ…æ‹¬æ±‚æœ€å°ç”Ÿæˆæ ‘çš„å¤æ‚åº¦ï¼‰</p><h2 id="ä¸¥æ ¼æ¬¡å°ç”Ÿæˆæ ‘"><a href="#ä¸¥æ ¼æ¬¡å°ç”Ÿæˆæ ‘" class="headerlink" title="ä¸¥æ ¼æ¬¡å°ç”Ÿæˆæ ‘"></a>ä¸¥æ ¼æ¬¡å°ç”Ÿæˆæ ‘</h2><p><a href="https://www.luogu.com.cn/problem/P4180" target="_blank" rel="noopener">https://www.luogu.com.cn/problem/P4180</a><br>å€å¢æ—¶å¤šç»´æŠ¤ä¸€ä¸ªu-vä¸Šçš„ä¸¥æ ¼æ¬¡å¤§å€¼</p><pre class=" language-c"><code class="language-c"><span class="token keyword">long</span> <span class="token keyword">long</span> <span class="token function">calSecondMax</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span> maxn1<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token keyword">long</span> maxn2<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token keyword">long</span> secondmaxn1<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token keyword">long</span> secondmaxn2<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>maxn1 <span class="token operator">></span> maxn2<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">max</span><span class="token punctuation">(</span>maxn2<span class="token punctuation">,</span> <span class="token function">max</span><span class="token punctuation">(</span>secondmaxn1<span class="token punctuation">,</span> secondmaxn2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>maxn1 <span class="token operator">&lt;</span> maxn2<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">max</span><span class="token punctuation">(</span>maxn1<span class="token punctuation">,</span> <span class="token function">max</span><span class="token punctuation">(</span>secondmaxn1<span class="token punctuation">,</span> secondmaxn2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>maxn1 <span class="token operator">==</span> maxn2<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">max</span><span class="token punctuation">(</span>secondmaxn1<span class="token punctuation">,</span> secondmaxn2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//dfsä¸­åˆå§‹åŒ–å€å¢æ•°ç»„</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> i<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> depth<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        f<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> f<span class="token punctuation">[</span>f<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        wMax<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>wMax<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> wMax<span class="token punctuation">[</span>f<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        wSecondMax<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">calSecondMax</span><span class="token punctuation">(</span>wMax<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> wMax<span class="token punctuation">[</span>f<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> wSecondMax<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> wSecondMax<span class="token punctuation">[</span>f<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//è®¡ç®—u-væœ€å¤§è¾¹æƒ</span><span class="token comment" spellcheck="true">//keyweightæ˜¯å…³é”®è¾¹é•¿åº¦</span><span class="token keyword">long</span> <span class="token keyword">long</span> <span class="token function">calUtoVMaxWeight</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span> u<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token keyword">long</span> v<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token keyword">long</span> keyweight<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">long</span> <span class="token keyword">long</span> umaxWeight <span class="token operator">=</span> <span class="token operator">-</span>INF<span class="token punctuation">;</span>    <span class="token keyword">long</span> <span class="token keyword">long</span> vmaxWeight <span class="token operator">=</span> <span class="token operator">-</span>INF<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>depth<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">&lt;</span> depth<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token function">swap</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span> j <span class="token operator">=</span> maxDepth<span class="token punctuation">;</span> j <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>depth<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">></span> depth<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> depth<span class="token punctuation">[</span>f<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">>=</span> depth<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//å½“å…³é”®è¾¹é•¿åº¦=æœ€å¤§è¾¹æƒæ—¶ï¼Œå–ä¸¥æ ¼æ¬¡å¤§å€¼</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>wMax<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> keyweight<span class="token punctuation">)</span>                umaxWeight <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>umaxWeight<span class="token punctuation">,</span> wMax<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">else</span>                umaxWeight <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>umaxWeight<span class="token punctuation">,</span> wSecondMax<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            u <span class="token operator">=</span> f<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>u <span class="token operator">==</span> v<span class="token punctuation">)</span>        <span class="token keyword">return</span> umaxWeight<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span> j <span class="token operator">=</span> maxDepth<span class="token punctuation">;</span> j <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>f<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> f<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// ä¸¤ç§å†™æ³•ç­‰ä»·</span>            <span class="token comment" spellcheck="true">// 1.æ±‚å››ä¸ªæ•°ä¸­çš„ä¸¥æ ¼æ¬¡å°å€¼</span>            <span class="token comment" spellcheck="true">// long long maxn = max(wMax[v][j], wMax[u][j]);</span>            <span class="token comment" spellcheck="true">// long long minx = min(wMax[v][j], wMax[u][j]);</span>            <span class="token comment" spellcheck="true">// if (maxn &lt; keyweight)</span>            <span class="token comment" spellcheck="true">// {</span>            <span class="token comment" spellcheck="true">//     maxWeight = max(maxWeight, maxn);</span>            <span class="token comment" spellcheck="true">// }</span>            <span class="token comment" spellcheck="true">// else if (minx &lt; keyweight)</span>            <span class="token comment" spellcheck="true">// {</span>            <span class="token comment" spellcheck="true">//     maxWeight = max(max(minx, maxWeight), max(wSecondMax[v][j], wSecondMax[u][j]));</span>            <span class="token comment" spellcheck="true">// }</span>            <span class="token comment" spellcheck="true">// else</span>            <span class="token comment" spellcheck="true">// {</span>            <span class="token comment" spellcheck="true">//     maxWeight = max(maxWeight, max(wSecondMax[v][j], wSecondMax[u][j]));</span>            <span class="token comment" spellcheck="true">// }</span>            <span class="token comment" spellcheck="true">// 2.LCA(u,v)å·¦å³å­æ ‘åˆ†å¼€æ¥è®¡ç®—ï¼Œæœ€åå†åˆå¹¶</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>wMax<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> keyweight<span class="token punctuation">)</span>                umaxWeight <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>umaxWeight<span class="token punctuation">,</span> wMax<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">else</span>                umaxWeight <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>umaxWeight<span class="token punctuation">,</span> wSecondMax<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            u <span class="token operator">=</span> f<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>wMax<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> keyweight<span class="token punctuation">)</span>                vmaxWeight <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>vmaxWeight<span class="token punctuation">,</span> wMax<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">else</span>                vmaxWeight <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>vmaxWeight<span class="token punctuation">,</span> wSecondMax<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            v <span class="token operator">=</span> f<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">long</span> <span class="token keyword">long</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>wMax<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> keyweight<span class="token punctuation">)</span>        umaxWeight <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>umaxWeight<span class="token punctuation">,</span> wMax<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span>        umaxWeight <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>umaxWeight<span class="token punctuation">,</span> wSecondMax<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>wMax<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> keyweight<span class="token punctuation">)</span>        vmaxWeight <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>vmaxWeight<span class="token punctuation">,</span> wMax<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span>        vmaxWeight <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>vmaxWeight<span class="token punctuation">,</span> wSecondMax<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">max</span><span class="token punctuation">(</span>umaxWeight<span class="token punctuation">,</span> vmaxWeight<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h1 id="Opencv"><a href="#Opencv" class="headerlink" title="Opencv"></a>Opencv</h1><h2 id="install"><a href="#install" class="headerlink" title="install"></a>install</h2><p>visual studio is ok<br>vscode is hard to configure</p><h2 id="color-detection"><a href="#color-detection" class="headerlink" title="color detection"></a>color detection</h2><p><a href="https://www.opencv-srf.com/2010/09/object-detection-using-color-seperation.html" target="_blank" rel="noopener">https://www.opencv-srf.com/2010/09/object-detection-using-color-seperation.html</a></p><p>use HSV to select certain color<br>è‰²è°ƒã€é¥±å’Œåº¦ã€äº®åº¦</p><p>HUE is unique for that specific color distribution of that object<br>SATURATION and VALUE may be vary according to the lighting condition of that environment</p><p><strong>You have to find the exact range of HUE values according to the color of the object</strong><br><strong>The SATURATION and VALUE is depend on the lighting condition of the environment as well as the surface of the object.</strong></p><h3 id="Morphological-Dilation-and-Erosion"><a href="#Morphological-Dilation-and-Erosion" class="headerlink" title="Morphological Dilation and Erosion"></a>Morphological Dilation and Erosion</h3><p>é™å™ªç®—æ³•<br><a href="https://ww2.mathworks.cn/help/images/morphological-dilation-and-erosion.html" target="_blank" rel="noopener">https://ww2.mathworks.cn/help/images/morphological-dilation-and-erosion.html</a></p><p>Dilation adds pixels to the boundaries of objects in an image, while erosion removes pixels on object boundaries. </p><p>The number of pixels added or removed from the objects in an image depends on the size and shape of the structuring element used to process the image</p><h4 id="dilation"><a href="#dilation" class="headerlink" title="dilation"></a>dilation</h4><p>è¡¥æ¼æ´<br>The value of the output pixel is the maximum value of all pixels in the neighborhood</p><h4 id="erosion"><a href="#erosion" class="headerlink" title="erosion"></a>erosion</h4><p>å»é™¤å°ç‚¹<br>The value of the output pixel is the minimum value of all pixels in the neighborhood</p><p>è°ƒå‚æ¸¸æˆ</p><h1 id="holding-self-driving-boat-competition"><a href="#holding-self-driving-boat-competition" class="headerlink" title="holding self-driving boat competition"></a>holding self-driving boat competition</h1><p>è®¾è®¡æ— äººèˆ¹æ¯”èµ›æ–¹æ¡ˆ</p><h2 id="locating-and-navigation"><a href="#locating-and-navigation" class="headerlink" title="locating and navigation"></a>locating and navigation</h2><ul><li>IMU</li><li>è¶…å£°æ³¢</li><li>UWB</li><li>CV</li><li>DRç®—æ³•<h3 id="å¡å°”æ›¼æ»¤æ³¢"><a href="#å¡å°”æ›¼æ»¤æ³¢" class="headerlink" title="å¡å°”æ›¼æ»¤æ³¢"></a>å¡å°”æ›¼æ»¤æ³¢</h3><a href="https://blog.csdn.net/u010720661/article/details/63253509" target="_blank" rel="noopener">https://blog.csdn.net/u010720661/article/details/63253509</a><br>ï¼ˆå‡è£…è‡ªå·±çœ‹å¾—æ‡‚ï¼‰</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Algorithm </tag>
            
            <tag> Self-Driving Boat Project </tag>
            
            <tag> Opencv </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>11.25 Notes</title>
      <link href="/2019/11/25/2019/11.25/"/>
      <url>/2019/11/25/2019/11.25/</url>
      
        <content type="html"><![CDATA[<h1 id="11-25-12-1-Learning-Notes"><a href="#11-25-12-1-Learning-Notes" class="headerlink" title="11.25-12.1 Learning Notes"></a>11.25-12.1 Learning Notes</h1><h1 id="pygame"><a href="#pygame" class="headerlink" title="pygame"></a>pygame</h1><h2 id="read-Snake-Game-program"><a href="#read-Snake-Game-program" class="headerlink" title="read Snake Game program"></a>read Snake Game program</h2><p>use pygame document</p><p><a href="https://www.pygame.org/docs/" target="_blank" rel="noopener">https://www.pygame.org/docs/</a></p><h3 id="def-init"><a href="#def-init" class="headerlink" title="def init"></a>def <strong>init</strong></h3><p>æ„é€ å‡½æ•°</p><h3 id="why-self"><a href="#why-self" class="headerlink" title="why self?"></a>why self?</h3><p><a href="https://stackoverflow.com/questions/2709821/what-is-the-purpose-of-the-word-self-in-python" target="_blank" rel="noopener">https://stackoverflow.com/questions/2709821/what-is-the-purpose-of-the-word-self-in-python</a></p><p>Letâ€™s say you have a class ClassA which contains a method methodA defined as:</p><pre class=" language-py"><code class="language-py">def methodA(self, arg1, arg2):    # do something</code></pre><p>and <code>ObjectA</code> is an instance of this class.</p><p>Now when <code>ObjectA.methodA(arg1, arg2)</code> is called, python internally converts it for you as:</p><pre class=" language-py"><code class="language-py">ClassA.methodA(ObjectA, arg1, arg2)</code></pre><p>The self variable refers to the object itself.</p><h3 id="from-pygame-locals-import"><a href="#from-pygame-locals-import" class="headerlink" title="from pygame.locals import *"></a>from pygame.locals import *</h3><p>import all constants in pygame<br>such as</p><pre><code>KEYDOWNQUITMOUSEMOTION</code></pre><h3 id="pygame-time"><a href="#pygame-time" class="headerlink" title="pygame.time"></a>pygame.time</h3><pre class=" language-py"><code class="language-py">fps_clock = pygame.time.Clock()# create a new Clock objectfps_clock.tick(snake.speed)# set the frame per second (fps)</code></pre><h2 id="write-Flappy-Bird-program"><a href="#write-Flappy-Bird-program" class="headerlink" title="write Flappy Bird program"></a>write Flappy Bird program</h2><h3 id="draw-rectangle"><a href="#draw-rectangle" class="headerlink" title="draw rectangle"></a>draw rectangle</h3><p>left and top</p><p><img src="https://i.loli.net/2019/12/01/Anuk7IQRv3l6FrZ.png" alt="20191201145419.png"></p><h3 id="class-Hero-pygame-sprite-Sprite"><a href="#class-Hero-pygame-sprite-Sprite" class="headerlink" title="class Hero(pygame.sprite.Sprite):"></a>class Hero(pygame.sprite.Sprite):</h3><h3 id="pygame-sprite-Group"><a href="#pygame-sprite-Group" class="headerlink" title="pygame.sprite.Group()"></a>pygame.sprite.Group()</h3><h3 id="for-event-in-pygame-event-get"><a href="#for-event-in-pygame-event-get" class="headerlink" title="for event in pygame.event.get():"></a>for event in pygame.event.get():</h3><h3 id="pygame-sprite-groupcollide"><a href="#pygame-sprite-groupcollide" class="headerlink" title="pygame.sprite.groupcollide"></a>pygame.sprite.groupcollide</h3><h1 id="data-structure"><a href="#data-structure" class="headerlink" title="data structure"></a>data structure</h1><h2 id="red-black-tree"><a href="#red-black-tree" class="headerlink" title="red-black tree"></a>red-black tree</h2><h3 id="properties"><a href="#properties" class="headerlink" title="properties"></a>properties</h3><ul><li>Every node is either red or black</li><li>The root is black</li><li>Every leaf (NIL) is black</li><li>If a node is red, then both its children are black</li><li>No two consecutive red nodes on a simple path from the root to a leaf</li><li>For each node, all paths from that node to descendant leaves contain the same number of black nodes<br><img src="https://i.loli.net/2019/12/01/DoCb1Lz96BsjdOS.png" alt="20191201145818.png"><h3 id="rotation"><a href="#rotation" class="headerlink" title="rotation"></a>rotation</h3><img src="https://i.loli.net/2019/12/01/iRKyXYecbGOTIDB.png" alt="20191201145928.png"><br><img src="https://i.loli.net/2019/12/01/FMuC8OAt7l2yGpI.png" alt="20191201145942.png"><h2 id="AVL-tree"><a href="#AVL-tree" class="headerlink" title="AVL tree"></a>AVL tree</h2><h3 id="properties-1"><a href="#properties-1" class="headerlink" title="properties"></a>properties</h3>The height of the left and right subtrees can differ by at most 1. <h3 id="maintein"><a href="#maintein" class="headerlink" title="maintein"></a>maintein</h3><img src="https://i.loli.net/2019/12/01/6O2eXBMgmbkJjuq.png" alt="20191201150107.png"><h4 id="LL"><a href="#LL" class="headerlink" title="LL"></a>LL</h4><img src="https://i.loli.net/2019/12/01/hiXKxg3LrUR491k.png" alt="20191201150449.png"><br><img src="https://i.loli.net/2019/12/01/LhKyUa6z19nBYxO.png" alt="20191201150456.png"><h4 id="LR"><a href="#LR" class="headerlink" title="LR"></a>LR</h4><img src="https://i.loli.net/2019/12/01/Ca93LDeARQMGZTU.png" alt="20191201150509.png"><br><img src="https://i.loli.net/2019/12/01/SQDOEC9uc1BgX2s.png" alt="20191201150527.png"></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Algorithm </tag>
            
            <tag> Python </tag>
            
            <tag> Pygame </tag>
            
            <tag> Data Structure </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>11.18 Notes</title>
      <link href="/2019/11/18/2019/11.18/"/>
      <url>/2019/11/18/2019/11.18/</url>
      
        <content type="html"><![CDATA[<h1 id="11-18-11-24-Learning-Notes"><a href="#11-18-11-24-Learning-Notes" class="headerlink" title="11.18-11.24 Learning Notes"></a>11.18-11.24 Learning Notes</h1><h1 id="async-amp-await"><a href="#async-amp-await" class="headerlink" title="async &amp; await"></a>async &amp; await</h1><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// å¤šä¸ªawait é¡ºåºæ‰§è¡Œ</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">try</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> val1 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">firstStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> val2 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">secondStep</span><span class="token punctuation">(</span>val1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> val3 <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">thirdStep</span><span class="token punctuation">(</span>val1<span class="token punctuation">,</span> val2<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Final: '</span><span class="token punctuation">,</span> val3<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// forå¾ªç¯å†…éƒ¨çš„await</span><span class="token keyword">const</span> superagent <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'superagent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> NUM_RETRIES <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">let</span> i<span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> NUM_RETRIES<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>      <span class="token keyword">await</span> superagent<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'http://google.com/this-throws-an-error'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token punctuation">}</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 3</span><span class="token punctuation">}</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="awaitåº”è¯¥æ”¾åœ¨tryâ€“catchç»“æ„é‡Œé¢ï¼Œä»¥å…å‡ºé”™"><a href="#awaitåº”è¯¥æ”¾åœ¨tryâ€“catchç»“æ„é‡Œé¢ï¼Œä»¥å…å‡ºé”™" class="headerlink" title="awaitåº”è¯¥æ”¾åœ¨tryâ€“catchç»“æ„é‡Œé¢ï¼Œä»¥å…å‡ºé”™"></a>awaitåº”è¯¥æ”¾åœ¨tryâ€“catchç»“æ„é‡Œé¢ï¼Œä»¥å…å‡ºé”™</h3><h1 id="sequelize"><a href="#sequelize" class="headerlink" title="sequelize"></a>sequelize</h1><h2 id="operators-é€»è¾‘è¿ç®—ç¬¦"><a href="#operators-é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="operators é€»è¾‘è¿ç®—ç¬¦"></a>operators é€»è¾‘è¿ç®—ç¬¦</h2><p><a href="https://sequelize.org/master/manual/querying.html#operators" target="_blank" rel="noopener">https://sequelize.org/master/manual/querying.html#operators</a></p><pre class=" language-js"><code class="language-js"><span class="token punctuation">[</span>Op<span class="token punctuation">.</span>or<span class="token punctuation">]</span><span class="token punctuation">[</span>Op<span class="token punctuation">.</span>like<span class="token punctuation">]</span></code></pre><h2 id="order"><a href="#order" class="headerlink" title="order"></a>order</h2><p><a href="https://sequelize.org/master/manual/querying.html#ordering" target="_blank" rel="noopener">https://sequelize.org/master/manual/querying.html#ordering</a></p><pre class=" language-js"><code class="language-js">order<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Turnover'</span><span class="token punctuation">,</span> <span class="token string">'DESC'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true">//é™åº</span>order<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'Purchased'</span><span class="token punctuation">,</span> <span class="token string">'ASC'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true">//å‡åº</span></code></pre><h2 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h2><p>é™åˆ¶æ•°é‡</p><h1 id="ç”¨å˜é‡æ¥æ„å»ºå¯¹è±¡"><a href="#ç”¨å˜é‡æ¥æ„å»ºå¯¹è±¡" class="headerlink" title="ç”¨å˜é‡æ¥æ„å»ºå¯¹è±¡"></a>ç”¨å˜é‡æ¥æ„å»ºå¯¹è±¡</h1><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// imageObject={Image_num:ImageURL}</span><span class="token comment" spellcheck="true">// å…¶ä¸­numã€ImageURLç”±ç”¨æˆ·è¾“å…¥</span><span class="token comment" spellcheck="true">//1.å­—ç¬¦ä¸²æ‹¼æ¥+JSON.parse()</span><span class="token keyword">let</span> num<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">let</span> ImageIndex <span class="token operator">=</span> <span class="token string">"Image_"</span> <span class="token operator">+</span> num<span class="token punctuation">;</span><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">"{\""</span> <span class="token operator">+</span> ImageIndex <span class="token operator">+</span> <span class="token string">"\":\""</span> <span class="token operator">+</span> ImageURL <span class="token operator">+</span> <span class="token string">"\"}"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//ç”¨\å®ç°è½¬ä¹‰</span><span class="token keyword">let</span> imageObject <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//2.ES6ä¸­è¡¨è¾¾å¼å¯ä»¥ä½œä¸ºkey</span><span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">let</span> ImageIndex <span class="token operator">=</span> <span class="token string">"Image_"</span> <span class="token operator">+</span> num<span class="token punctuation">;</span><span class="token keyword">let</span> ImageURL <span class="token operator">=</span> <span class="token string">"www.google.com"</span><span class="token punctuation">;</span><span class="token keyword">let</span> imageObject <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token punctuation">[</span>ImageIndex<span class="token punctuation">]</span><span class="token punctuation">:</span>ImageURL<span class="token punctuation">}</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>imageObject<span class="token punctuation">[</span><span class="token string">"Image_10"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//www.google.com</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>imageObject<span class="token punctuation">[</span>ImageIndex<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//www.google.com</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Sequelize </tag>
            
            <tag> Node.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>11.3 Notes</title>
      <link href="/2019/11/03/2019/11.3/"/>
      <url>/2019/11/03/2019/11.3/</url>
      
        <content type="html"><![CDATA[<h1 id="10-28-11-3-Learning-Notes"><a href="#10-28-11-3-Learning-Notes" class="headerlink" title="10.28-11.3 Learning Notes"></a>10.28-11.3 Learning Notes</h1><h1 id="Sequelize"><a href="#Sequelize" class="headerlink" title="Sequelize"></a>Sequelize</h1><p>å°†renteré¡¹ç›®ä¸­çš„sqlå…¨éƒ¨æ”¹æˆsequelize<br>ä»¥ä¸‹æ˜¯æˆ‘çš„ä»£ç é‡æ„å†ç¨‹:</p><h2 id="åœ¨åŸä»£ç åŸºç¡€ä¸Šç¨ä½œæ”¹åŠ¨"><a href="#åœ¨åŸä»£ç åŸºç¡€ä¸Šç¨ä½œæ”¹åŠ¨" class="headerlink" title="åœ¨åŸä»£ç åŸºç¡€ä¸Šç¨ä½œæ”¹åŠ¨"></a>åœ¨åŸä»£ç åŸºç¡€ä¸Šç¨ä½œæ”¹åŠ¨</h2><h2 id="å¦‚ä½•è¿›è¡Œä»£ç æµ‹è¯•ï¼Ÿ"><a href="#å¦‚ä½•è¿›è¡Œä»£ç æµ‹è¯•ï¼Ÿ" class="headerlink" title="å¦‚ä½•è¿›è¡Œä»£ç æµ‹è¯•ï¼Ÿ"></a>å¦‚ä½•è¿›è¡Œä»£ç æµ‹è¯•ï¼Ÿ</h2><h3 id="sessionå¦‚ä½•è¿æ¥"><a href="#sessionå¦‚ä½•è¿æ¥" class="headerlink" title="sessionå¦‚ä½•è¿æ¥"></a>sessionå¦‚ä½•è¿æ¥</h3><p>ç”±äºä¸ä¼šè¿æ¥sessionï¼Œæ‰€ä»¥æˆ‘åœ¨å¦ä¸€ä¸ªè¾ƒç®€å•çš„expressæ¡†æ¶ä¸‹æµ‹è¯•ï¼Œå¯ä»¥ç›´æ¥ç”¨post/getç­‰æ–¹æ³•æµ‹è¯•</p><h2 id="ä½¿ç”¨sequelizeé»˜è®¤å‘½åé£æ ¼è¿˜æ˜¯éµå¾ªåŸä»£ç å‘½åé£æ ¼ï¼Ÿ"><a href="#ä½¿ç”¨sequelizeé»˜è®¤å‘½åé£æ ¼è¿˜æ˜¯éµå¾ªåŸä»£ç å‘½åé£æ ¼ï¼Ÿ" class="headerlink" title="ä½¿ç”¨sequelizeé»˜è®¤å‘½åé£æ ¼è¿˜æ˜¯éµå¾ªåŸä»£ç å‘½åé£æ ¼ï¼Ÿ"></a>ä½¿ç”¨sequelizeé»˜è®¤å‘½åé£æ ¼è¿˜æ˜¯éµå¾ªåŸä»£ç å‘½åé£æ ¼ï¼Ÿ</h2><p>è¿˜æ˜¯ç”¨åŸä»£ç çš„å§ï¼Œå¦åˆ™è¦æ”¹çš„ä¸œè¥¿æ›´å¤š</p><h3 id="ä»‹ç»sequelizeçš„é»˜è®¤å‘½åé£æ ¼"><a href="#ä»‹ç»sequelizeçš„é»˜è®¤å‘½åé£æ ¼" class="headerlink" title="ä»‹ç»sequelizeçš„é»˜è®¤å‘½åé£æ ¼"></a>ä»‹ç»sequelizeçš„é»˜è®¤å‘½åé£æ ¼</h3><p>modelæ˜¯å•æ•°<br>tableæ˜¯å¤æ•°<br>e.g useræ˜¯æ¨¡å‹åç§°,usersæ˜¯è¡¨åç§°<br>é»˜è®¤ä¸»é”®æ˜¯id<br>é»˜è®¤æ·»åŠ ä¸¤ä¸ªå…ƒç´ ï¼šcreatedAtå’ŒupdatedAt ä¿å­˜äº†æ—¶é—´ä¿¡æ¯</p><h3 id="å¦‚ä½•åœ¨sequelizeè‡ªå®šä¹‰æ¨¡å‹"><a href="#å¦‚ä½•åœ¨sequelizeè‡ªå®šä¹‰æ¨¡å‹" class="headerlink" title="å¦‚ä½•åœ¨sequelizeè‡ªå®šä¹‰æ¨¡å‹"></a>å¦‚ä½•åœ¨sequelizeè‡ªå®šä¹‰æ¨¡å‹</h3><p>åœ¨ç½‘ä¸Šæ‰¾äº†å¾ˆä¹…ï¼Œç›¸å…³çš„èµ„æ–™æ¯”è¾ƒå°‘ï¼ŒæŒ‰ç…§å®˜æ–¹æ–‡æ¡£å»å†™ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿è¡Œå‡ºé”™ï¼Œæœ‰å¾…è¿›ä¸€æ­¥ç ”ç©¶<br><a href="https://github.com/demopark/sequelize-docs-Zh-CN/blob/master/legacy.md" target="_blank" rel="noopener">https://github.com/demopark/sequelize-docs-Zh-CN/blob/master/legacy.md</a><br>æœ€åé€šè¿‡defineæ–¹æ³•è§£å†³ï¼Œè¿˜æ²¡å¼„æ¸…ä¸ºä»€ä¹ˆç”¨initä¸è¡Œ<br><a href="https://sequelize.readthedocs.io/en/v3/docs/legacy/" target="_blank" rel="noopener">https://sequelize.readthedocs.io/en/v3/docs/legacy/</a></p><pre class=" language-js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">(</span>sequelize<span class="token punctuation">,</span> DataTypes<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> user <span class="token operator">=</span> sequelize<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>        UserID<span class="token punctuation">:</span> <span class="token punctuation">{</span>            type<span class="token punctuation">:</span> DataTypes<span class="token punctuation">.</span>UUID<span class="token punctuation">,</span>            primaryKey<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            autoIncrement<span class="token punctuation">:</span> <span class="token boolean">true</span>         <span class="token punctuation">}</span><span class="token punctuation">,</span>        Gender<span class="token punctuation">:</span> DataTypes<span class="token punctuation">.</span>STRING<span class="token punctuation">,</span>        Avatar<span class="token punctuation">:</span> DataTypes<span class="token punctuation">.</span>STRING<span class="token punctuation">,</span>        Openid<span class="token punctuation">:</span> DataTypes<span class="token punctuation">.</span>STRING<span class="token punctuation">,</span>        Email<span class="token punctuation">:</span> DataTypes<span class="token punctuation">.</span>STRING<span class="token punctuation">,</span>        Name<span class="token punctuation">:</span> DataTypes<span class="token punctuation">.</span>STRING<span class="token punctuation">,</span>        FirstLogin<span class="token punctuation">:</span> DataTypes<span class="token punctuation">.</span>INTEGER<span class="token punctuation">,</span>        DefaultAddress<span class="token punctuation">:</span> DataTypes<span class="token punctuation">.</span>INTEGER<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>        tableName<span class="token punctuation">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="å¦‚ä½•å…³é—­æ—¶é—´æˆ³"><a href="#å¦‚ä½•å…³é—­æ—¶é—´æˆ³" class="headerlink" title="å¦‚ä½•å…³é—­æ—¶é—´æˆ³"></a>å¦‚ä½•å…³é—­æ—¶é—´æˆ³</h3><p>createdAtå’ŒupdatedAt<br>ä¸¤ç§æ–¹æ³•ï¼š<br>1.åœ¨æ¨¡å‹æ–‡ä»¶é‡Œé¢æ·»åŠ ï¼Œåªå¯¹å•ä¸ªæ¨¡å‹ç”Ÿæ•ˆ</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> userDetails <span class="token operator">=</span> sequelize<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'userDetails'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>    userId <span class="token punctuation">:</span>Sequelize<span class="token punctuation">.</span>INTEGER<span class="token punctuation">,</span>    firstName <span class="token punctuation">:</span> Sequelize<span class="token punctuation">.</span>STRING<span class="token punctuation">,</span>    lastName <span class="token punctuation">:</span> Sequelize<span class="token punctuation">.</span>STRING<span class="token punctuation">,</span>    birthday <span class="token punctuation">:</span> Sequelize<span class="token punctuation">.</span>DATE<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>    timestamps<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>2.åœ¨å»ºç«‹è¿æ¥çš„æ—¶å€™æ·»åŠ ï¼Œå¯¹æ‰€æœ‰æ¨¡å‹ç”Ÿæ•ˆ</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//ä½¿ç”¨config.jsonæ—¶çš„å†™æ³•</span><span class="token comment" spellcheck="true">//åœ¨config.jsoné‡Œé¢æ·»åŠ </span><span class="token string">"define"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>            <span class="token string">"timestamps"</span><span class="token punctuation">:</span> <span class="token boolean">false</span>        <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//ä¸ä½¿ç”¨config.jsonæ—¶çš„å†™æ³•</span><span class="token keyword">var</span> sequelize <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sequelize</span><span class="token punctuation">(</span><span class="token string">'sequelize_test'</span><span class="token punctuation">,</span> <span class="token string">'root'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>    host<span class="token punctuation">:</span> <span class="token string">"127.0.0.1"</span><span class="token punctuation">,</span>    dialect<span class="token punctuation">:</span> <span class="token string">'mysql'</span><span class="token punctuation">,</span>    define<span class="token punctuation">:</span> <span class="token punctuation">{</span>        timestamps<span class="token punctuation">:</span> <span class="token boolean">false</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="å·¥ä½œè¿›åº¦"><a href="#å·¥ä½œè¿›åº¦" class="headerlink" title="å·¥ä½œè¿›åº¦"></a>å·¥ä½œè¿›åº¦</h2><p>å»ºç«‹è‡ªå®šä¹‰æ¨¡å‹ï¼Œé€‚é…åŸæ¥çš„æ•°æ®åº“<br>å†™äº†å‰ä¸¤ä¸ªæ¥å£<br>route.jsé‡Œé¢è¿˜è¦å¾ˆå¤šæ¥å£è¦ä¿®æ”¹  </p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// get user info</span>router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/getUserInfo'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> UserID <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>UserID <span class="token operator">||</span> <span class="token string">''</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>UserID<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>        <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> models<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">findByPk</span><span class="token punctuation">(</span>UserID<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> ret_code<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> ret_msg<span class="token punctuation">:</span> <span class="token string">'FAL'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//check // update user info</span>router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/updateUserInfo'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> Name <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>Name <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> Gender <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>Gender <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> Email <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>Email <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> UserID <span class="token operator">=</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>UserID <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> params <span class="token operator">=</span> <span class="token punctuation">[</span>Name<span class="token punctuation">,</span> Gender<span class="token punctuation">,</span> Email<span class="token punctuation">,</span> UserID<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>        <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">await</span> models<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token function">findByPk</span><span class="token punctuation">(</span>UserID<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span> ret_code<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> ret_msg<span class="token punctuation">:</span> <span class="token string">'FAL'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Sequelize </tag>
            
            <tag> Database </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>10.27 Notes</title>
      <link href="/2019/10/27/2019/10.27/"/>
      <url>/2019/10/27/2019/10.27/</url>
      
        <content type="html"><![CDATA[<h1 id="10-21-10-27-Learning-Notes"><a href="#10-21-10-27-Learning-Notes" class="headerlink" title="10.21-10.27 Learning Notes"></a>10.21-10.27 Learning Notes</h1><h1 id="printf-amp-scanf-in-c"><a href="#printf-amp-scanf-in-c" class="headerlink" title="printf &amp; scanf in c++"></a>printf &amp; scanf in c++</h1><p><a href="https://stackoverflow.com/questions/4264127/correct-format-specifier-for-double-in-printf" target="_blank" rel="noopener">https://stackoverflow.com/questions/4264127/correct-format-specifier-for-double-in-printf</a></p><h2 id="printf-â€œ-fâ€-printf-â€œ-lf-â€"><a href="#printf-â€œ-fâ€-printf-â€œ-lf-â€" class="headerlink" title="printf(â€œ%fâ€)==printf(â€œ%lf%â€)"></a>printf(â€œ%fâ€)==printf(â€œ%lf%â€)</h2><p>Only use %f is OK</p><h2 id="scanf-â€œ-fâ€-scanf-â€œ-lfâ€"><a href="#scanf-â€œ-fâ€-scanf-â€œ-lfâ€" class="headerlink" title="scanf(â€œ%fâ€)!=scanf(â€œ%lfâ€)"></a>scanf(â€œ%fâ€)!=scanf(â€œ%lfâ€)</h2><p>â€œ%fâ€ is the (or at least one) correct format for a double. There is no format for a float, because if you attempt to pass a float to printf, itâ€™ll be promoted to double before printf receives it. â€œ%lfâ€ is also acceptable under the current standard â€“ the l is specified as having no effect if followed by the f conversion specifier (among others).</p><p>Note that this is one place that printf format strings differ substantially from scanf (and fscanf, etc.) format strings. For output, youâ€™re passing a value, which will be promoted from float to double when passed as a variadic parameter. For input youâ€™re passing a pointer, which is not promoted, so you have to tell scanf whether you want to read a float or a double, so for scanf, %f means you want to read a float and %lf means you want to read a double (and, for what itâ€™s worth, for a long double, you use %Lf for either printf or scanf).</p><h1 id="Machine-Learning"><a href="#Machine-Learning" class="headerlink" title="Machine Learning"></a>Machine Learning</h1><p><a href="https://gitbook.cn/gitchat/column/5d9efd3feb954a204f3ab13d" target="_blank" rel="noopener">https://gitbook.cn/gitchat/column/5d9efd3feb954a204f3ab13d</a>  </p><h2 id="PDFï¼šprobability-density-function-æ¦‚ç‡å¯†åº¦å‡½æ•°"><a href="#PDFï¼šprobability-density-function-æ¦‚ç‡å¯†åº¦å‡½æ•°" class="headerlink" title="PDFï¼šprobability density function æ¦‚ç‡å¯†åº¦å‡½æ•°"></a>PDFï¼šprobability density function æ¦‚ç‡å¯†åº¦å‡½æ•°</h2><p>åœ¨æ•°å­¦ä¸­ï¼Œè¿ç»­å‹éšæœºå˜é‡çš„æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼ˆåœ¨ä¸è‡³äºæ··æ·†æ—¶å¯ä»¥ç®€ç§°ä¸ºå¯†åº¦å‡½æ•°ï¼‰æ˜¯ä¸€ä¸ªæè¿°è¿™ä¸ªéšæœºå˜é‡çš„è¾“å‡ºå€¼ï¼Œåœ¨æŸä¸ªç¡®å®šçš„å–å€¼ç‚¹é™„è¿‘çš„å¯èƒ½æ€§çš„å‡½æ•°ã€‚</p><h2 id="PMF-probability-mass-functionæ¦‚ç‡è´¨é‡å‡½æ•°"><a href="#PMF-probability-mass-functionæ¦‚ç‡è´¨é‡å‡½æ•°" class="headerlink" title="PMF: probability mass functionæ¦‚ç‡è´¨é‡å‡½æ•°"></a>PMF: probability mass functionæ¦‚ç‡è´¨é‡å‡½æ•°</h2><p>åœ¨æ¦‚ç‡è®ºä¸­ï¼Œæ¦‚ç‡è´¨é‡å‡½æ•°æ˜¯ç¦»æ•£éšæœºå˜é‡åœ¨å„ç‰¹å®šå–å€¼ä¸Šçš„æ¦‚ç‡ã€‚</p><h2 id="CDF-cumulative-distribution-functionç´¯ç§¯åˆ†å¸ƒå‡½æ•°"><a href="#CDF-cumulative-distribution-functionç´¯ç§¯åˆ†å¸ƒå‡½æ•°" class="headerlink" title="CDF :cumulative distribution functionç´¯ç§¯åˆ†å¸ƒå‡½æ•°"></a>CDF :cumulative distribution functionç´¯ç§¯åˆ†å¸ƒå‡½æ•°</h2><p>æ˜¯æ¦‚ç‡å¯†åº¦å‡½æ•°çš„ç§¯åˆ†ï¼Œèƒ½å®Œæ•´æè¿°ä¸€ä¸ªå®éšæœºå˜é‡Xçš„æ¦‚ç‡åˆ†å¸ƒã€‚</p><h2 id="Why-use-fig-ax-plt-subplots-3-1"><a href="#Why-use-fig-ax-plt-subplots-3-1" class="headerlink" title="Why use fig, ax = plt.subplots(3, 1)"></a>Why use fig, ax = plt.subplots(3, 1)</h2><p><a href="https://stackoverflow.com/questions/34162443/why-do-many-examples-use-fig-ax-plt-subplots-in-matplotlib-pyplot-python" target="_blank" rel="noopener">https://stackoverflow.com/questions/34162443/why-do-many-examples-use-fig-ax-plt-subplots-in-matplotlib-pyplot-python</a><br>plt.subplots() is a function that returns a tuple containing a figure and axes object(s). Thus when using fig, ax = plt.subplots() you unpack this tuple into the variables fig and ax. Having fig is useful if you want to change figure-level attributes or save the figure as an image file later (e.g. with fig.savefig(â€˜yourfilename.pngâ€™)).</p><h2 id="Binominal-Distribution"><a href="#Binominal-Distribution" class="headerlink" title="Binominal Distribution"></a>Binominal Distribution</h2><p>$$P(X=k)=C_n^kp^k(1-p)^{n-k}$$<br>Draw PMF Graph:</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> scipy<span class="token punctuation">.</span>stats <span class="token keyword">import</span> binom<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token keyword">import</span> seabornseaborn<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token punctuation">)</span>fig<span class="token punctuation">,</span> ax <span class="token operator">=</span> plt<span class="token punctuation">.</span>subplots<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>x <span class="token operator">=</span> range<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span>binom_rv <span class="token operator">=</span> binom<span class="token punctuation">(</span>n<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> p<span class="token operator">=</span><span class="token number">0.25</span><span class="token punctuation">)</span>ax<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span> binom_rv<span class="token punctuation">.</span>pmf<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'bo'</span><span class="token punctuation">,</span> ms<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span>ax<span class="token punctuation">.</span>vlines<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> binom_rv<span class="token punctuation">.</span>pmf<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> colors<span class="token operator">=</span><span class="token string">'b'</span><span class="token punctuation">,</span> lw<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">)</span>ax<span class="token punctuation">.</span>set_xlim<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>ax<span class="token punctuation">.</span>set_ylim<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.35</span><span class="token punctuation">)</span>ax<span class="token punctuation">.</span>set_xticks<span class="token punctuation">(</span>x<span class="token punctuation">)</span>ax<span class="token punctuation">.</span>set_yticks<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p>Simulate:</p><pre class=" language-python"><code class="language-python">binom_rvs <span class="token operator">=</span> binom_rv<span class="token punctuation">.</span>rvs<span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token number">100000</span><span class="token punctuation">)</span>E_sim <span class="token operator">=</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>binom_rvs<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># æœŸæœ›</span>S_sim <span class="token operator">=</span> np<span class="token punctuation">.</span>std<span class="token punctuation">(</span>binom_rvs<span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># æ ‡å‡†å·®</span>V_sim <span class="token operator">=</span> S_sim <span class="token operator">*</span> S_sim  <span class="token comment" spellcheck="true"># æ–¹å·®</span></code></pre><h2 id="Geometric-Distribution"><a href="#Geometric-Distribution" class="headerlink" title="Geometric Distribution"></a>Geometric Distribution</h2><p>$$P(X=k)=(1-p)^{k-1}p$$</p><h2 id="ä¸ºä»€ä¹ˆæ ·æœ¬æ–¹å·®æ˜¯é™¤ä»¥n-1"><a href="#ä¸ºä»€ä¹ˆæ ·æœ¬æ–¹å·®æ˜¯é™¤ä»¥n-1" class="headerlink" title="ä¸ºä»€ä¹ˆæ ·æœ¬æ–¹å·®æ˜¯é™¤ä»¥n-1"></a>ä¸ºä»€ä¹ˆæ ·æœ¬æ–¹å·®æ˜¯é™¤ä»¥n-1</h2><p>$$S^2=\frac{1}{n-1}\sum_{i=1}^n(X_i-\overline{X})^2$$</p><h3 id="ä¸€ä¸ªå¥½çš„ä¼°è®¡é‡åº”å…·æœ‰æ— åæ€§"><a href="#ä¸€ä¸ªå¥½çš„ä¼°è®¡é‡åº”å…·æœ‰æ— åæ€§" class="headerlink" title="ä¸€ä¸ªå¥½çš„ä¼°è®¡é‡åº”å…·æœ‰æ— åæ€§"></a>ä¸€ä¸ªå¥½çš„ä¼°è®¡é‡åº”å…·æœ‰æ— åæ€§</h3><p>ä¼°è®¡è¯¯å·®çš„æœŸæœ›ä¸º0</p><h3 id="ç”¨pythonæ¨¡æ‹Ÿ"><a href="#ç”¨pythonæ¨¡æ‹Ÿ" class="headerlink" title="ç”¨pythonæ¨¡æ‹Ÿ"></a>ç”¨pythonæ¨¡æ‹Ÿ</h3><p>ä»å‡å€¼ä¸º 0ï¼Œæ ‡å‡†å·®ä¸º 1çš„æ ‡å‡†æ­£æ€åˆ†å¸ƒä¸­è·å–æ ·æœ¬ï¼Œæ¯æ¬¡è·å– 100ä¸ªæ ·æœ¬å€¼ï¼Œæˆ‘ä»¬é‡å¤å®éªŒ 100ä¸‡æ¬¡ï¼ŒæŠŠ 100ä¸‡æ¬¡å¾—åˆ°çš„ç»Ÿè®¡é‡ç»˜åˆ¶æˆç›´æ–¹å›¾ï¼Œçœ‹çœ‹å®ƒä»¬çš„åˆ†å¸ƒï¼Œå¹¶ä¸çœŸå®çš„æ€»ä½“æ–¹å·®è¿›è¡Œæ¯”è¾ƒã€‚</p><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> scipy<span class="token punctuation">.</span>stats <span class="token keyword">import</span> norm<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> seabornseaborn<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token punctuation">)</span>norm_rv <span class="token operator">=</span> norm<span class="token punctuation">(</span>loc<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> scale<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>x <span class="token operator">=</span> np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>sample_n <span class="token operator">=</span> <span class="token number">100</span>s_array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    norm_rvs <span class="token operator">=</span> norm_rv<span class="token punctuation">.</span>rvs<span class="token punctuation">(</span>size<span class="token operator">=</span>sample_n<span class="token punctuation">)</span>    x_bar <span class="token operator">=</span> sum<span class="token punctuation">(</span>norm_rvs<span class="token punctuation">)</span> <span class="token operator">/</span> float<span class="token punctuation">(</span>sample_n<span class="token punctuation">)</span>    s <span class="token operator">=</span> sum<span class="token punctuation">(</span>np<span class="token punctuation">.</span>square<span class="token punctuation">(</span><span class="token punctuation">(</span>norm_rvs <span class="token operator">-</span> x_bar<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> float<span class="token punctuation">(</span>sample_n<span class="token punctuation">)</span>    s_array<span class="token punctuation">.</span>append<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>s_array<span class="token punctuation">)</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>s_array<span class="token punctuation">,</span> bins<span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">,</span> normed<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> alpha<span class="token operator">=</span><span class="token number">0.6</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>axvline<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> ymax<span class="token operator">=</span><span class="token number">0.8</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'r'</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>gca<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>axes<span class="token punctuation">.</span>set_xlim<span class="token punctuation">(</span><span class="token number">0.4</span><span class="token punctuation">,</span> <span class="token number">1.6</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h3 id="æ•°å­¦è¯æ˜"><a href="#æ•°å­¦è¯æ˜" class="headerlink" title="æ•°å­¦è¯æ˜"></a>æ•°å­¦è¯æ˜</h3><p><a href="https://www.zhihu.com/question/20099757/answer/26586088" target="_blank" rel="noopener">https://www.zhihu.com/question/20099757/answer/26586088</a></p><h1 id="Nodejs-Static-html"><a href="#Nodejs-Static-html" class="headerlink" title="Nodejs Static html"></a>Nodejs Static html</h1><ul><li>è®¾ç½®é¦–é¡µ  </li><li>404é¡µé¢  </li><li>è¯†åˆ«æ–‡ä»¶ç±»å‹å¹¶æ­£ç¡®æ˜¾ç¤º</li></ul><pre class=" language-js"><code class="language-js"><span class="token punctuation">.</span><span class="token operator">/</span>model<span class="token operator">/</span>FromFileGetExtname<span class="token punctuation">.</span>js<span class="token keyword">let</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>exports<span class="token punctuation">.</span>getMime <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>fs<span class="token punctuation">,</span> extname<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//å¼‚æ­¥ç¨‹åº</span>    <span class="token comment" spellcheck="true">// fs.readFile('./mime.json', (err, data) => {</span>    <span class="token comment" spellcheck="true">//     if (err) {</span>    <span class="token comment" spellcheck="true">//         console.log('not exist');</span>    <span class="token comment" spellcheck="true">//         return false;</span>    <span class="token comment" spellcheck="true">//     }</span>    <span class="token comment" spellcheck="true">//     let Mime = JSON.parse(data.toString());</span>    <span class="token comment" spellcheck="true">//     return Mime[extname];</span>    <span class="token comment" spellcheck="true">// })</span>    <span class="token comment" spellcheck="true">//æ”¹æˆåŒæ­¥è¯»å–</span>    <span class="token keyword">let</span> data <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">'./mime.json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">let</span> Mimes <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//convert json into object</span>    <span class="token keyword">return</span> Mimes<span class="token punctuation">[</span>extname<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">let</span> extnameModel <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./model/FromFileGetExtname.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">let</span> pathname <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span>pathname<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è·å–urlè¯·æ±‚</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pathname <span class="token operator">==</span> <span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        pathname <span class="token operator">=</span> <span class="token string">'/index.html'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è®¾ç½®é¦–é¡µ</span>    <span class="token punctuation">}</span>    <span class="token keyword">let</span> extname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">extname</span><span class="token punctuation">(</span>pathname<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pathname <span class="token operator">!=</span> <span class="token string">'/favicon.ico'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pathname<span class="token punctuation">)</span><span class="token punctuation">;</span>        fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'static/'</span> <span class="token operator">+</span> pathname<span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> result<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>                console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'404'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'static/404.html'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> errorData<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token comment" spellcheck="true">//404 page</span>                    res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">"Content-Type"</span><span class="token punctuation">:</span> <span class="token string">"text/html;charset='utf-8'"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>errorData<span class="token punctuation">)</span><span class="token punctuation">;</span>                    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">)</span>            <span class="token punctuation">}</span>            <span class="token keyword">else</span> <span class="token punctuation">{</span>                <span class="token keyword">let</span> name <span class="token operator">=</span> extnameModel<span class="token punctuation">.</span><span class="token function">getMime</span><span class="token punctuation">(</span>fs<span class="token punctuation">,</span>extname<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è¯†åˆ«æ–‡ä»¶ç±»å‹</span>                res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">"Content-Type"</span><span class="token punctuation">:</span> <span class="token string">""</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">";charset='utf-8'"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>                res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h1 id="ES6-Style"><a href="#ES6-Style" class="headerlink" title="ES6 Style"></a>ES6 Style</h1><h2 id="let-const-replace-var"><a href="#let-const-replace-var" class="headerlink" title="let+const replace var"></a>let+const replace var</h2><p>ä¸éœ€è¦æ”¹å˜çš„é‡ç”¨<code>const</code><br>å…¶ä½™ç”¨<code>let</code></p><h2 id="è§£æ„èµ‹å€¼"><a href="#è§£æ„èµ‹å€¼" class="headerlink" title="è§£æ„èµ‹å€¼"></a>è§£æ„èµ‹å€¼</h2><p>æœ¬è´¨ä¸Šï¼Œè¿™ç§å†™æ³•å±äºâ€œæ¨¡å¼åŒ¹é…â€ï¼Œåªè¦ç­‰å·ä¸¤è¾¹çš„æ¨¡å¼ç›¸åŒï¼Œå·¦è¾¹çš„å˜é‡å°±ä¼šè¢«èµ‹äºˆå¯¹åº”çš„å€¼ã€‚  </p><h3 id="æ•°ç»„è§£æ„"><a href="#æ•°ç»„è§£æ„" class="headerlink" title="æ•°ç»„è§£æ„"></a>æ•°ç»„è§£æ„</h3><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> <span class="token punctuation">[</span>foo<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>bar<span class="token punctuation">]</span><span class="token punctuation">,</span> baz<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>foo <span class="token comment" spellcheck="true">// 1</span>bar <span class="token comment" spellcheck="true">// 2</span>baz <span class="token comment" spellcheck="true">// 3</span><span class="token comment" spellcheck="true">//ä¸å®Œå…¨è§£æ„</span><span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>x <span class="token comment" spellcheck="true">// 1</span>y <span class="token comment" spellcheck="true">// 2</span><span class="token keyword">let</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> <span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">,</span> d<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>a <span class="token comment" spellcheck="true">// 1</span>b <span class="token comment" spellcheck="true">// 2</span>d <span class="token comment" spellcheck="true">// 4</span><span class="token comment" spellcheck="true">//é»˜è®¤å€¼</span><span class="token keyword">let</span> <span class="token punctuation">[</span>foo <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//foo=true</span><span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token string">'b'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// x='a', y='b'</span><span class="token keyword">let</span> <span class="token punctuation">[</span>x<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token string">'b'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> undefined<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// x='a', y='b'</span></code></pre><h3 id="å¯¹è±¡è§£æ„"><a href="#å¯¹è±¡è§£æ„" class="headerlink" title="å¯¹è±¡è§£æ„"></a>å¯¹è±¡è§£æ„</h3><p>å¯¹è±¡çš„è§£æ„ä¸æ•°ç»„æœ‰ä¸€ä¸ªé‡è¦çš„ä¸åŒã€‚æ•°ç»„çš„å…ƒç´ æ˜¯æŒ‰æ¬¡åºæ’åˆ—çš„ï¼Œå˜é‡çš„å–å€¼ç”±å®ƒçš„ä½ç½®å†³å®šï¼›è€Œå¯¹è±¡çš„å±æ€§æ²¡æœ‰æ¬¡åºï¼Œå˜é‡å¿…é¡»ä¸å±æ€§åŒåï¼Œæ‰èƒ½å–åˆ°æ­£ç¡®çš„å€¼ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> <span class="token punctuation">{</span> bar<span class="token punctuation">,</span> foo <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">'aaa'</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token string">'bbb'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>foo <span class="token comment" spellcheck="true">// "aaa"</span>bar <span class="token comment" spellcheck="true">// "bbb"</span><span class="token keyword">let</span> <span class="token punctuation">{</span> baz <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">'aaa'</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token string">'bbb'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>baz <span class="token comment" spellcheck="true">// undefined</span></code></pre><h3 id="ä¼˜å…ˆä½¿ç”¨è§£æ„èµ‹å€¼"><a href="#ä¼˜å…ˆä½¿ç”¨è§£æ„èµ‹å€¼" class="headerlink" title="ä¼˜å…ˆä½¿ç”¨è§£æ„èµ‹å€¼"></a>ä¼˜å…ˆä½¿ç”¨è§£æ„èµ‹å€¼</h3><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//ä½¿ç”¨æ•°ç»„æˆå‘˜å¯¹å˜é‡èµ‹å€¼æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨è§£æ„èµ‹å€¼ã€‚</span><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// bad</span><span class="token keyword">const</span> first <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">const</span> second <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// good</span><span class="token keyword">const</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> second<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å‡½æ•°çš„å‚æ•°å¦‚æœæ˜¯å¯¹è±¡çš„æˆå‘˜ï¼Œä¼˜å…ˆä½¿ç”¨è§£æ„èµ‹å€¼ã€‚</span><span class="token keyword">let</span> Vip <span class="token operator">=</span> <span class="token punctuation">{</span> firstName<span class="token punctuation">:</span> <span class="token string">"V"</span><span class="token punctuation">,</span> lastName<span class="token punctuation">:</span> <span class="token string">"ip"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//bad</span><span class="token keyword">function</span> <span class="token function">getFullName</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> firstName <span class="token operator">=</span> user<span class="token punctuation">.</span>firstName<span class="token punctuation">;</span>    <span class="token keyword">const</span> lastName <span class="token operator">=</span> user<span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstName<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lastName<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//good</span><span class="token keyword">function</span> <span class="token function">getFullName</span><span class="token punctuation">(</span><span class="token punctuation">{</span> firstName<span class="token punctuation">,</span> lastName <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>firstName<span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lastName<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">getFullName</span><span class="token punctuation">(</span>Vip<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Ÿ"><a href="#ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Ÿ"></a>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Ÿ</h2><p><a href="https://jingsam.github.io/2016/12/08/things-you-should-know-about-arrow-functions.html" target="_blank" rel="noopener">https://jingsam.github.io/2016/12/08/things-you-should-know-about-arrow-functions.html</a><br>ç®­å¤´å‡½æ•°æ²¡æœ‰this</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span>    <span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//å¼•ç”¨äº†çˆ¶çº§ä½œç”¨åŸŸä¸­çš„foo().a</span>    <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">// 1</span></code></pre><p><img src="https://i.loli.net/2019/10/27/SPkonK85Y7EqV4N.png" alt="20191027164045.png"></p><h2 id="Moduleè¯­æ³•"><a href="#Moduleè¯­æ³•" class="headerlink" title="Moduleè¯­æ³•"></a>Moduleè¯­æ³•</h2><p>ä½¿ç”¨<code>import</code>ä»£æ›¿<code>require</code><br>ä½¿ç”¨<code>export</code>å–ä»£<code>module.exports</code></p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// commonJSçš„å†™æ³•</span><span class="token keyword">var</span> React <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'react'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> Breadcrumbs <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createClass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token operator">&lt;</span>nav <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> Breadcrumbs<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// ES6çš„å†™æ³•</span><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Breadcrumbs</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token operator">&lt;</span>nav <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">export</span> <span class="token keyword">default</span> Breadcrumbs<span class="token punctuation">;</span></code></pre><h1 id="Sequelize"><a href="#Sequelize" class="headerlink" title="Sequelize"></a>Sequelize</h1><p><a href="https://www.bilibili.com/video/av59809408" target="_blank" rel="noopener">https://www.bilibili.com/video/av59809408</a><br><a href="https://itbilu.com/nodejs/npm/VyqgRUVf7.html" target="_blank" rel="noopener">https://itbilu.com/nodejs/npm/VyqgRUVf7.html</a></p><h2 id="optional-install-cnpm-å›½å†…é•œåƒ"><a href="#optional-install-cnpm-å›½å†…é•œåƒ" class="headerlink" title="(optional) install cnpm(å›½å†…é•œåƒ)"></a>(optional) install cnpm(å›½å†…é•œåƒ)</h2><pre><code>npm install -g cnpm --registry=https://registry.npm.taobao.org</code></pre><h2 id="build-environment"><a href="#build-environment" class="headerlink" title="build environment"></a>build environment</h2><pre><code>cnpm i sequelize -scnpm i sequelize-cli -s å‘½ä»¤è¡Œå·¥å…·cnpm i mysql2 -ssequelize init</code></pre><h2 id="create-database"><a href="#create-database" class="headerlink" title="create database"></a>create database</h2><pre><code>sequelize db:create</code></pre><p>æŒ‰/config/config.jsonä¸­çš„é…ç½®æ¥å»ºç«‹æ•°æ®åº“è¿æ¥</p><h2 id="create-model-amp-table"><a href="#create-model-amp-table" class="headerlink" title="create model&amp;table"></a>create model&amp;table</h2><h3 id="relation-between-model-and-table"><a href="#relation-between-model-and-table" class="headerlink" title="relation between model and table"></a>relation between model and table</h3><p>ORMæ¡†æ¶çš„ä½œç”¨å°±æ˜¯å°±æ˜¯å¯ä»¥æŠŠå…³ç³»å‹æ•°æ®åº“è¡¨ç»“æ„æ˜ å°„ä¸ºjavascriptå¯¹è±¡<br>æ¯ä¸€ä¸ªæ¨¡å‹å¯¹è±¡è¡¨ç¤ºæ•°æ®åº“ä¸­çš„ä¸€ä¸ªè¡¨ï¼Œåç»­å¯¹æ•°æ®åº“çš„æ“ä½œéƒ½æ˜¯é€šè¿‡å¯¹åº”çš„æ¨¡å‹å¯¹è±¡æ¥å®Œæˆ</p><pre><code>sequelize model:generate --name renters --attributes username:string,password:string --force--force            Forcefully re-creates model with the same name</code></pre><p><strong>åœ¨sequelizeä¸­ï¼Œæ¨¡å‹æ˜¯å•æ•°ï¼Œè¡¨æ˜¯å¤æ•°</strong><br>ç”Ÿæˆäº†æ¨¡å‹æ–‡ä»¶models\renter.js</p><pre class=" language-js"><code class="language-js"><span class="token string">'use strict'</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">(</span>sequelize<span class="token punctuation">,</span> DataTypes<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> renter <span class="token operator">=</span> sequelize<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span><span class="token string">'renter'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>    title<span class="token punctuation">:</span> DataTypes<span class="token punctuation">.</span>STRING<span class="token punctuation">,</span>    context<span class="token punctuation">:</span> DataTypes<span class="token punctuation">.</span>TEXT  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  renter<span class="token punctuation">.</span>associate <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>models<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// associations can be defined here</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token keyword">return</span> renter<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>ä¹Ÿç”Ÿæˆäº†è¿ç§»æ–‡ä»¶migrations\20191027094449-create-renter.js  </p><pre class=" language-js"><code class="language-js"><span class="token string">'use strict'</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//sequelize db:migrate</span>  up<span class="token punctuation">:</span> <span class="token punctuation">(</span>queryInterface<span class="token punctuation">,</span> Sequelize<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> queryInterface<span class="token punctuation">.</span><span class="token function">createTable</span><span class="token punctuation">(</span><span class="token string">'renters'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>      id<span class="token punctuation">:</span> <span class="token punctuation">{</span>        allowNull<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//ä¸å…è®¸ç©ºå€¼</span>        autoIncrement<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//è‡ªå¢</span>        primaryKey<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//ä¸»é”®</span>        type<span class="token punctuation">:</span> Sequelize<span class="token punctuation">.</span>INTEGER      <span class="token punctuation">}</span><span class="token punctuation">,</span>      title<span class="token punctuation">:</span> <span class="token punctuation">{</span>        type<span class="token punctuation">:</span> Sequelize<span class="token punctuation">.</span>STRING      <span class="token punctuation">}</span><span class="token punctuation">,</span>      context<span class="token punctuation">:</span> <span class="token punctuation">{</span>        type<span class="token punctuation">:</span> Sequelize<span class="token punctuation">.</span>TEXT      <span class="token punctuation">}</span><span class="token punctuation">,</span>      createdAt<span class="token punctuation">:</span> <span class="token punctuation">{</span>        allowNull<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        type<span class="token punctuation">:</span> Sequelize<span class="token punctuation">.</span>DATE      <span class="token punctuation">}</span><span class="token punctuation">,</span>      updatedAt<span class="token punctuation">:</span> <span class="token punctuation">{</span>        allowNull<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        type<span class="token punctuation">:</span> Sequelize<span class="token punctuation">.</span>DATE      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//sequelize db:migrate:undo è¿ç§»è®°å½•åœ¨å°±å¯ä»¥æ’¤é”€è¿ç§»æ“ä½œ </span>  down<span class="token punctuation">:</span> <span class="token punctuation">(</span>queryInterface<span class="token punctuation">,</span> Sequelize<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> queryInterface<span class="token punctuation">.</span><span class="token function">dropTable</span><span class="token punctuation">(</span><span class="token string">'renters'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>ä¼šè¿ç§»/migrationsä¸‹çš„<strong>è¿˜æœªæ‰§è¡Œçš„</strong>è¿ç§»æ–‡ä»¶<br>æ•°æ®åº“ä¸­æœ‰ä¸€ä¸ªåä¸ºSequelizeMetaçš„è¡¨ï¼Œæ­¤è¡¨ç”¨äºè®°å½•åœ¨å½“å‰æ•°æ®åº“ä¸Šè¿è¡Œçš„è¿ç§»</p><pre><code>sequelize db:migrate</code></pre><h2 id="create-seeders"><a href="#create-seeders" class="headerlink" title="create seeders"></a>create seeders</h2><p>ç§å­æ–‡ä»¶è¡¨ç¤ºæ•°æ®çš„ä¸€äº›å˜åŒ–ï¼Œå¯ç”¨äºä½¿ç”¨æ ·æœ¬æ•°æ®æˆ–æµ‹è¯•æ•°æ®å¡«å……æ•°æ®åº“è¡¨ã€‚</p><pre><code>sequelize seed:generate --name demo-renter</code></pre><p>ç¼–è¾‘ç§å­æ–‡ä»¶\seeders\20191027112628-demo-renter.js</p><pre class=" language-js"><code class="language-js">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>    up<span class="token punctuation">:</span> <span class="token punctuation">(</span>queryInterface<span class="token punctuation">,</span> Sequelize<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> queryInterface<span class="token punctuation">.</span><span class="token function">bulkInsert</span><span class="token punctuation">(</span><span class="token string">'renters'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>            title<span class="token punctuation">:</span> <span class="token string">'Rent'</span><span class="token punctuation">,</span>            context<span class="token punctuation">:</span> <span class="token string">'Whatever you want'</span><span class="token punctuation">,</span>            createdAt<span class="token punctuation">:</span> <span class="token string">'2019.10.27'</span><span class="token punctuation">,</span>            updatedAt<span class="token punctuation">:</span> <span class="token string">'2019.10.27'</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    down<span class="token punctuation">:</span> <span class="token punctuation">(</span>queryInterface<span class="token punctuation">,</span> Sequelize<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> queryInterface<span class="token punctuation">.</span><span class="token function">bulkDelete</span><span class="token punctuation">(</span><span class="token string">'renters'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><pre><code>sequelize db:seed:all</code></pre><h2 id="sequelize-cli"><a href="#sequelize-cli" class="headerlink" title="sequelize-cli"></a>sequelize-cli</h2><pre><code>sequelize [å‘½ä»¤]å‘½ä»¤ï¼š  sequelize db:migrate                        è¿è¡Œå¾…æ‰§è¡Œçš„è¿ç§»  sequelize db:migrate:schema:timestamps:add  æ›´æ–°è¿ç§»è¡¨ä»¥è·å–æ—¶é—´æˆ³  sequelize db:migrate:status                 åˆ—å‡ºæ‰€æœ‰è¿ç§»çš„çŠ¶æ€  sequelize db:migrate:undo                   æ¢å¤è¿ç§»  sequelize db:migrate:undo:all               æ¢å¤æ‰€æœ‰è¿ç§»  sequelize db:seed                           è¿è¡ŒæŒ‡å®šçš„ç§å­  sequelize db:seed:undo                      æ’¤æ¶ˆæœ€è¿‘æ‰§è¡Œçš„ç§å­  sequelize db:seed:all                       è¿è¡Œæ‰€æœ‰ç§å­  sequelize db:seed:undo:all                  æ’¤æ¶ˆæ‰€æœ‰å·²æ‰§è¡Œçš„ç§å­  sequelize db:create                         åˆ›å»ºé…ç½®ä¸­æŒ‡å®šçš„æ•°æ®åº“  sequelize db:drop                           åˆ é™¤é…ç½®ä¸­æŒ‡å®šçš„æ•°æ®åº“  sequelize init                              åˆå§‹åŒ–é¡¹ç›®  sequelize init:config                       åˆå§‹åŒ–é…ç½®  sequelize init:migrations                   åˆå§‹åŒ–è¿ç§»  sequelize init:models                       åˆå§‹åŒ–æ¨¡å‹  sequelize init:seeders                      åˆå§‹åŒ–ç§å­  sequelize migration:generate                ç”Ÿæˆæ–°çš„è¿ç§»æ–‡ä»¶                         [aliases: migration:create]  sequelize model:generate                    ç”Ÿæˆä¸€ä¸ªæ¨¡å‹åŠè¿ç§»æ–‡ä»¶                 [aliases: model:create]  sequelize seed:generate                     ç”Ÿæˆä¸€ä¸ªæ–°çš„ç§å­æ–‡ä»¶                      [aliases: seed:create]é€‰é¡¹ï¼š  --help     æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯                                                              [å¸ƒå°”]  --version  æ˜¾ç¤ºç‰ˆæœ¬å·                                                                [å¸ƒå°”]</code></pre><p><img src="https://i.loli.net/2019/10/27/Z1IuR3P7ixG24ep.png" alt="20191027193126.png"></p><h1 id="å®‰åˆ©ä¸€ä¸ªVSCODEæ’ä»¶ï¼šPicGo"><a href="#å®‰åˆ©ä¸€ä¸ªVSCODEæ’ä»¶ï¼šPicGo" class="headerlink" title="å®‰åˆ©ä¸€ä¸ªVSCODEæ’ä»¶ï¼šPicGo"></a>å®‰åˆ©ä¸€ä¸ªVSCODEæ’ä»¶ï¼šPicGo</h1><p>åœ¨Markdownä¸­å¿«é€Ÿæ’å…¥å›¾ç‰‡ï¼Œè‡ªåŠ¨ä¸Šä¼ åˆ°å›¾åºŠ</p>]]></content>
      
      
      
        <tags>
            
            <tag> Sequelize </tag>
            
            <tag> Node.js </tag>
            
            <tag> Machine Learning </tag>
            
            <tag> C++ </tag>
            
            <tag> ES6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>10.20 Notes</title>
      <link href="/2019/10/20/2019/10.20/"/>
      <url>/2019/10/20/2019/10.20/</url>
      
        <content type="html"><![CDATA[<h1 id="10-14-10-20-Learning-Notes"><a href="#10-14-10-20-Learning-Notes" class="headerlink" title="10.14-10.20 Learning Notes"></a>10.14-10.20 Learning Notes</h1><h1 id="Sequelize"><a href="#Sequelize" class="headerlink" title="Sequelize"></a>Sequelize</h1><p><a href="https://itfun.tv/courses/12" target="_blank" rel="noopener">https://itfun.tv/courses/12</a>  </p><h2 id="model-amp-tables"><a href="#model-amp-tables" class="headerlink" title="model &amp; tables"></a>model &amp; tables</h2><p>æ¨¡å‹æ˜¯å•æ•°<br>è¡¨æ˜¯å¤æ•°</p><h2 id="migrations"><a href="#migrations" class="headerlink" title="migrations"></a>migrations</h2><h2 id="models"><a href="#models" class="headerlink" title="models"></a>models</h2><h2 id="routes"><a href="#routes" class="headerlink" title="routes"></a>routes</h2><h2 id="seeders"><a href="#seeders" class="headerlink" title="seeders"></a>seeders</h2><h1 id="Nodejs"><a href="#Nodejs" class="headerlink" title="Nodejs"></a>Nodejs</h1><p><a href="https://www.bilibili.com/video/av38925557" target="_blank" rel="noopener">https://www.bilibili.com/video/av38925557</a></p><h2 id="è‡ªå®šä¹‰æ¨¡å—"><a href="#è‡ªå®šä¹‰æ¨¡å—" class="headerlink" title="è‡ªå®šä¹‰æ¨¡å—"></a>è‡ªå®šä¹‰æ¨¡å—</h2><p>è¦è®©å¤–éƒ¨è®¿é—®æ¨¡å—é‡Œé¢çš„æ–¹æ³•</p><h3 id="æ¨¡å—æ–‡ä»¶ä¸­ï¼šç”¨exports-amp-module-exportsæš´éœ²æ–¹æ³•"><a href="#æ¨¡å—æ–‡ä»¶ä¸­ï¼šç”¨exports-amp-module-exportsæš´éœ²æ–¹æ³•" class="headerlink" title="æ¨¡å—æ–‡ä»¶ä¸­ï¼šç”¨exports &amp; module.exportsæš´éœ²æ–¹æ³•"></a>æ¨¡å—æ–‡ä»¶ä¸­ï¼šç”¨exports &amp; module.exportsæš´éœ²æ–¹æ³•</h3><p>exportsä¸module.exportsçš„ä¸åŒ:  </p><pre class=" language-js"><code class="language-js"><span class="token number">1</span><span class="token punctuation">.</span>exports<span class="token punctuation">.</span><span class="token operator">/</span>node_modules<span class="token operator">/</span>nav<span class="token operator">/</span>nav<span class="token punctuation">.</span>js<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'this is /node_modules/nav/nav.js'</span><span class="token punctuation">;</span>exports<span class="token punctuation">.</span>str<span class="token operator">=</span>str<span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token operator">/</span>useNav<span class="token punctuation">.</span>jsconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nav<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// { str: 'this is /node_modules/nav/nav.js' }</span><span class="token number">2</span><span class="token punctuation">.</span>module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span><span class="token operator">/</span>node_modules<span class="token operator">/</span>nav<span class="token operator">/</span>nav<span class="token punctuation">.</span>js<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'this is /node_modules/nav/nav.js'</span><span class="token punctuation">;</span>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> str<span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token operator">/</span>useNav<span class="token punctuation">.</span>jsconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>nav<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// this is /node_modules/nav/nav.js'</span></code></pre><h3 id="éœ€è¦è®¿é—®æ¨¡å—çš„æ–‡ä»¶ä¸­ï¼šrequire-â€˜modelâ€™"><a href="#éœ€è¦è®¿é—®æ¨¡å—çš„æ–‡ä»¶ä¸­ï¼šrequire-â€˜modelâ€™" class="headerlink" title="éœ€è¦è®¿é—®æ¨¡å—çš„æ–‡ä»¶ä¸­ï¼šrequire(â€˜modelâ€™);"></a>éœ€è¦è®¿é—®æ¨¡å—çš„æ–‡ä»¶ä¸­ï¼šrequire(â€˜modelâ€™);</h3><h3 id="require"><a href="#require" class="headerlink" title="require"></a>require</h3><pre class=" language-js"><code class="language-js"><span class="token punctuation">.</span>jså¯çœç•¥ç»å¯¹è·¯å¾„å†™æ³•<span class="token punctuation">:</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./node_modules/bar/bar.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./node_modules/bar/bar'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ä½äºnode_modulesä¸‹çš„å†™æ³•<span class="token punctuation">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nav/nav'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>é…ç½®<span class="token keyword">package</span><span class="token punctuation">.</span>jsonåçš„å†™æ³•<span class="token punctuation">:</span><span class="token punctuation">.</span><span class="token operator">/</span>node_modules<span class="token operator">/</span>bar<span class="token operator">/</span><span class="token keyword">package</span><span class="token punctuation">.</span>json  <span class="token string">"main"</span><span class="token punctuation">:</span> <span class="token string">"nav.js"</span><span class="token punctuation">.</span><span class="token operator">/</span>useNav<span class="token punctuation">.</span>js<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nav'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="nodemon"><a href="#nodemon" class="headerlink" title="nodemon"></a>nodemon</h2><p>è‡ªåŠ¨æ›´æ–°ä»£ç å¹¶è¿è¡Œ</p><pre class=" language-js"><code class="language-js">npm i nodemon <span class="token operator">-</span>s<span class="token punctuation">.</span><span class="token operator">/</span><span class="token keyword">package</span><span class="token punctuation">.</span>json<span class="token punctuation">:</span><span class="token string">"scripts"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token string">"start"</span><span class="token punctuation">:</span> <span class="token string">"nodemon ./yourFile"</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>npm start</code></pre><h2 id="http"><a href="#http" class="headerlink" title="http"></a>http</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">let</span> app <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token punctuation">{</span>    res<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">"Content-Type"</span><span class="token punctuation">:</span> <span class="token string">"text/html;charset='utf-8'"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    res<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"hello nodejs"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>url<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">"www.baidu.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åœ°å€åˆ°å¯¹è±¡</span>url<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//å¯¹è±¡åˆ°åœ°å€</span>    <span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>url<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"http://www.baidu.com"</span><span class="token punctuation">,</span> <span class="token string">'news'</span><span class="token punctuation">)</span></code></pre><h2 id="fs"><a href="#fs" class="headerlink" title="fs"></a>fs</h2><pre class=" language-js"><code class="language-js">fs<span class="token punctuation">.</span><span class="token function">stat</span><span class="token punctuation">(</span><span class="token string">'httpmodel.js'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> stats<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment" spellcheck="true">//æ–‡ä»¶ä¿¡æ¯</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'file:'</span> <span class="token operator">+</span> stats<span class="token punctuation">.</span><span class="token function">isFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'directory:'</span> <span class="token operator">+</span> stats<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>fs<span class="token punctuation">.</span><span class="token function">mkdir</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">,</span>callback<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//make directory</span>fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token string">'file'</span><span class="token punctuation">,</span><span class="token string">'content'</span><span class="token punctuation">,</span>callback<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//ä¼šè¦†ç›–åŸæ¥çš„</span>fs<span class="token punctuation">.</span><span class="token function">appendFile</span><span class="token punctuation">(</span><span class="token string">'file'</span><span class="token punctuation">,</span><span class="token string">'content'</span><span class="token punctuation">,</span>callback<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//åœ¨æ–‡ä»¶åé¢åŠ ä¸Šå»</span>fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'t.txt'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>fs<span class="token punctuation">.</span><span class="token function">readdir</span><span class="token punctuation">(</span><span class="token string">'dir'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>fs<span class="token punctuation">.</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token string">'./app.js'</span><span class="token punctuation">,</span><span class="token string">'app/app.js'</span><span class="token punctuation">,</span>callback<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//æ”¹åæˆ–å‰ªåˆ‡</span>fs<span class="token punctuation">.</span><span class="token function">rmdir</span><span class="token punctuation">(</span><span class="token string">'dir'</span><span class="token punctuation">,</span>callback<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//remove directory</span>fs<span class="token punctuation">.</span><span class="token function">unlink</span><span class="token punctuation">(</span><span class="token string">'file'</span><span class="token punctuation">,</span>callback<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//åˆ é™¤æ–‡ä»¶</span></code></pre><h3 id="find-all-directories-in-one-directory"><a href="#find-all-directories-in-one-directory" class="headerlink" title="find all directories in one directory"></a>find all directories in one directory</h3><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//let filesArr = [];</span>fs<span class="token punctuation">.</span><span class="token function">readdir</span><span class="token punctuation">(</span><span class="token string">'upload'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> files<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> files<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//letå¤§æ³•å¥½</span>            fs<span class="token punctuation">.</span><span class="token function">stat</span><span class="token punctuation">(</span>files<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> stats<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>files<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true">// (function getFile(i) {      //å¼‚æ­¥+å‡½æ•°+é€’å½’</span>        <span class="token comment" spellcheck="true">//     if (i == files.length) {</span>        <span class="token comment" spellcheck="true">//         console.log(filesArr);</span>        <span class="token comment" spellcheck="true">//         return false;</span>        <span class="token comment" spellcheck="true">//     }</span>        <span class="token comment" spellcheck="true">//     fs.stat('html/' + files[i], function (err, stats) {</span>        <span class="token comment" spellcheck="true">//         if (files[i].isDirectory) {</span>        <span class="token comment" spellcheck="true">//             filesArr.push(files[i]);</span>        <span class="token comment" spellcheck="true">//         }</span>        <span class="token comment" spellcheck="true">//         getFile(i + 1);</span>        <span class="token comment" spellcheck="true">//     })</span>        <span class="token comment" spellcheck="true">// })(0)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre><h2 id="let-amp-var"><a href="#let-amp-var" class="headerlink" title="let &amp; var"></a>let &amp; var</h2><p><a href="http://es6.ruanyifeng.com/#docs/let" target="_blank" rel="noopener">http://es6.ruanyifeng.com/#docs/let</a></p><pre class=" language-js"><code class="language-js"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token number">4</span><span class="token number">4</span><span class="token number">4</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token number">1</span><span class="token number">2</span><span class="token number">3</span></code></pre><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå˜é‡iæ˜¯letå£°æ˜çš„ï¼Œå½“å‰çš„iåªåœ¨æœ¬è½®å¾ªç¯æœ‰æ•ˆï¼Œæ‰€ä»¥æ¯ä¸€æ¬¡å¾ªç¯çš„iå…¶å®éƒ½æ˜¯ä¸€ä¸ªæ–°çš„å˜é‡ã€‚ä½ å¯èƒ½ä¼šé—®ï¼Œå¦‚æœæ¯ä¸€è½®å¾ªç¯çš„å˜é‡iéƒ½æ˜¯é‡æ–°å£°æ˜çš„ï¼Œé‚£å®ƒæ€ä¹ˆçŸ¥é“ä¸Šä¸€è½®å¾ªç¯çš„å€¼ï¼Œä»è€Œè®¡ç®—å‡ºæœ¬è½®å¾ªç¯çš„å€¼ï¼Ÿè¿™æ˜¯å› ä¸º JavaScript å¼•æ“å†…éƒ¨ä¼šè®°ä½ä¸Šä¸€è½®å¾ªç¯çš„å€¼ï¼Œåˆå§‹åŒ–æœ¬è½®çš„å˜é‡iæ—¶ï¼Œå°±åœ¨ä¸Šä¸€è½®å¾ªç¯çš„åŸºç¡€ä¸Šè¿›è¡Œè®¡ç®—ã€‚</p><h2 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// ç­‰åŒäº</span><span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// æ­£å¸¸å‡½æ•°å†™æ³•</span><span class="token keyword">var</span> result <span class="token operator">=</span> values<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// ç®­å¤´å‡½æ•°å†™æ³•</span><span class="token keyword">var</span> result <span class="token operator">=</span> values<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">-</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="Pygame"><a href="#Pygame" class="headerlink" title="Pygame"></a>Pygame</h2><p><a href="https://mp.weixin.qq.com/s/Or84egkjMzG3YC8Ed6n1kw" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/Or84egkjMzG3YC8Ed6n1kw</a></p><pre class=" language-python"><code class="language-python">pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_mode<span class="token punctuation">(</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span>height<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#çª—å£å¤§å°</span>pygame<span class="token punctuation">.</span>display<span class="token punctuation">.</span>set_caption<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">#æ ‡é¢˜æ </span><span class="token keyword">def</span> <span class="token function">draw_rect</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> position<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment" spellcheck="true">#ç»˜åˆ¶çŸ©å½¢</span>    pygame<span class="token punctuation">.</span>draw<span class="token punctuation">.</span>rect<span class="token punctuation">(</span>caption<span class="token punctuation">,</span> color<span class="token punctuation">,</span> pygame<span class="token punctuation">.</span>Rect<span class="token punctuation">(</span>position<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> position<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cell<span class="token punctuation">,</span> cell<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true">#Rect:((x, y), (width, height)) ä»¥(x,y)ä¸ºå·¦ä¸Šè§’ï¼Œç»˜åˆ¶width*heightçš„çŸ©å½¢</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Sequelize </tag>
            
            <tag> Node.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>10.13 Notes</title>
      <link href="/2019/10/13/2019/10.13/"/>
      <url>/2019/10/13/2019/10.13/</url>
      
        <content type="html"><![CDATA[<h1 id="10-7-10-13-Learning-Notes"><a href="#10-7-10-13-Learning-Notes" class="headerlink" title="10.7-10.13 Learning Notes"></a>10.7-10.13 Learning Notes</h1><p>by Huang Yongjin</p><h1 id="JS-Learning"><a href="#JS-Learning" class="headerlink" title="JS Learning"></a>JS Learning</h1><p><a href="https://wangdoc.com/javascript/index.html" target="_blank" rel="noopener">https://wangdoc.com/javascript/index.html</a><br><a href="http://es6.ruanyifeng.com/#docs/style#Class" target="_blank" rel="noopener">http://es6.ruanyifeng.com/#docs/style#Class</a>  </p><h2 id="å˜é‡æå‡ï¼ˆhoistingï¼‰"><a href="#å˜é‡æå‡ï¼ˆhoistingï¼‰" class="headerlink" title="å˜é‡æå‡ï¼ˆhoistingï¼‰"></a>å˜é‡æå‡ï¼ˆhoistingï¼‰</h2><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//å…ˆè§£æä»£ç ï¼Œè·å–æ‰€æœ‰è¢«å£°æ˜çš„å˜é‡ï¼Œç„¶åå†ä¸€è¡Œä¸€è¡Œåœ°è¿è¡Œ</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></code></pre><h2 id="use-let-instead-of-var"><a href="#use-let-instead-of-var" class="headerlink" title="use let instead of var"></a><strong>use let instead of var</strong></h2><h3 id="let-ä¸ä¼šå˜é‡æå‡"><a href="#let-ä¸ä¼šå˜é‡æå‡" class="headerlink" title="let ä¸ä¼šå˜é‡æå‡"></a>let ä¸ä¼šå˜é‡æå‡</h3><h3 id="let-åªåœ¨å—çº§ä½œç”¨åŸŸä¸­æœ‰æ•ˆ"><a href="#let-åªåœ¨å—çº§ä½œç”¨åŸŸä¸­æœ‰æ•ˆ" class="headerlink" title="let åªåœ¨å—çº§ä½œç”¨åŸŸä¸­æœ‰æ•ˆ"></a>let åªåœ¨å—çº§ä½œç”¨åŸŸä¸­æœ‰æ•ˆ</h3><h3 id="let-æš‚æ—¶æ€§æ­»åŒº"><a href="#let-æš‚æ—¶æ€§æ­»åŒº" class="headerlink" title="let æš‚æ—¶æ€§æ­»åŒº"></a>let æš‚æ—¶æ€§æ­»åŒº</h3><p>ES6 æ˜ç¡®è§„å®šï¼Œå¦‚æœåŒºå—ä¸­å­˜åœ¨letå’Œconstå‘½ä»¤ï¼Œè¿™ä¸ªåŒºå—å¯¹è¿™äº›å‘½ä»¤å£°æ˜çš„å˜é‡ï¼Œä»ä¸€å¼€å§‹å°±å½¢æˆäº†å°é—­ä½œç”¨åŸŸã€‚å‡¡æ˜¯åœ¨å£°æ˜ä¹‹å‰å°±ä½¿ç”¨è¿™äº›å˜é‡ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  tmp <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ReferenceError</span>  <span class="token keyword">let</span> tmp<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦-amp-ç›¸ç­‰è¿ç®—ç¬¦"><a href="#ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦-amp-ç›¸ç­‰è¿ç®—ç¬¦" class="headerlink" title="ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ &amp; ç›¸ç­‰è¿ç®—ç¬¦"></a>ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ &amp; ç›¸ç­‰è¿ç®—ç¬¦</h2><p>ç›¸ç­‰è¿ç®—ç¬¦ä¼šè‡ªåŠ¨è½¬æ¢å˜é‡ç±»å‹ï¼Œé€ æˆå¾ˆå¤šæ„æƒ³ä¸åˆ°çš„æƒ…å†µã€‚<br><strong>å› æ­¤ï¼Œå»ºè®®ä¸è¦ä½¿ç”¨ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ==ï¼‰ï¼Œåªä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ===ï¼‰ã€‚</strong></p><pre class=" language-js"><code class="language-js"><span class="token number">1</span><span class="token operator">==</span><span class="token string">'1'</span> <span class="token comment" spellcheck="true">//return true</span><span class="token number">1</span><span class="token operator">===</span><span class="token string">'1'</span> <span class="token comment" spellcheck="true">//return false</span></code></pre><h2 id="check-var"><a href="#check-var" class="headerlink" title="check var"></a>check var</h2><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// é”™è¯¯çš„å†™æ³•</span><span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// ...</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// ReferenceError: v is not defined</span><span class="token comment" spellcheck="true">// æ­£ç¡®çš„å†™æ³•</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> v <span class="token operator">===</span> <span class="token string">"undefined"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// ...</span><span class="token punctuation">}</span></code></pre><h2 id="int-float64"><a href="#int-float64" class="headerlink" title="int? float64!"></a>int? float64!</h2><p>JavaScript å†…éƒ¨ï¼Œæ‰€æœ‰æ•°å­—éƒ½æ˜¯ä»¥64ä½æµ®ç‚¹æ•°å½¢å¼å‚¨å­˜ï¼Œå³ä½¿æ•´æ•°ä¹Ÿæ˜¯å¦‚æ­¤ã€‚æ‰€ä»¥ï¼Œ1ä¸1.0æ˜¯ç›¸åŒçš„ï¼Œæ˜¯åŒä¸€ä¸ªæ•°ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token number">1</span> <span class="token operator">===</span> <span class="token number">1.0</span> <span class="token comment" spellcheck="true">// true</span><span class="token comment" spellcheck="true">//è¿™å°±æ˜¯è¯´ï¼ŒJavaScript è¯­è¨€çš„åº•å±‚æ ¹æœ¬æ²¡æœ‰æ•´æ•°ï¼Œæ‰€æœ‰æ•°å­—éƒ½æ˜¯å°æ•°ï¼ˆ64ä½æµ®ç‚¹æ•°ï¼‰</span></code></pre><h2 id="object"><a href="#object" class="headerlink" title="object"></a>object</h2><p>ä»€ä¹ˆæ˜¯å¯¹è±¡ï¼Ÿ  ç®€å•è¯´ï¼Œå¯¹è±¡å°±æ˜¯ä¸€ç»„â€œé”®å€¼å¯¹â€ï¼ˆkey-valueï¼‰çš„é›†åˆï¼Œæ˜¯ä¸€ç§æ— åºçš„å¤åˆæ•°æ®é›†åˆã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>  foo<span class="token punctuation">:</span> <span class="token string">'Hello'</span><span class="token punctuation">,</span><span class="token comment" spellcheck="true">//use , to separate</span>  bar<span class="token punctuation">:</span> <span class="token string">'World'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//['foo','bar']</span><span class="token keyword">delete</span> obj<span class="token punctuation">.</span>foo<span class="token punctuation">;</span>obj<span class="token punctuation">.</span>foo<span class="token comment" spellcheck="true">//undefined</span><span class="token comment" spellcheck="true">//éå†å¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œä¸åŒ…æ‹¬ç»§æ‰¿çš„</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="function"><a href="#function" class="headerlink" title="function"></a>function</h2><p>functionå‘½ä»¤å£°æ˜çš„ä»£ç åŒºå—ï¼Œå°±æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚functionå‘½ä»¤åé¢æ˜¯å‡½æ•°åï¼Œå‡½æ•°ååé¢æ˜¯ä¸€å¯¹åœ†æ‹¬å·ï¼Œé‡Œé¢æ˜¯ä¼ å…¥å‡½æ•°çš„å‚æ•°ã€‚å‡½æ•°ä½“æ”¾åœ¨å¤§æ‹¬å·é‡Œé¢ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//ä¸€æ˜¯å¯ä»¥åœ¨å‡½æ•°ä½“å†…éƒ¨è°ƒç”¨è‡ªèº«ï¼ŒäºŒæ˜¯æ–¹ä¾¿é™¤é”™ï¼ˆé™¤é”™å·¥å…·æ˜¾ç¤ºå‡½æ•°è°ƒç”¨æ ˆæ—¶ï¼Œå°†æ˜¾ç¤ºå‡½æ•°åï¼Œè€Œä¸å†æ˜¾ç¤ºè¿™é‡Œæ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼‰</span><span class="token keyword">var</span> print <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>x<span class="token comment" spellcheck="true">// ReferenceError: x is not defined</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// function</span></code></pre><p>å‡½æ•°ä¸å…¶å®ƒå€¼ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ç­‰ç­‰ï¼‰åœ°ä½ç›¸åŒ</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> x ## y<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// å°†å‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡</span><span class="token keyword">var</span> operator <span class="token operator">=</span> add<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// å°†å‡½æ•°ä½œä¸ºå‚æ•°å’Œè¿”å›å€¼</span><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span>op<span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token keyword">return</span> op<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">a</span><span class="token punctuation">(</span>add<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">// 2</span></code></pre><p>å‡½æ•°ä½œç”¨åŸŸï¼ˆscopeï¼‰<br>å‡½æ•°æ‰§è¡Œæ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸï¼Œæ˜¯å®šä¹‰æ—¶çš„ä½œç”¨åŸŸï¼Œè€Œä¸æ˜¯è°ƒç”¨æ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// return 1</span><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">y</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token function">y</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token comment" spellcheck="true">// ReferenceError: a is not defined</span></code></pre><h2 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h2><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">999</span><span class="token punctuation">;</span>  <span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> f2<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">result</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 999</span></code></pre><p>é—­åŒ…å°±æ˜¯å‡½æ•°f2ï¼Œå³èƒ½å¤Ÿè¯»å–å…¶ä»–å‡½æ•°å†…éƒ¨å˜é‡çš„å‡½æ•°ã€‚ç”±äºåœ¨ JavaScript è¯­è¨€ä¸­ï¼Œåªæœ‰å‡½æ•°å†…éƒ¨çš„å­å‡½æ•°æ‰èƒ½è¯»å–å†…éƒ¨å˜é‡ï¼Œå› æ­¤å¯ä»¥æŠŠé—­åŒ…ç®€å•ç†è§£æˆâ€œå®šä¹‰åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„å‡½æ•°â€ã€‚é—­åŒ…æœ€å¤§çš„ç‰¹ç‚¹ï¼Œå°±æ˜¯å®ƒå¯ä»¥â€œè®°ä½â€è¯ç”Ÿçš„ç¯å¢ƒï¼Œæ¯”å¦‚f2è®°ä½äº†å®ƒè¯ç”Ÿçš„ç¯å¢ƒf1ï¼Œæ‰€ä»¥ä»f2å¯ä»¥å¾—åˆ°f1çš„å†…éƒ¨å˜é‡ã€‚åœ¨æœ¬è´¨ä¸Šï¼Œé—­åŒ…å°±æ˜¯å°†å‡½æ•°å†…éƒ¨å’Œå‡½æ•°å¤–éƒ¨è¿æ¥èµ·æ¥çš„ä¸€åº§æ¡¥æ¢ã€‚  </p><p>é—­åŒ…çš„æœ€å¤§ç”¨å¤„æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯å¯ä»¥è¯»å–å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œå¦ä¸€ä¸ªå°±æ˜¯è®©è¿™äº›å˜é‡å§‹ç»ˆä¿æŒåœ¨å†…å­˜ä¸­ï¼Œå³é—­åŒ…å¯ä»¥ä½¿å¾—å®ƒè¯ç”Ÿç¯å¢ƒä¸€ç›´å­˜åœ¨ã€‚è¯·çœ‹ä¸‹é¢çš„ä¾‹å­ï¼Œé—­åŒ…ä½¿å¾—å†…éƒ¨å˜é‡è®°ä½ä¸Šä¸€æ¬¡è°ƒç”¨æ—¶çš„è¿ç®—ç»“æœã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">createIncrementor</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> start<span class="token operator">++</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">var</span> inc <span class="token operator">=</span> <span class="token function">createIncrementor</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 5</span><span class="token function">inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 6</span><span class="token function">inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 7</span></code></pre><p>é—­åŒ…çš„å¦ä¸€ä¸ªç”¨å¤„ï¼Œæ˜¯å°è£…å¯¹è±¡çš„ç§æœ‰å±æ€§å’Œç§æœ‰æ–¹æ³•ã€‚</p><pre class=" language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> _age<span class="token punctuation">;</span>  <span class="token keyword">function</span> <span class="token function">setAge</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    _age <span class="token operator">=</span> n<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">function</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> _age<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> <span class="token punctuation">{</span>    name<span class="token punctuation">:</span> name<span class="token punctuation">,</span>    getAge<span class="token punctuation">:</span> getAge<span class="token punctuation">,</span>    setAge<span class="token punctuation">:</span> setAge  <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token string">'å¼ ä¸‰'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>p1<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>p1<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 25</span></code></pre><h2 id="é”™è¯¯å¤„ç†æœºåˆ¶"><a href="#é”™è¯¯å¤„ç†æœºåˆ¶" class="headerlink" title="é”™è¯¯å¤„ç†æœºåˆ¶"></a>é”™è¯¯å¤„ç†æœºåˆ¶</h2><p>throw</p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">//è‡ªå®šä¹‰error</span><span class="token keyword">function</span> <span class="token function">UserError</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> message <span class="token operator">||</span> <span class="token string">'é»˜è®¤ä¿¡æ¯'</span><span class="token punctuation">;</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'UserError'</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">UserError</span><span class="token punctuation">(</span><span class="token string">'å‡ºé”™äº†ï¼'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// Uncaught UserError {message: "å‡ºé”™äº†ï¼", name: "UserError"}</span><span class="token comment" spellcheck="true">//å®é™…ä¸Šï¼Œthrowå¯ä»¥æŠ›å‡ºä»»ä½•ç±»å‹çš„å€¼</span><span class="token comment" spellcheck="true">// æŠ›å‡ºä¸€ä¸ªå­—ç¬¦ä¸²</span><span class="token keyword">throw</span> <span class="token string">'Errorï¼'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// Uncaught Errorï¼</span><span class="token comment" spellcheck="true">// æŠ›å‡ºä¸€ä¸ªæ•°å€¼</span><span class="token keyword">throw</span> <span class="token number">42</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// Uncaught 42</span><span class="token comment" spellcheck="true">// æŠ›å‡ºä¸€ä¸ªå¸ƒå°”å€¼</span><span class="token keyword">throw</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// Uncaught true</span><span class="token comment" spellcheck="true">// æŠ›å‡ºä¸€ä¸ªå¯¹è±¡</span><span class="token keyword">throw</span> <span class="token punctuation">{</span>  toString<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token string">'Error!'</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// Uncaught {toString: Æ’}</span></code></pre><p>tryâ€¦catch<br>å¦‚æœä½ ä¸ç¡®å®šæŸäº›ä»£ç æ˜¯å¦ä¼šæŠ¥é”™ï¼Œå°±å¯ä»¥æŠŠå®ƒä»¬æ”¾åœ¨tryâ€¦catchä»£ç å—ä¹‹ä¸­ï¼Œä¾¿äºè¿›ä¸€æ­¥å¯¹é”™è¯¯è¿›è¡Œå¤„ç†</p><pre class=" language-js"><code class="language-js"><span class="token keyword">try</span> <span class="token punctuation">{</span>  <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"catch error"</span><span class="token punctuation">)</span>t  <span class="token comment" spellcheck="true">// å¤„ç†é”™è¯¯</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//tryä»£ç å—æŠ›å‡ºçš„é”™è¯¯ï¼Œè¢«catchä»£ç å—æ•è·åï¼Œç¨‹åºä¼šç»§ç»­å‘ä¸‹æ‰§è¡Œã€‚</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"continue"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>tryâ€¦catchâ€¦finally</p><pre class=" language-js"><code class="language-js"><span class="token function">openFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">try</span> <span class="token punctuation">{</span>  <span class="token function">writeFile</span><span class="token punctuation">(</span>Data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">handleError</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>  <span class="token function">closeFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>ä¸Šé¢ä»£ç é¦–å…ˆæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶ååœ¨tryä»£ç å—ä¸­å†™å…¥æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰å‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿è¡Œfinallyä»£ç å—å…³é—­æ–‡ä»¶ï¼›ä¸€æ—¦å‘ç”Ÿé”™è¯¯ï¼Œåˆ™å…ˆä½¿ç”¨catchä»£ç å—å¤„ç†é”™è¯¯ï¼Œå†ä½¿ç”¨finallyä»£ç å—å…³é—­æ–‡ä»¶ã€‚</p><h2 id="console"><a href="#console" class="headerlink" title="console"></a>console</h2><p>console.log</p><ul><li>%s å­—ç¬¦ä¸²</li><li>%d æ•´æ•°</li><li>%f æµ®ç‚¹æ•°</li><li>%o å¯¹è±¡çš„é“¾æ¥</li><li>%c CSS æ ¼å¼å­—ç¬¦ä¸²<pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">' %s + %s = %s'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//  1 + 1 = 2</span></code></pre>console.warn() &amp; console.error()<br>ç‰¹æ®Šå›¾æ ‡</li></ul><p>console.count()<br>countæ–¹æ³•ç”¨äºè®¡æ•°ï¼Œè¾“å‡ºå®ƒè¢«è°ƒç”¨äº†å¤šå°‘æ¬¡ã€‚</p><p>console.time() &amp; console.timeEnd()<br>è®¡ç®—ç¨‹åºè¿è¡Œæ—¶é—´</p><pre class=" language-js"><code class="language-js">console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">'Array initialize'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">var</span> array<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">'Array initialize'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// Array initialize: 1914.481ms</span></code></pre><h1 id="install-mysql"><a href="#install-mysql" class="headerlink" title="install mysql"></a>install mysql</h1><p><a href="https://zhuanlan.zhihu.com/p/42583126" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/42583126</a><br>my.iniä¸­çš„ç›®å½•è¦å¡«å¯¹<br>å­¦ä¼šçœ‹é”™è¯¯ä¿¡æ¯</p><h1 id="Sequelize"><a href="#Sequelize" class="headerlink" title="Sequelize"></a>Sequelize</h1><p><a href="https://juejin.im/post/5c259cf46fb9a049eb3bff49" target="_blank" rel="noopener">https://juejin.im/post/5c259cf46fb9a049eb3bff49</a><br><a href="https://github.com/demopark/sequelize-docs-Zh-CN" target="_blank" rel="noopener">https://github.com/demopark/sequelize-docs-Zh-CN</a></p><h2 id="connection"><a href="#connection" class="headerlink" title="connection"></a>connection</h2><p>Problem One:<br>Please install mysql2 package manually<br><a href="https://stackoverflow.com/questions/17667368/sequelize-js-you-need-to-install-mysql-package-manually" target="_blank" rel="noopener">https://stackoverflow.com/questions/17667368/sequelize-js-you-need-to-install-mysql-package-manually</a></p><p>Problem Two:<br>Client does not support authentication protocol requested by server<br><a href="https://blog.csdn.net/u013700358/article/details/80306560" target="_blank" rel="noopener">https://blog.csdn.net/u013700358/article/details/80306560</a></p><pre class=" language-js"><code class="language-js"><span class="token keyword">const</span> Sequelize <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'sequelize'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> sequelize <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sequelize</span><span class="token punctuation">(</span>    <span class="token string">'test'</span><span class="token punctuation">,</span>    <span class="token string">'root'</span><span class="token punctuation">,</span>    <span class="token string">'112233asd'</span><span class="token punctuation">,</span>    <span class="token punctuation">{</span>        host<span class="token punctuation">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span>        dialect<span class="token punctuation">:</span> <span class="token string">'mysql'</span><span class="token punctuation">,</span>        pool<span class="token punctuation">:</span> <span class="token punctuation">{</span>            max<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>            min<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>            acquire<span class="token punctuation">:</span> <span class="token number">30000</span><span class="token punctuation">,</span>            idle<span class="token punctuation">:</span> <span class="token number">10000</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//æµ‹è¯•è¿æ¥</span>sequelize    <span class="token punctuation">.</span><span class="token function">authenticate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Connection has been established successfully.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'Unable to connect to the database:'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h2 id="module"><a href="#module" class="headerlink" title="module"></a>module</h2><p>ä¸€ä¸ªæ¨¡å‹ç±»å¯¹åº”ä¸€ä¸ªè¡¨ï¼Œä¸€ä¸ªæ¨¡å‹å®ä¾‹å¯¹è±¡ï¼ˆDAOï¼‰å°±æ˜¯ä¸€æ¡å¯¹åº”çš„è¡¨è®°å½•  </p><pre class=" language-js"><code class="language-js"><span class="token comment" spellcheck="true">// åˆ›å»ºæ¨¡å‹å®ä¾‹å¯¹è±¡ public static build(options: Object): Model | Model[]</span><span class="token comment" spellcheck="true">// optionsï¼šä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹åº”çš„å°±æ˜¯è¡¨ä¸­çš„å­—æ®µï¼ˆæ¨¡å‹ä¸­å®šä¹‰çš„å±æ€§ï¼‰ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å¯¹è¯¥å¯¹è±¡çš„æ“ä½œä¸ä¼šç«‹å³ååº”åˆ°å®é™…çš„æ•°æ®åº“ä¸­ï¼Œéœ€è¦é€šè¿‡åç»­çš„æ“ä½œè¿›è¡ŒåŒæ­¥æ¯”å¦‚save</span>attr<span class="token operator">=</span> <span class="token punctuation">{</span>    id<span class="token punctuation">:</span><span class="token string">"test"</span><span class="token punctuation">,</span>    content<span class="token punctuation">:</span><span class="token string">"iscontent"</span><span class="token punctuation">,</span>    titile<span class="token punctuation">:</span><span class="token string">"istitle"</span><span class="token punctuation">}</span><span class="token keyword">let</span> projectInstance <span class="token operator">=</span> Project<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>attr<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// åˆ›å»ºå®ä¾‹å¯¹è±¡</span><span class="token comment" spellcheck="true">// å®ä¾‹æ–¹æ³•</span>projectInstance<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// éªŒè¯è¯¥å®ä¾‹ï¼Œå¦‚æœé€šè¿‡éªŒè¯ï¼Œåˆ™æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­</span>projectInstance<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>updates<span class="token punctuation">:</span> Object<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// updatesï¼šè¦æ›´æ–°çš„å­—æ®µï¼Œè°ƒç”¨è¯¥æ–¹æ³•ç­‰åŒäºè°ƒç”¨.set()ç„¶å.save()</span>projectInstance<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// é”€æ¯è¯¥å®ä¾‹ï¼ˆå‡åˆ é™¤æˆ–çœŸåˆ é™¤ï¼‰</span><span class="token comment" spellcheck="true">//  public static create(values: Object, options: Object): Promise&lt;Model></span><span class="token comment" spellcheck="true">// æ„å»ºä¸€ä¸ªæ–°çš„æ¨¡å‹å®ä¾‹ï¼Œå¹¶è¿›è¡Œä¿å­˜ã€‚ä¸build()æ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œæ­¤æ–¹æ³•é™¤åˆ›å»ºæ–°å®ä¾‹å¤–ï¼Œè¿˜ä¼šå°†å…¶ä¿å­˜åˆ°å¯¹åº”æ•°æ®åº“è¡¨ä¸­ã€‚</span><span class="token keyword">await</span> Project<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>attr<span class="token punctuation">)</span></code></pre><h1 id="Use-Latex-to-write-mathematic-formula"><a href="#Use-Latex-to-write-mathematic-formula" class="headerlink" title="Use Latex to write mathematic formula"></a>Use Latex to write mathematic formula</h1><h2 id="install-latex"><a href="#install-latex" class="headerlink" title="install latex"></a>install latex</h2><p><a href="https://zhuanlan.zhihu.com/p/38178015" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/38178015</a><br>texlive default installation and use eduroam</p><h2 id="latex-markdown"><a href="#latex-markdown" class="headerlink" title="latex+markdown"></a>latex+markdown</h2><h3 id="single"><a href="#single" class="headerlink" title="single $"></a>single $</h3><h3 id="pi"><a href="#pi" class="headerlink" title="$\pi$"></a>$\pi$</h3><h3 id="double"><a href="#double" class="headerlink" title="double $$"></a>double $$</h3><p>$$x^3+2x=1$$  </p><h2 id="basic-grammar"><a href="#basic-grammar" class="headerlink" title="basic grammar"></a>basic grammar</h2><h3 id="æ¢è¡Œ"><a href="#æ¢è¡Œ" class="headerlink" title="\\ æ¢è¡Œ"></a>\\ æ¢è¡Œ</h3><h3 id="å…¬å¼"><a href="#å…¬å¼" class="headerlink" title="$ $ å…¬å¼"></a>$ $ å…¬å¼</h3><h3 id="begin-equation-end-equation-å…¬å¼å—"><a href="#begin-equation-end-equation-å…¬å¼å—" class="headerlink" title="\begin{equation} \end{equation} å…¬å¼å—"></a>\begin{equation} \end{equation} å…¬å¼å—</h3><h3 id="frac-1-x"><a href="#frac-1-x" class="headerlink" title="frac{1}{x}"></a>frac{1}{x}</h3><p>$$\frac{1}{x}$$</p><h3 id="sqrt-3-x"><a href="#sqrt-3-x" class="headerlink" title="sqrt[3]{x}"></a>sqrt[3]{x}</h3><p>$$\sqrt[3]{x}$$</p><h3 id="lim-x-to-infty-frac-1-x"><a href="#lim-x-to-infty-frac-1-x" class="headerlink" title="lim_{x \to \infty}\frac{1}{x}"></a>lim_{x \to \infty}\frac{1}{x}</h3><p>$$lim_{x \to \infty}\frac{1}{x}$$</p><h3 id="x-n"><a href="#x-n" class="headerlink" title="x_n"></a>x_n</h3><p>$$x_n$$</p><h3 id="x-quad-y"><a href="#x-quad-y" class="headerlink" title="x\quad y"></a>x\quad y</h3><p>$$x\quad y$$</p><h3 id="begin-cases-end-cases"><a href="#begin-cases-end-cases" class="headerlink" title="\begin{cases} \end{cases}"></a>\begin{cases} \end{cases}</h3><p>$$f(s)=\begin{cases}<br>\frac{s^3-1}{s^2-1},\quad s\not=\pm1 \<br>\frac{3}{2},\quad s=1<br>\end{cases}$$</p><h2 id="pandoc"><a href="#pandoc" class="headerlink" title="pandoc"></a>pandoc</h2><h3 id="save-as-pdf"><a href="#save-as-pdf" class="headerlink" title="save as .pdf"></a>save as .pdf</h3><p>â€“pdf-engine=xelatex </p><h3 id="docx-html"><a href="#docx-html" class="headerlink" title=".docx .html"></a>.docx .html</h3><h1 id="Arduino"><a href="#Arduino" class="headerlink" title="Arduino"></a>Arduino</h1><h2 id="connect-arduino-nano-to-computer"><a href="#connect-arduino-nano-to-computer" class="headerlink" title="connect arduino nano to computer"></a>connect arduino nano to computer</h2><p><a href="https://www.arduino.cc/en/Guide/ArduinoNano" target="_blank" rel="noopener">https://www.arduino.cc/en/Guide/ArduinoNano</a><br>use ATmega328P (Old Bootloader)</p><h2 id="è®©èˆµæœºè½¬èµ·æ¥"><a href="#è®©èˆµæœºè½¬èµ·æ¥" class="headerlink" title="è®©èˆµæœºè½¬èµ·æ¥"></a>è®©èˆµæœºè½¬èµ·æ¥</h2><p><a href="https://blog.csdn.net/xieyan0811/article/details/56012044" target="_blank" rel="noopener">https://blog.csdn.net/xieyan0811/article/details/56012044</a></p><h1 id="Complexity"><a href="#Complexity" class="headerlink" title="Complexity"></a>Complexity</h1><p>$O(n^c)&lt;O(2^n)$<br>$O(\log^c n)&lt;O(n^\epsilon)$  </p>]]></content>
      
      
      
        <tags>
            
            <tag> Sequelize </tag>
            
            <tag> JS </tag>
            
            <tag> Arduino </tag>
            
            <tag> Latex </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>10.10 Notes</title>
      <link href="/2019/10/10/2019/10.10/"/>
      <url>/2019/10/10/2019/10.10/</url>
      
        <content type="html"><![CDATA[<h1 id="10-4-10-10-Learning-Notes"><a href="#10-4-10-10-Learning-Notes" class="headerlink" title="10.4-10.10 Learning Notes"></a>10.4-10.10 Learning Notes</h1><h1 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h1><p><a href="https://www.cnblogs.com/kevingrace/p/5690241.html" target="_blank" rel="noopener">https://www.cnblogs.com/kevingrace/p/5690241.html</a><br>gitä¸Šä¼ æ—¶å¿½ç•¥è‡ªå®šä¹‰æ–‡ä»¶</p><h2 id="å¦‚æœåŸæ¥æ²¡æœ‰å¿½ç•¥æ€ä¹ˆåŠï¼Ÿï¼Ÿï¼Ÿ"><a href="#å¦‚æœåŸæ¥æ²¡æœ‰å¿½ç•¥æ€ä¹ˆåŠï¼Ÿï¼Ÿï¼Ÿ" class="headerlink" title="å¦‚æœåŸæ¥æ²¡æœ‰å¿½ç•¥æ€ä¹ˆåŠï¼Ÿï¼Ÿï¼Ÿ"></a>å¦‚æœåŸæ¥æ²¡æœ‰å¿½ç•¥æ€ä¹ˆåŠï¼Ÿï¼Ÿï¼Ÿ</h2><p><a href="https://segmentfault.com/q/1010000000430426" target="_blank" rel="noopener">https://segmentfault.com/q/1010000000430426</a><br><a href="https://www.jianshu.com/p/e5b13480479b" target="_blank" rel="noopener">https://www.jianshu.com/p/e5b13480479b</a></p><pre><code>git rm --cashed xxxgit commit -m &quot;delete xxx&quot;</code></pre><p>ä¸ºä»€ä¹ˆæˆ‘å¢åŠ äº† .gitignore é‡Œçš„è§„åˆ™å´æ²¡æœ‰æ•ˆæœï¼Ÿ</p><p>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬è¯¯è§£äº† .gitignore æ–‡ä»¶çš„ç”¨é€”ï¼Œè¯¥æ–‡ä»¶åªèƒ½ä½œç”¨äº Untracked Filesï¼Œä¹Ÿå°±æ˜¯é‚£äº›ä»æ¥æ²¡æœ‰è¢« Git è®°å½•è¿‡çš„æ–‡ä»¶ï¼ˆè‡ªæ·»åŠ ä»¥åï¼Œä»æœª add åŠ commit è¿‡çš„æ–‡ä»¶ï¼‰ã€‚</p><p>ä¹‹æ‰€ä»¥ä½ çš„è§„åˆ™ä¸ç”Ÿæ•ˆï¼Œæ˜¯å› ä¸ºé‚£äº› .log æ–‡ä»¶æ›¾ç»è¢« Git è®°å½•è¿‡ï¼Œå› æ­¤ .gitignore å¯¹å®ƒä»¬å®Œå…¨æ— æ•ˆã€‚è¿™ä¹Ÿæ­£æ˜¯å¼€å¤´é‚£æ®µç®€çŸ­ç­”æ¡ˆæ‰€åšçš„äº‹æƒ…ï¼š</p><p>ä» Git çš„æ•°æ®åº“ä¸­åˆ é™¤å¯¹äºè¯¥æ–‡ä»¶çš„è¿½è¸ªï¼›<br>æŠŠå¯¹åº”çš„è§„åˆ™å†™å…¥ .gitignoreï¼Œè®©å¿½ç•¥çœŸæ­£ç”Ÿæ•ˆï¼›<br>æäº¤ï¼‹æ¨é€ã€‚<br>åªæœ‰è¿™æ ·åšï¼Œæ‰€æœ‰çš„å›¢é˜Ÿæˆå‘˜æ‰ä¼šä¿æŒä¸€è‡´è€Œä¸ä¼šæœ‰åé—ç—‡ï¼Œä¹Ÿåªæœ‰è¿™æ ·åšï¼Œå…¶ä»–çš„å›¢é˜Ÿæˆå‘˜æ ¹æœ¬ä¸éœ€è¦åšé¢å¤–çš„å·¥ä½œæ¥ç»´æŒå¯¹ä¸€ä¸ªæ–‡ä»¶çš„æ”¹å˜å¿½ç•¥ã€‚</p><p>æœ€åæœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„ï¼Œgit rm â€“cached åˆ é™¤çš„æ˜¯è¿½è¸ªçŠ¶æ€ï¼Œè€Œä¸æ˜¯ç‰©ç†æ–‡ä»¶ï¼›å¦‚æœä½ çœŸçš„æ˜¯å½»åº•ä¸æƒ³è¦äº†ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥ rmï¼‹å¿½ç•¥ï¼‹æäº¤ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> gitignore </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>10.6 Notes</title>
      <link href="/2019/10/06/2019/10.6/"/>
      <url>/2019/10/06/2019/10.6/</url>
      
        <content type="html"><![CDATA[<h1 id="9-25-10-6-Learning-Notes"><a href="#9-25-10-6-Learning-Notes" class="headerlink" title="9.25-10.6 Learning Notes"></a>9.25-10.6 Learning Notes</h1><p>by Huang Yongjin</p><h2 id="mysql-basic-grammar"><a href="#mysql-basic-grammar" class="headerlink" title="mysql basic grammar"></a>mysql basic grammar</h2><ul><li>drop &amp; create table</li><li>select insert update</li><li>if where from</li><li><a href="https://www.liaoxuefeng.com/wiki/1177760294764384" target="_blank" rel="noopener">https://www.liaoxuefeng.com/wiki/1177760294764384</a><br><a href="https://www.runoob.com/sql/sql-intro.html" target="_blank" rel="noopener">https://www.runoob.com/sql/sql-intro.html</a></li></ul><h2 id="reading-nodejs-program"><a href="#reading-nodejs-program" class="headerlink" title="reading nodejs program"></a>reading nodejs program</h2><ul><li>input &amp; output</li><li>callback</li><li>function</li><li>require</li><li>exports</li><li>nodejs+sql<ul><li>connection &amp; pool</li></ul></li><li><a href="https://www.runoob.com/nodejs/nodejs-install-setup.html" target="_blank" rel="noopener">https://www.runoob.com/nodejs/nodejs-install-setup.html</a><br><a href="https://www.runoob.com/w3cnote/nodejs-callback-func.html" target="_blank" rel="noopener">https://www.runoob.com/w3cnote/nodejs-callback-func.html</a><br><a href="http://javascript.ruanyifeng.com/nodejs/basic.html#toc3" target="_blank" rel="noopener">http://javascript.ruanyifeng.com/nodejs/basic.html#toc3</a><br><a href="https://gywbd.github.io/posts/2014/11/using-exports-nodejs-interface-design-pattern.html" target="_blank" rel="noopener">https://gywbd.github.io/posts/2014/11/using-exports-nodejs-interface-design-pattern.html</a></li></ul><h2 id="Faker-a-python-package"><a href="#Faker-a-python-package" class="headerlink" title="Faker(a python package)"></a>Faker(a python package)</h2><ul><li>fake.profile()</li><li><a href="https://zhuanlan.zhihu.com/p/37173611" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/37173611</a><br><a href="https://faker.readthedocs.io/en/master/locales/zh_CN.html" target="_blank" rel="noopener">https://faker.readthedocs.io/en/master/locales/zh_CN.html</a></li></ul><h2 id="python-make-data"><a href="#python-make-data" class="headerlink" title="python make data"></a>python make data</h2><ul><li>file input &amp; output</li></ul><h2 id="python-mysql"><a href="#python-mysql" class="headerlink" title="python + mysql"></a>python + mysql</h2><ul><li>cursor.execute()</li><li>generate_person_address.py by Guochao Xie</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Node.js </tag>
            
            <tag> Mysql </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
